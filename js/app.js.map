{"version":3,"file":"app.js","mappings":"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","sources":["webpack://sakurairo-scripts/webpack/runtime/chunk loaded","webpack://sakurairo-scripts/webpack/runtime/create fake namespace object","webpack://sakurairo-scripts/webpack/runtime/load script","webpack://sakurairo-scripts/./node_modules/@mui/utils/debounce.js","webpack://sakurairo-scripts/./node_modules/activate-power-mode/dist/activate-power-mode.js","webpack://sakurairo-scripts/./node_modules/lazyload/src/lazyload.ts","webpack://sakurairo-scripts/./src/common/cookie.ts","webpack://sakurairo-scripts/./src/app/compatibility.ts","webpack://sakurairo-scripts/./src/app/copyright.ts","webpack://sakurairo-scripts/./node_modules/idb-keyval/dist/index.js","webpack://sakurairo-scripts/./src/app/cache.ts","webpack://sakurairo-scripts/./src/app/coverBackground.ts","webpack://sakurairo-scripts/./src/app/darkmode.ts","webpack://sakurairo-scripts/./src/app/font_control.ts","webpack://sakurairo-scripts/./src/app/hitokoto.ts","webpack://sakurairo-scripts/./src/app/mobile.ts","webpack://sakurairo-scripts/./src/app/showcard.ts","webpack://sakurairo-scripts/./src/app/typed.ts","webpack://sakurairo-scripts/./src/app/video.ts","webpack://sakurairo-scripts/./src/app/web_audio.ts","webpack://sakurairo-scripts/./src/common/butterbar.ts","webpack://sakurairo-scripts/./src/common/npmLib.ts","webpack://sakurairo-scripts/./src/common/sakurairo_global.ts","webpack://sakurairo-scripts/./src/common/util.ts","webpack://sakurairo-scripts/./src/app/mobile_nav.ts","webpack://sakurairo-scripts/./src/app/search.ts","webpack://sakurairo-scripts/./src/app/func.js","webpack://sakurairo-scripts/./src/app/global-func.js","webpack://sakurairo-scripts/./node_modules/neuquant-js/dist/index.js","webpack://sakurairo-scripts/./node_modules/color-space/rgb.js","webpack://sakurairo-scripts/./node_modules/color-space/xyz.js","webpack://sakurairo-scripts/./node_modules/@kotorik/palette/dist/index.modern.js","webpack://sakurairo-scripts/./node_modules/color-space/lab.js","webpack://sakurairo-scripts/./src/app/theme-color/index.ts","webpack://sakurairo-scripts/./src/app/effect.js","webpack://sakurairo-scripts/./node_modules/color-space/hsl.js","webpack://sakurairo-scripts/./src/app/index.js","webpack://sakurairo-scripts/./src/app/scroll_handler.ts","webpack://sakurairo-scripts/./src/app/preload_screen.ts","webpack://sakurairo-scripts/./src/app/about_us.ts","webpack://sakurairo-scripts/./src/app/post_list.js","webpack://sakurairo-scripts/./src/page/global-func.js","webpack://sakurairo-scripts/./src/page/article_attach.ts","webpack://sakurairo-scripts/./src/page/gravatar.ts","webpack://sakurairo-scripts/./src/page/getqqinfo.js","webpack://sakurairo-scripts/./src/page/AddComment.ts","webpack://sakurairo-scripts/./src/page/code_highlight.js","webpack://sakurairo-scripts/./src/page/bangumi.ts","webpack://sakurairo-scripts/./src/page/index.js","webpack://sakurairo-scripts/./node_modules/charenc/charenc.js","webpack://sakurairo-scripts/./node_modules/crypt/crypt.js","webpack://sakurairo-scripts/./node_modules/fg-loadcss/src/loadCSS.js","webpack://sakurairo-scripts/./node_modules/is-buffer/index.js","webpack://sakurairo-scripts/./node_modules/md5/md5.js","webpack://sakurairo-scripts/./node_modules/promise-worker/index.js","webpack://sakurairo-scripts/webpack/bootstrap","webpack://sakurairo-scripts/webpack/runtime/compat get default export","webpack://sakurairo-scripts/webpack/runtime/define property getters","webpack://sakurairo-scripts/webpack/runtime/ensure chunk","webpack://sakurairo-scripts/webpack/runtime/get javascript chunk filename","webpack://sakurairo-scripts/webpack/runtime/get mini-css chunk filename","webpack://sakurairo-scripts/webpack/runtime/global","webpack://sakurairo-scripts/webpack/runtime/hasOwnProperty shorthand","webpack://sakurairo-scripts/webpack/runtime/make namespace object","webpack://sakurairo-scripts/webpack/runtime/publicPath","webpack://sakurairo-scripts/webpack/runtime/css loading","webpack://sakurairo-scripts/webpack/runtime/jsonp chunk loading","webpack://sakurairo-scripts/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"sakurairo-scripts:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = debounce;\n// Corresponds to 10 frames at 60 Hz.\n// A few bytes payload overhead when lodash/debounce is ~3 kB and debounce ~300 B.\nfunction debounce(func, wait = 166) {\n  let timeout;\n  function debounced(...args) {\n    const later = () => {\n      func.apply(this, args);\n    };\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n  }\n  debounced.clear = () => {\n    clearTimeout(timeout);\n  };\n  return debounced;\n}","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"POWERMODE\"] = factory();\n\telse\n\t\troot[\"POWERMODE\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar canvas = document.createElement('canvas');\n\tcanvas.width = window.innerWidth;\n\tcanvas.height = window.innerHeight;\n\tcanvas.style.cssText = 'position:fixed;top:0;left:0;pointer-events:none;z-index:999999';\n\twindow.addEventListener('resize', function () {\n\t    canvas.width = window.innerWidth;\n\t    canvas.height = window.innerHeight;\n\t});\n\tdocument.body.appendChild(canvas);\n\tvar context = canvas.getContext('2d');\n\tvar particles = [];\n\tvar particlePointer = 0;\n\tvar rendering = false;\n\n\tPOWERMODE.shake = true;\n\n\tfunction getRandom(min, max) {\n\t    return Math.random() * (max - min) + min;\n\t}\n\n\tfunction getColor(el) {\n\t    if (POWERMODE.colorful) {\n\t        var u = getRandom(0, 360);\n\t        return 'hsla(' + getRandom(u - 10, u + 10) + ', 100%, ' + getRandom(50, 80) + '%, ' + 1 + ')';\n\t    } else {\n\t        return window.getComputedStyle(el).color;\n\t    }\n\t}\n\n\tfunction getCaret() {\n\t    var el = document.activeElement;\n\t    var bcr;\n\t    if (el.tagName === 'TEXTAREA' ||\n\t        (el.tagName === 'INPUT' && el.getAttribute('type') === 'text')) {\n\t        var offset = __webpack_require__(1)(el, el.selectionEnd);\n\t        bcr = el.getBoundingClientRect();\n\t        return {\n\t            x: offset.left + bcr.left,\n\t            y: offset.top + bcr.top,\n\t            color: getColor(el)\n\t        };\n\t    }\n\t    var selection = window.getSelection();\n\t    if (selection.rangeCount) {\n\t        var range = selection.getRangeAt(0);\n\t        var startNode = range.startContainer;\n\t        if (startNode.nodeType === document.TEXT_NODE) {\n\t            startNode = startNode.parentNode;\n\t        }\n\t        bcr = range.getBoundingClientRect();\n\t        return {\n\t            x: bcr.left,\n\t            y: bcr.top,\n\t            color: getColor(startNode)\n\t        };\n\t    }\n\t    return { x: 0, y: 0, color: 'transparent' };\n\t}\n\n\tfunction createParticle(x, y, color) {\n\t    return {\n\t        x: x,\n\t        y: y,\n\t        alpha: 1,\n\t        color: color,\n\t        velocity: {\n\t            x: -1 + Math.random() * 2,\n\t            y: -3.5 + Math.random() * 2\n\t        }\n\t    };\n\t}\n\n\tfunction POWERMODE() {\n\t    { // spawn particles\n\t        var caret = getCaret();\n\t        var numParticles = 5 + Math.round(Math.random() * 10);\n\t        while (numParticles--) {\n\t            particles[particlePointer] = createParticle(caret.x, caret.y, caret.color);\n\t            particlePointer = (particlePointer + 1) % 500;\n\t        }\n\t    }\n\t    { // shake screen\n\t        if (POWERMODE.shake) {\n\t            var intensity = 1 + 2 * Math.random();\n\t            var x = intensity * (Math.random() > 0.5 ? -1 : 1);\n\t            var y = intensity * (Math.random() > 0.5 ? -1 : 1);\n\t            document.body.style.marginLeft = x + 'px';\n\t            document.body.style.marginTop = y + 'px';\n\t            setTimeout(function() {\n\t                document.body.style.marginLeft = '';\n\t                document.body.style.marginTop = '';\n\t            }, 75);\n\t        }\n\t    }\n\t    if(!rendering){\n\t        requestAnimationFrame(loop);\n\t    }\n\t};\n\tPOWERMODE.colorful = false;\n\n\tfunction loop() {\n\t    rendering = true;\n\t    context.clearRect(0, 0, canvas.width, canvas.height);\n\t    var rendered = false;\n\t    var rect = canvas.getBoundingClientRect();\n\t    for (var i = 0; i < particles.length; ++i) {\n\t        var particle = particles[i];\n\t        if (particle.alpha <= 0.1) continue;\n\t        particle.velocity.y += 0.075;\n\t        particle.x += particle.velocity.x;\n\t        particle.y += particle.velocity.y;\n\t        particle.alpha *= 0.96;\n\t        context.globalAlpha = particle.alpha;\n\t        context.fillStyle = particle.color;\n\t        context.fillRect(\n\t            Math.round(particle.x - 1.5) - rect.left,\n\t            Math.round(particle.y - 1.5) - rect.top,\n\t            3, 3\n\t        );\n\t        rendered = true;\n\t    }\n\t    if(rendered){\n\t        requestAnimationFrame(loop);\n\t    }else{\n\t        rendering = false;\n\t    }\n\t}\n\n\tmodule.exports = POWERMODE;\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\n\t/* jshint browser: true */\n\n\t(function () {\n\n\t// The properties that we copy into a mirrored div.\n\t// Note that some browsers, such as Firefox,\n\t// do not concatenate properties, i.e. padding-top, bottom etc. -> padding,\n\t// so we have to do every single property specifically.\n\tvar properties = [\n\t  'direction',  // RTL support\n\t  'boxSizing',\n\t  'width',  // on Chrome and IE, exclude the scrollbar, so the mirror div wraps exactly as the textarea does\n\t  'height',\n\t  'overflowX',\n\t  'overflowY',  // copy the scrollbar for IE\n\n\t  'borderTopWidth',\n\t  'borderRightWidth',\n\t  'borderBottomWidth',\n\t  'borderLeftWidth',\n\t  'borderStyle',\n\n\t  'paddingTop',\n\t  'paddingRight',\n\t  'paddingBottom',\n\t  'paddingLeft',\n\n\t  // https://developer.mozilla.org/en-US/docs/Web/CSS/font\n\t  'fontStyle',\n\t  'fontVariant',\n\t  'fontWeight',\n\t  'fontStretch',\n\t  'fontSize',\n\t  'fontSizeAdjust',\n\t  'lineHeight',\n\t  'fontFamily',\n\n\t  'textAlign',\n\t  'textTransform',\n\t  'textIndent',\n\t  'textDecoration',  // might not make a difference, but better be safe\n\n\t  'letterSpacing',\n\t  'wordSpacing',\n\n\t  'tabSize',\n\t  'MozTabSize'\n\n\t];\n\n\tvar isFirefox = window.mozInnerScreenX != null;\n\n\tfunction getCaretCoordinates(element, position, options) {\n\n\t  var debug = options && options.debug || false;\n\t  if (debug) {\n\t    var el = document.querySelector('#input-textarea-caret-position-mirror-div');\n\t    if ( el ) { el.parentNode.removeChild(el); }\n\t  }\n\n\t  // mirrored div\n\t  var div = document.createElement('div');\n\t  div.id = 'input-textarea-caret-position-mirror-div';\n\t  document.body.appendChild(div);\n\n\t  var style = div.style;\n\t  var computed = window.getComputedStyle? getComputedStyle(element) : element.currentStyle;  // currentStyle for IE < 9\n\n\t  // default textarea styles\n\t  style.whiteSpace = 'pre-wrap';\n\t  if (element.nodeName !== 'INPUT')\n\t    style.wordWrap = 'break-word';  // only for textarea-s\n\n\t  // position off-screen\n\t  style.position = 'absolute';  // required to return coordinates properly\n\t  if (!debug)\n\t    style.visibility = 'hidden';  // not 'display: none' because we want rendering\n\n\t  // transfer the element's properties to the div\n\t  properties.forEach(function (prop) {\n\t    style[prop] = computed[prop];\n\t  });\n\n\t  if (isFirefox) {\n\t    // Firefox lies about the overflow property for textareas: https://bugzilla.mozilla.org/show_bug.cgi?id=984275\n\t    if (element.scrollHeight > parseInt(computed.height))\n\t      style.overflowY = 'scroll';\n\t  } else {\n\t    style.overflow = 'hidden';  // for Chrome to not render a scrollbar; IE keeps overflowY = 'scroll'\n\t  }\n\n\t  div.textContent = element.value.substring(0, position);\n\t  // the second special handling for input type=\"text\" vs textarea: spaces need to be replaced with non-breaking spaces - http://stackoverflow.com/a/13402035/1269037\n\t  if (element.nodeName === 'INPUT')\n\t    div.textContent = div.textContent.replace(/\\s/g, \"\\u00a0\");\n\n\t  var span = document.createElement('span');\n\t  // Wrapping must be replicated *exactly*, including when a long word gets\n\t  // onto the next line, with whitespace at the end of the line before (#7).\n\t  // The  *only* reliable way to do that is to copy the *entire* rest of the\n\t  // textarea's content into the <span> created at the caret position.\n\t  // for inputs, just '.' would be enough, but why bother?\n\t  span.textContent = element.value.substring(position) || '.';  // || because a completely empty faux span doesn't render at all\n\t  div.appendChild(span);\n\n\t  var coordinates = {\n\t    top: span.offsetTop + parseInt(computed['borderTopWidth']),\n\t    left: span.offsetLeft + parseInt(computed['borderLeftWidth'])\n\t  };\n\n\t  if (debug) {\n\t    span.style.backgroundColor = '#aaa';\n\t  } else {\n\t    document.body.removeChild(div);\n\t  }\n\n\t  return coordinates;\n\t}\n\n\tif (typeof module != \"undefined\" && typeof module.exports != \"undefined\") {\n\t  module.exports = getCaretCoordinates;\n\t} else {\n\t  window.getCaretCoordinates = getCaretCoordinates;\n\t}\n\n\t}());\n\n/***/ })\n/******/ ])\n});\n;","/**\n * default option\n */\nconst defaults = {\n    src: \"data-src\",\n    srcset: \"data-srcset\",\n    selector: \".lazyload\",\n    root: null,\n    rootMargin: \"0px\",\n    threshold: 0\n};\n/**\n * @class LazyLoad\n */\nexport default class LazyLoad {\n    constructor(elms, options) {\n        this.settings = { ...defaults, ...options };\n        this.elms = elms || document.querySelectorAll(this.settings.selector);\n        this.init();\n    }\n    elms;\n    obs = null;\n    settings;\n    init() {\n        /* Without observers load everything and bail out early. */\n        if (!IntersectionObserver) {\n            this.load();\n            return;\n        }\n        const self = this;\n        this.obs = new IntersectionObserver(function (entries) {\n            Array.prototype.forEach.call(entries, function (entry) {\n                if (entry.isIntersecting) {\n                    self.obs.unobserve(entry.target);\n                    self.doLoad(entry.target);\n                }\n            });\n        }, {\n            root: this.settings.root,\n            rootMargin: this.settings.rootMargin,\n            threshold: [this.settings.threshold]\n        });\n        this.elms.forEach((image) => {\n            self.obs.observe(image);\n        });\n    }\n    loadAndDestroy() {\n        if (!this.settings) {\n            return;\n        }\n        this.load();\n        this.destroy();\n    }\n    load() {\n        if (!this.settings) {\n            return;\n        }\n        const { settings } = this;\n        Array.prototype.forEach.call(this.elms, this.doLoad);\n    }\n    doLoad = (element) => {\n        const { settings } = this;\n        const src = element.getAttribute(settings.src);\n        const srcset = element.getAttribute(settings.srcset);\n        const tagName = element.tagName.toLowerCase();\n        if (tagName === 'video') {\n            if (src) {\n                element.src = src;\n            }\n        }\n        else if (tagName === 'img') {\n            if (src) {\n                element.src = src;\n            }\n            if (srcset) {\n                //@ts-ignore\n                element.srcset = srcset;\n            }\n        }\n        else {\n            element.style.backgroundImage = \"url('\" + src + \"')\";\n        }\n    };\n    /**\n     * Destroy Lazyload Instance\n     * @returns\n     */\n    destroy() {\n        if (!this.settings) {\n            return;\n        }\n        this.obs.disconnect();\n        this.settings = null;\n    }\n}\nexport const lazyload = (images, options) => new LazyLoad(images, options);\n","/**\n * Cookie\n * from github.com/mirai-mamori/Sakurairo ./js/sakura-app.js ,commit 71f5a0c\n * @license GPL-v2\n * @date 2021.03\n */\nconst _version_ctrl = _iro.cookie_version_control || '';\nexport function setCookie(key, value, days) {\n    const expires = days ? \"; expires=\" + new Date(Date.now() + (days * 24 * 60 * 60 * 1000)).toUTCString() : \"\";\n    document.cookie = key + _version_ctrl + \"=\" + (value || \"\") + expires + \"; path=/\";\n}\nexport function getCookie(key) {\n    const nameEQ = key + _version_ctrl + \"=\", ca = document.cookie.split(';');\n    for (let i = 0; i < ca.length; i++) {\n        let c = ca[i];\n        while (c.charAt(0) == ' ')\n            c = c.substring(1, c.length);\n        if (c.indexOf(nameEQ) == 0)\n            return c.substring(nameEQ.length, c.length);\n    }\n    return null;\n}\nexport function removeCookie(key) {\n    document.cookie = key + _version_ctrl + '=; Max-Age=-99999999;';\n}\n","const UA = navigator.userAgent;\n/**\n * AppleWebkitSafari\n * @seealso https://gist.github.com/jakub-g/48a16195280a7023f570ffa5c8a4eae5\n * @seealso https://en.wikipedia.org/wiki/Safari_version_history\n *\n * Opera15User Agent\n * OPR/*\n */\nconst uaMatches = Array.from(UA.matchAll(/(Firefox|Chrome|Version|OPR|Edg)\\/(\\d+)/ig));\nimport { setCookie } from '../common/cookie';\nfunction getSupportedImageMimeList() {\n    const acceptList = ['image/*,*/*;q=0.8'];\n    if (isSupported({ Chrome: 59, OPR: 46, Firefox: 3, Edg: 79, Version: 8 /**Safari 8 */ })) {\n        acceptList.push('image/apng');\n        if (isSupported({ Chrome: 32, OPR: 19, Firefox: 65, Edg: 18, Version: 14 /**Safari 14 */ })) {\n            setCookie('su_webp', '1', 114514);\n            acceptList.push('image/webp');\n            if (isSupported({ Chrome: 85, OPR: 71, Firefox: 93 })) {\n                acceptList.push('image/avif');\n            }\n        }\n    }\n    return acceptList.reverse().join(',');\n}\nexport function isSupported(checkList) {\n    for (const [_, name, version] of uaMatches) {\n        if (parseFloat(version) >= checkList[name]) {\n            return true;\n        }\n    }\n    return false;\n}\nexport const Accept_Image = getSupportedImageMimeList();\n","import { createButterbar } from \"../common/butterbar\";\nimport { __ } from \"../common/sakurairo_global\";\nconst txt = [\n    \"# \",\n    \"# For commercial use, please contact the author for authorization. For non-commercial use, please indicate the source.\",\n    \"# (License)-- 4.0  (CC BY-NC-SA 4.0)\",\n    \"# (Author)\" + _iro.author_name,\n    \"# (URL)\" + window.location.href,\n    \"# (Source)\" + _iro.site_name,\n];\nfunction setClipboardText(event, selectionTxt) {\n    event.preventDefault();\n    const htmlData = txt.join('<br>') + \"<br><br>\" + selectionTxt.replace(/\\r\\n/g, \"<br>\"), textData = txt.join('\\n') + \"\\n\\n\" + selectionTxt.toString().replace(/\\r\\n/g, \"\\n\");\n    if (event.clipboardData) {\n        event.clipboardData.setData(\"text/html\", htmlData);\n        event.clipboardData.setData(\"text/plain\", textData);\n    }\n    else if (window.clipboardData) {\n        //deprecate?\n        return window.clipboardData.setData(\"text\", textData);\n    }\n}\nfunction copytext(e) {\n    const selection = window.getSelection();\n    if (selection) {\n        const selectionText = selection.toString();\n        if (selectionText.length > 30) {\n            setClipboardText(e, selectionText);\n            createButterbar(__(\"\"), 1000);\n        }\n    }\n}\n/**\n * \n */\nexport default function add_copyright() {\n    if (_iro.clipboardCopyright) {\n        document.body.removeEventListener(\"copy\", copytext);\n        document.body.addEventListener(\"copy\", copytext);\n    }\n}\n","function promisifyRequest(request) {\n    return new Promise((resolve, reject) => {\n        // @ts-ignore - file size hacks\n        request.oncomplete = request.onsuccess = () => resolve(request.result);\n        // @ts-ignore - file size hacks\n        request.onabort = request.onerror = () => reject(request.error);\n    });\n}\nfunction createStore(dbName, storeName) {\n    const request = indexedDB.open(dbName);\n    request.onupgradeneeded = () => request.result.createObjectStore(storeName);\n    const dbp = promisifyRequest(request);\n    return (txMode, callback) => dbp.then((db) => callback(db.transaction(storeName, txMode).objectStore(storeName)));\n}\nlet defaultGetStoreFunc;\nfunction defaultGetStore() {\n    if (!defaultGetStoreFunc) {\n        defaultGetStoreFunc = createStore('keyval-store', 'keyval');\n    }\n    return defaultGetStoreFunc;\n}\n/**\n * Get a value by its key.\n *\n * @param key\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction get(key, customStore = defaultGetStore()) {\n    return customStore('readonly', (store) => promisifyRequest(store.get(key)));\n}\n/**\n * Set a value with a key.\n *\n * @param key\n * @param value\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction set(key, value, customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => {\n        store.put(value, key);\n        return promisifyRequest(store.transaction);\n    });\n}\n/**\n * Set multiple values at once. This is faster than calling set() multiple times.\n * It's also atomic  if one of the pairs can't be added, none will be added.\n *\n * @param entries Array of entries, where each entry is an array of `[key, value]`.\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction setMany(entries, customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => {\n        entries.forEach((entry) => store.put(entry[1], entry[0]));\n        return promisifyRequest(store.transaction);\n    });\n}\n/**\n * Get multiple values by their keys\n *\n * @param keys\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction getMany(keys, customStore = defaultGetStore()) {\n    return customStore('readonly', (store) => Promise.all(keys.map((key) => promisifyRequest(store.get(key)))));\n}\n/**\n * Update a value. This lets you see the old value and update it as an atomic operation.\n *\n * @param key\n * @param updater A callback that takes the old value and returns a new value.\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction update(key, updater, customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => \n    // Need to create the promise manually.\n    // If I try to chain promises, the transaction closes in browsers\n    // that use a promise polyfill (IE10/11).\n    new Promise((resolve, reject) => {\n        store.get(key).onsuccess = function () {\n            try {\n                store.put(updater(this.result), key);\n                resolve(promisifyRequest(store.transaction));\n            }\n            catch (err) {\n                reject(err);\n            }\n        };\n    }));\n}\n/**\n * Delete a particular key from the store.\n *\n * @param key\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction del(key, customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => {\n        store.delete(key);\n        return promisifyRequest(store.transaction);\n    });\n}\n/**\n * Delete multiple keys at once.\n *\n * @param keys List of keys to delete.\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction delMany(keys, customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => {\n        keys.forEach((key) => store.delete(key));\n        return promisifyRequest(store.transaction);\n    });\n}\n/**\n * Clear all values in the store.\n *\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction clear(customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => {\n        store.clear();\n        return promisifyRequest(store.transaction);\n    });\n}\nfunction eachCursor(store, callback) {\n    store.openCursor().onsuccess = function () {\n        if (!this.result)\n            return;\n        callback(this.result);\n        this.result.continue();\n    };\n    return promisifyRequest(store.transaction);\n}\n/**\n * Get all keys in the store.\n *\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction keys(customStore = defaultGetStore()) {\n    return customStore('readonly', (store) => {\n        // Fast path for modern browsers\n        if (store.getAllKeys) {\n            return promisifyRequest(store.getAllKeys());\n        }\n        const items = [];\n        return eachCursor(store, (cursor) => items.push(cursor.key)).then(() => items);\n    });\n}\n/**\n * Get all values in the store.\n *\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction values(customStore = defaultGetStore()) {\n    return customStore('readonly', (store) => {\n        // Fast path for modern browsers\n        if (store.getAll) {\n            return promisifyRequest(store.getAll());\n        }\n        const items = [];\n        return eachCursor(store, (cursor) => items.push(cursor.value)).then(() => items);\n    });\n}\n/**\n * Get all entries in the store. Each entry is an array of `[key, value]`.\n *\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction entries(customStore = defaultGetStore()) {\n    return customStore('readonly', (store) => {\n        // Fast path for modern browsers\n        // (although, hopefully we'll get a simpler path some day)\n        if (store.getAll && store.getAllKeys) {\n            return Promise.all([\n                promisifyRequest(store.getAllKeys()),\n                promisifyRequest(store.getAll()),\n            ]).then(([keys, values]) => keys.map((key, i) => [key, values[i]]));\n        }\n        const items = [];\n        return customStore('readonly', (store) => eachCursor(store, (cursor) => items.push([cursor.key, cursor.value])).then(() => items));\n    });\n}\n\nexport { clear, createStore, del, delMany, entries, get, getMany, keys, promisifyRequest, set, setMany, update, values };\n","import { createStore, promisifyRequest } from 'idb-keyval';\nconst store = createStore('sakurairo', 'cache');\nconst get = (key) => store('readonly', (store) => promisifyRequest(store.get(key)));\nconst set = (key, value) => store('readwrite', (store) => {\n    store.put(value, key);\n    return promisifyRequest(store.transaction);\n});\nconst del = (key) => store('readwrite', (store) => {\n    store.delete(key);\n    return promisifyRequest(store.transaction);\n});\nexport { get, set, del };\n","import { get, set, del } from './cache';\nimport { Accept_Image } from './compatibility';\nimport { __ } from '../common/sakurairo_global';\nimport { isMobile } from './mobile';\nimport { createButterbar } from '../common/butterbar';\nimport { noop } from '../common/util';\nlet bgn = 1;\nlet blob_url = '';\nexport async function nextBG() {\n    changeCoverBG(await getCoverPath(true));\n    bgn++;\n}\nexport async function preBG() {\n    bgn--;\n    changeCoverBG(await getCoverPath(true));\n}\nconst centerbg = document.querySelector(\".centerbg\");\n/**\n * \n */\nexport const changeCoverBG = _iro.site_bg_as_cover ? (url) => {\n    document.body.style.backgroundImage = `url(${url})`;\n    document.dispatchEvent(new CustomEvent('coverBG_change', { detail: url }));\n} :\n    centerbg ? (url) => {\n        centerbg.style.backgroundImage = `url(${url})`;\n        document.dispatchEvent(new CustomEvent('coverBG_change', { detail: url }));\n    } : noop;\nfunction parseCSSUrl(cssText) {\n    const result = cssText?.match(/^url\\(\"(.+)\"\\)$/);\n    if (result) {\n        return result[1];\n    }\n}\n/**\n * URL\n */\nexport const getCurrentBG = _iro.site_bg_as_cover ? () => parseCSSUrl(document.body.style.backgroundImage) :\n    (centerbg ? () => parseCSSUrl(centerbg.style.backgroundImage) : noop);\nfunction getAPIPath(useBGN = false) {\n    const cover_api_url = new URL(_iro.cover_api);\n    if (isMobile() && _iro.random_graphs_mts == true) {\n        cover_api_url.searchParams.set('type', 'mobile');\n        return cover_api_url.toString() + (useBGN ? \"&\" + bgn : '');\n    }\n    else {\n        return cover_api_url.toString() + (useBGN ? (cover_api_url.search === '' ? \"?\" : '&') + bgn : '');\n    }\n}\nexport const getCoverPath = _iro.cache_cover ? (useBGN = false) => get('cover').then(coverBG => {\n    if (coverBG && coverBG instanceof ArrayBuffer) {\n        cleanBlobUrl();\n        blob_url = URL.createObjectURL(new Blob([coverBG]));\n        return blob_url;\n    }\n    else {\n        //fallback\n        return getAPIPath(useBGN);\n    }\n}).finally(() => {\n    fetchThenCache(useBGN);\n})\n    : getAPIPath;\nasync function fetchThenCache(useBGN = false) {\n    try {\n        const resp = await fetch(getAPIPath(useBGN), { headers: { Accept: Accept_Image } });\n        if (resp.status == 500) {\n            const result = await resp.json();\n            createButterbar(result.message);\n            console.warn(result.message);\n        }\n        else if (resp.ok) {\n            const buf = await resp.arrayBuffer();\n            try {\n                set('cover', buf);\n                /**\n                 * @problem Safariindexdbblob\n                 * DataCloneError: Failed to store record in an IDBObjectStore: BlobURLs are not yet supported.\n                 * @seealso https://developers.google.com/web/fundamentals/instant-and-offline/web-storage/indexeddb-best-practices#keeping_your_app_predictable\n                 */\n            }\n            catch (e) {\n                //catch: FireFox\n                /**\n                 * @problem FireFox\n                 * DOMException: A mutation operation was attempted on a database that did not allow mutations\n                 * Chrome\n                 *  https://wiki.mozilla.org/Private_Browsing#Persistent_Storage\n                 *  https://bugzilla.mozilla.org/show_bug.cgi?id=1639542#c9\n                */\n                console.warn(e);\n            }\n        }\n    }\n    catch (e) {\n        if (e instanceof TypeError) {\n            console.warn(__('API,'));\n            del('cover');\n        }\n    }\n}\nfunction cleanBlobUrl() {\n    URL.revokeObjectURL(blob_url);\n    blob_url = '';\n}\n/* export function initCoverBG() {\n    if (_iro.site_bg_as_cover) {\n        if (centerbg) centerbg.style.background = '#0000'\n    }\n} */ \n","const mediaQuery = window.matchMedia('(prefers-color-scheme:dark)');\nlet inDarkMode = false;\nexport const isInDarkMode = () => inDarkMode;\nfunction informDarkModeChange(nextValue) {\n    if (nextValue !== inDarkMode) {\n        document.dispatchEvent(new CustomEvent(\"darkmode\", { detail: nextValue }));\n        inDarkMode = nextValue;\n    }\n}\nfunction mediaQueryCallback() {\n    const dark = localStorage.getItem(\"dark\");\n    //\n    if (!dark) {\n        if (mediaQuery.matches && _iro.darkmode) {\n            turnOnDarkMode();\n        }\n        else {\n            turnOffDarkMode();\n        }\n    }\n}\nif (_iro.dm_strategy === 'client') {\n    mediaQuery.removeEventListener ? mediaQuery.removeEventListener('change', mediaQueryCallback) : mediaQuery.removeListener(mediaQueryCallback);\n    mediaQuery.addEventListener ? mediaQuery.addEventListener('change', mediaQueryCallback) : mediaQuery.addListener(mediaQueryCallback);\n}\nfunction saveUserSetting(value) {\n    if (value == ifDarkmodeShouldOn()) {\n        //\n        localStorage.removeItem('dark');\n    }\n    else {\n        if (value == true) {\n            localStorage.setItem(\"dark\", \"1\");\n        }\n        else {\n            localStorage.setItem(\"dark\", \"0\");\n        }\n    }\n    //localStorage.setItem(\"bgImgSetting\", \"white-bg\");\n}\nexport function turnOnDarkMode(userTriggered) {\n    document.documentElement.style.backgroundColor = \"#333\";\n    document.getElementsByClassName(\"site-content\")[0].style.backgroundColor = \"#333\";\n    document.body.classList.add(\"dark\");\n    if (userTriggered)\n        saveUserSetting(true);\n    informDarkModeChange(true);\n}\nexport function turnOffDarkMode(userTriggered) {\n    document.documentElement.style.backgroundColor = \"\";\n    document.getElementsByClassName(\"site-content\")[0].style.backgroundColor = \"rgba(255, 255, 255, .8)\";\n    document.body.classList.remove(\"dark\");\n    document.body.classList.remove(\"dynamic\");\n    informDarkModeChange(false);\n    if (userTriggered) {\n        saveUserSetting(false);\n        //document.body.style.backgroundImage = `url(${_iro.skin_bg0})`;\n    }\n}\n/**\n * \n * @returns {boolean}\n */\nfunction checkTime() {\n    const today = new Date();\n    return (today.getHours() > 21 || today.getHours() < 7);\n}\nexport function ifDarkmodeShouldOn() {\n    switch (_iro.dm_strategy) {\n        case 'client':\n            return mediaQuery.matches;\n        case 'eien':\n            return true;\n        default: /**case time */\n            return checkTime();\n    }\n}\nexport function checkDarkModeSetting() {\n    const dark = localStorage.getItem(\"dark\");\n    if (!dark) {\n        //\n        if (ifDarkmodeShouldOn() && _iro.darkmode) {\n            turnOnDarkMode();\n        }\n        else {\n            turnOffDarkMode();\n        }\n    }\n    else {\n        if (dark == '1') {\n            turnOnDarkMode();\n        }\n        else {\n            turnOffDarkMode();\n        }\n    }\n}\n/* function mobile_dark_light() {\n    if (document.body.classList.contains(\"dark\")) {\n        document.documentElement.style.background = \"unset\";\n        document.body.classList.remove(\"dark\");\n        document.getElementById(\"moblieDarkLight\").innerHTML = '<i class=\"fa fa-moon-o\" aria-hidden=\"true\"></i>';\n        setCookie(\"dark\", \"0\", 0.33);\n    } else {\n        document.documentElement.style.background = \"#333333\";\n        document.getElementById(\"moblieDarkLight\").innerHTML = '<i class=\"fa fa-sun-o\" aria-hidden=\"true\"></i>';\n        document.body.classList.add(\"dark\");\n        setCookie(\"dark\", \"1\", 0.33);\n    }\n} */ \n","import { createButterbar } from \"../common/butterbar\";\nimport { __ } from \"../common/sakurairo_global\";\nimport { isMobile } from \"./mobile\";\nlet btnSerif, btnSansSerif;\nfunction Serif() {\n    if (isMobile()) {\n        createButterbar(__(\"\"));\n    }\n    document.body.classList.add(\"serif\");\n    localStorage.setItem(\"font_family\", \"serif\");\n    setButtonState('serif');\n}\nfunction SansSerif() {\n    document.body.classList.remove(\"serif\");\n    localStorage.setItem(\"font_family\", \"sans-serif\");\n    setButtonState('sans-serif');\n}\nfunction change_font_listener(btn) {\n    return () => {\n        const { name } = btn.dataset;\n        const nowFont = localStorage.getItem(\"font_family\");\n        if (name == nowFont) {\n            return;\n        }\n        else {\n            (name == 'serif') ? Serif() : SansSerif();\n        }\n    };\n}\nexport function loadFontSetting() {\n    const nowFont = localStorage.getItem(\"font_family\");\n    if (!nowFont || nowFont == \"serif\") {\n        document.body.classList.add(\"serif\");\n    }\n}\nfunction setButtonState(font_name) {\n    if (font_name === 'sans-serif' || localStorage.getItem(\"font_family\") == 'sans-serif') {\n        btnSerif.classList.remove(\"selected\");\n        btnSansSerif.classList.add(\"selected\");\n    }\n    else {\n        btnSansSerif.classList.remove(\"selected\");\n        btnSerif.classList.add(\"selected\");\n    }\n}\nfunction initDOMCache() {\n    btnSerif = document.getElementsByClassName(\"control-btn-serif\")[0];\n    btnSansSerif = document.getElementsByClassName(\"control-btn-sans-serif\")[0];\n    return btnSansSerif && btnSerif;\n}\nfunction initListener() {\n    btnSerif.addEventListener('click', change_font_listener(btnSerif));\n    btnSansSerif.addEventListener('click', change_font_listener(btnSansSerif));\n}\nexport function initFontControl() {\n    const result = initDOMCache();\n    if (!result)\n        localStorage.removeItem('font_family'); // A\n    loadFontSetting();\n    if (result) {\n        setButtonState();\n        initListener();\n    }\n}\n","export default async function hitokoto() {\n    const yiyan = document.getElementById(\"footer_yiyan\");\n    if (yiyan) {\n        const api_group = _iro.yiyan_api || [\"https://api.maho.cc/yiyan/\"];\n        if (api_group.length == 0) {\n            console.warn('API: ');\n        }\n        for (const api_path of api_group) {\n            try {\n                const txt = await request(api_path);\n                yiyan.innerText = txt;\n                break;\n            }\n            catch (e) {\n                console.warn(`API: \"${api_path}\" `, e);\n                continue;\n            }\n        }\n    }\n}\nconst request = async (api) => {\n    const res = await fetch(api, { headers: { Accept: \"application/json\" } });\n    if (res.ok) {\n        const data = await res.json();\n        const from_who = (data.from_who == 'null' ? null : data.from_who) || '';\n        const from = data.from != data.from_who ? `${data['from']}` : '';\n        const hitokoto = data.hitokoto;\n        return hitokoto + '' + from_who + from;\n    }\n    else {\n        throw res.status;\n    }\n};\n","let cache_is_mobile = false;\nexport function initIsMobileCache() {\n    const mediaQuery = window.matchMedia('(max-width:860px)');\n    cache_is_mobile = mediaQuery.matches;\n    mediaQuery.addEventListener ? mediaQuery.addEventListener('change', refreshIsMobileCache) : mediaQuery.addListener(refreshIsMobileCache);\n}\nfunction refreshIsMobileCache(ev) {\n    cache_is_mobile = ev.matches;\n}\n/**\n *\n * @returns document.body.clientWidth <= 860\n */\nexport const isMobile = () => cache_is_mobile;\n","export default function showcard() {\n    for (const showcard of document.querySelectorAll('.showcard')) {\n        const img = showcard.querySelector('.img');\n        const button = showcard.querySelector('.showcard-button');\n        if (!img || !button) {\n            throw new Error('invalid structure for .showcard');\n        }\n        img.addEventListener('mouseover', function () {\n            button.classList.add('hover');\n        });\n        img.addEventListener('mouseout', function () {\n            button.classList.remove('hover');\n        });\n    }\n}\n","import { importExternal } from '../common/npmLib';\nlet typedInstance;\nexport function disableTypedJsIfExist() {\n    if (typedInstance) {\n        typedInstance.destroy();\n        typedInstance = null;\n    }\n}\nexport default async function initTypedJs() {\n    const json = document.getElementById('typed-js-initial');\n    if (json) {\n        try {\n            const options = JSON.parse(json.innerHTML);\n            const element = document.querySelector('.element');\n            element.innerText = '';\n            if (_iro.ext_shared_lib) {\n                if (!window.Typed)\n                    await importExternal('dist/typed.umd.js', 'typed.js');\n                typedInstance = new window.Typed(element, options);\n            }\n            else {\n                const { default: Typed } = await import('typed.js');\n                typedInstance = new Typed(element, options);\n            }\n        }\n        catch (e) {\n            console.error(\"typed.js\", e);\n        }\n    }\n}\n","import { getFileNameMain } from '../common/util';\nimport { __ } from '../common/sakurairo_global';\nimport { importExternal } from '../common/npmLib';\nconst bgvideo = document.getElementById(\"bgvideo\");\nconst videoList = _iro.movies.name?.split(\",\") || []; // \nlet unplayedIndex = new Array(videoList.length).fill(0).map((_, index) => index);\nlet aplayersToResume = [];\n//#region \nconst _getNextRandomVideo = () => {\n    if (unplayedIndex.length == 0) {\n        unplayedIndex = new Array(videoList.length).fill(0).map((_, index) => index);\n    }\n    const nextIndex = Math.floor(Math.random() * unplayedIndex.length);\n    return videoList[unplayedIndex.splice(nextIndex, 1)[0]];\n};\nfunction getVideo() {\n    const video_stu = document.getElementsByClassName(\"video-stu\")[0];\n    const fileName = _getNextRandomVideo(); // \n    video_stu.innerHTML = __(\" ...\");\n    video_stu.style.bottom = \"0px\";\n    //_iro.movies\n    bgvideo.setAttribute(\"src\", new URL(fileName, _iro.movies.url || location.origin).toString());\n    bgvideo.setAttribute(\"video-name\", getFileNameMain(fileName));\n}\n/**\n * \n */\nfunction splay() {\n    const video_btn = document.getElementById(\"video-btn\");\n    if (video_btn) {\n        video_btn.classList.add(\"video-pause\");\n        video_btn.classList.remove(\"video-play\");\n        video_btn.style.display = \"\";\n    }\n    try {\n        document.querySelector(\".video-stu\").style.bottom = \"-100px\";\n        document.querySelector(\".focusinfo\").style.top = \"-999px\";\n        if (_iro.float_player_on) {\n            import('./aplayer').then(({ pauseAllPlayer }) => {\n                aplayersToResume = pauseAllPlayer();\n                bgvideo.play();\n            });\n            return;\n        }\n    }\n    catch (e) {\n        console.warn(e);\n    }\n    bgvideo.play();\n}\n/**\n * \n */\nfunction spause() {\n    const video_btn = document.getElementById(\"video-btn\");\n    if (video_btn) {\n        video_btn.classList.add(\"video-play\");\n        video_btn.classList.remove(\"video-pause\");\n    }\n    try {\n        document.querySelector(\".focusinfo\").style.top = \"49.3%\";\n    }\n    catch { }\n    bgvideo.pause();\n    for (const player of aplayersToResume) {\n        player.play();\n    }\n}\n/**\n *  - \n */\nexport function liveplay() {\n    if (bgvideo && bgvideo.oncanplay != undefined && document.querySelector(\".haslive\")) { // \n        if (document.querySelector(\".videolive\")) { // \n            splay();\n        }\n    }\n}\nexport function livepause() {\n    if (bgvideo && bgvideo.oncanplay != undefined && document.querySelector(\".haslive\")) { // \n        spause();\n        const video_stu = document.getElementsByClassName(\"video-stu\")[0];\n        video_stu.style.bottom = \"0px\";\n        video_stu.innerHTML = __(\"...\");\n    }\n}\nexport function coverVideo() {\n    const video_btn = document.getElementById(\"video-btn\");\n    if (video_btn)\n        video_btn.addEventListener(\"click\", function () {\n            if (this.classList.contains(\"loadvideo\")) {\n                this.classList.add(\"video-pause\");\n                this.classList.remove(\"loadvideo\");\n                getVideo();\n                bgvideo.oncanplay = () => {\n                    splay();\n                    document.getElementById(\"video-add\").style.display = \"block\";\n                    video_btn.classList.add(\"videolive\", \"haslive\"); // MDZZ\n                };\n            }\n            else {\n                if (this.classList.contains(\"video-pause\")) {\n                    spause();\n                    video_btn.classList.remove(\"videolive\");\n                    document.getElementsByClassName(\"video-stu\")[0].style.bottom = \"0px\";\n                    document.getElementsByClassName(\"video-stu\")[0].innerHTML = __(\"...\");\n                }\n                else {\n                    splay();\n                    video_btn.classList.add(\"videolive\"); // \n                }\n            }\n            bgvideo.onended = function () {\n                bgvideo.setAttribute(\"src\", \"\");\n                document.getElementById(\"video-add\").style.display = \"none\";\n                document.querySelector(\".focusinfo\").style.top = \"49.3%\";\n                if (video_btn) {\n                    video_btn.classList.add(\"loadvideo\");\n                    video_btn.classList.remove(\"video-pause\", \"videolive\", \"haslive\");\n                    if (_iro.movies.loop) {\n                        video_btn.click();\n                    }\n                }\n            };\n        });\n    const video_add = document.getElementById(\"video-add\");\n    if (video_add)\n        video_add.addEventListener(\"click\", getVideo);\n}\n//#endregion\nexport async function coverVideoIni() {\n    initHLS();\n    lazyloadPatch();\n}\nfunction canPlayHandler() {\n    this.poster = '';\n}\n/**\n * poster\n */\nasync function lazyloadPatch() {\n    document.querySelectorAll('video.lazyload')\n        .forEach(video => video.addEventListener('canplay', canPlayHandler));\n}\nasync function initHLS() {\n    const videos = document.querySelectorAll('video.hls');\n    if (videos.length == 0)\n        return;\n    //\n    if (videos[0].canPlayType('application/vnd.apple.mpegurl')) {\n        for (const video of videos) {\n            video.src = video.dataset.src || video.src;\n            video.autoplay = true;\n        }\n    }\n    else {\n        if (!window.Hls) {\n            try {\n                if (_iro.ext_shared_lib) {\n                    await importExternal('dist/hls.light.min.js', 'hls.js');\n                }\n                else {\n                    //@ts-ignore\n                    const { default: Hls } = await import('hls.js/dist/hls.light.js');\n                    window.Hls = Hls;\n                }\n            }\n            catch (reason) {\n                console.warn('Hls load failed: ', reason);\n            }\n        }\n        if (!Hls.isSupported())\n            console.error('Hls: Media Source Extensions is unsupported.');\n        for (const video of videos) {\n            const hls = new Hls();\n            hls.loadSource(video.dataset.src || video.src);\n            hls.attachMedia(video);\n            hls.on(Hls.Events.MANIFEST_PARSED, () => {\n                video.play();\n            });\n        }\n    }\n}\n","import { sakurairoGlobal } from \"../common/sakurairo_global\";\nexport function web_audio() {\n    if (!_iro.audio)\n        return;\n    //@ts-ignore\n    const AudioContext = window.AudioContext || window.webkitAudioContext;\n    if (AudioContext) {\n        let i = 0;\n        let dom;\n        const o = 1;\n        const t = readSheetOption() || sheet;\n        const selects = document.querySelectorAll(\".site-title, #moblieGoTop, .site-branding, .searchbox, .changeSkin-gear, .menu-list li\");\n        const notes = \"        \".split(\" \");\n        const ctx = new AudioContext;\n        const listener = (e) => {\n            if (dom)\n                return;\n            let r = t[i];\n            if (!r) {\n                (i = 0, r = t[i]);\n            }\n            i += o;\n            const c = ctx.createOscillator(), l = ctx.createGain(), mainGain = ctx.createGain();\n            c.connect(l);\n            l.connect(mainGain);\n            mainGain.connect(ctx.destination);\n            mainGain.gain.setValueAtTime(sakurairoGlobal.opt.web_audio?.main_gain || 1, ctx.currentTime);\n            c.type = \"sine\";\n            c.frequency.value = r;\n            l.gain.setValueAtTime(0, ctx.currentTime);\n            l.gain.linearRampToValueAtTime(1, ctx.currentTime + .01);\n            c.start(ctx.currentTime);\n            l.gain.exponentialRampToValueAtTime(.001, ctx.currentTime + 1);\n            c.stop(ctx.currentTime + 1);\n            const d = Math.round(7 * Math.random());\n            const h = e.pageX;\n            const p = e.pageY - 5;\n            dom = document.createElement(\"b\");\n            dom.textContent = notes[d];\n            dom.style.zIndex = \"99999\";\n            dom.style.top = p - 100 + \"px\";\n            dom.style.left = h + \"px\";\n            dom.style.position = \"absolute\";\n            dom.style.color = \"#FF6EB4\";\n            document.body.appendChild(dom);\n            dom.animate([\n                { top: p + \"px\" },\n                { opacity: 0 }\n            ], {\n                duration: 500\n            });\n            setTimeout(() => {\n                dom.remove();\n                dom = null;\n            }, 500);\n        };\n        selects.forEach((select) => {\n            select.addEventListener(\"mouseenter\", listener);\n        });\n    }\n}\n//\n/*t = \"329.628 329.628 349.228 391.995 391.995 349.228 329.628 293.665 261.626 261.626 293.665 329.628 329.628 293.665 293.665 329.628 329.628 349.228 391.995 391.995 349.228 329.628 293.665 261.626 261.626 293.665 329.628 293.665 261.626 261.626 293.665 293.665 329.628 261.626 293.665 329.628 349.228 329.628 261.626 293.665 329.628 349.228 329.628 293.665 261.626 293.665 195.998 329.628 329.628 349.228 391.995 391.995 349.228 329.628 293.665 261.626 261.626 293.665 329.628 293.665 261.626 261.626\".split(\" \")*/\n//\nconst sheet = \"880 987 1046 987 1046 1318 987 659 659 880 784 880 1046 784 659 659 698 659 698 1046 659 1046 1046 1046 987 698 698 987 987 880 987 1046 987 1046 1318 987 659 659 880 784 880 1046 784 659 698 1046 987 1046 1174 1174 1174 1046 1046 880 987 784 880 1046 1174 1318 1174 1318 1567 1046 987 1046 1318 1318 1174 784 784 880 1046 987 1174 1046 784 784 1396 1318 1174 659 1318 1046 1318 1760 1567 1567 1318 1174 1046 1046 1174 1046 1174 1567 1318 1318 1760 1567 1318 1174 1046 1046 1174 1046 1174 987 880 880 987 880\".split(\" \");\nfunction readSheetOption() {\n    const sheet = sakurairoGlobal.opt.web_audio?.sheet;\n    if (typeof sheet == 'string') {\n        return sheet.split(' ');\n    }\n    else if (sheet instanceof Array) {\n        return sheet;\n    }\n}\n","export function clearButterbar() {\n    const butterBar = document.getElementsByClassName(\"butterBar\");\n    if (butterBar.length > 0) {\n        for (let i = 0; i < butterBar.length; i++) {\n            butterBar[i].remove();\n        }\n    }\n}\nexport function createButterbar(message, keep) {\n    clearButterbar();\n    /*     document.body.insertAdjacentHTML('beforeend', '<div class=\"butterBar butterBar--center\"><p class=\"butterBar-message\">' + message + '</p></div>');\n     */\n    const div = document.createElement('div');\n    const p = document.createElement('p');\n    div.classList.add('butterBar', 'butterBar--center');\n    p.classList.add('butterBar-message');\n    p.innerHTML = message;\n    div.appendChild(p);\n    document.body.appendChild(div);\n    if (keep !== true)\n        setTimeout(() => { clearButterbar(); }, typeof keep == 'number' ? keep : 6000);\n    return div;\n}\n","import { ready } from \"./util\";\n/**\n * cdn\n * \n * 1.cdn downcdn\n * 2.cdn()\n * 3.\n * cdn\n * TODO: fallback\n */\nconst STORAGE_KEY = 'sakurairo_prefer_cdn';\nconst CDN_LIST = [\n    /*     [\"https://jscdn.host/release/ucode/\", \"/\", \"/\", \"\"],\n        [\"https://cdnjs.cloudflare.com/ajax/libs/\", \"/\", \"/\", \"\"],\n     */\n    [\"https://jsd.nmxc.ltd/npm/\", \"@\", \"/\", \"\"],\n    [\"https://cdn.jsdelivr.net/npm/\", \"@\", \"/\", \"\"],\n    [\"https://unpkg.com/\", \"@\", \"/\", \"\"],\n    //TODO:cdn\n];\nfunction getPreferCDNIndex() {\n    const config = localStorage.getItem(STORAGE_KEY);\n    if (config) {\n        const num = parseInt(config);\n        if (isNaN(num) || num >= CDN_LIST.length) {\n            //\n            localStorage.removeItem(STORAGE_KEY);\n            return 0;\n        }\n        return num;\n    }\n    else {\n        return 0;\n    }\n}\nconst currentCDNIndex = getPreferCDNIndex();\nconst currentCDN = { raw: CDN_LIST[currentCDNIndex] };\n/**\n * CDNnpm\n * @author KotoriK\n * @param relativePath npm\n * @param packageName npm\n * @param version npmlatest\n * @returns cdnurl\n */\nexport const resolvePath = (relativePath, packageName, version) => String.raw(currentCDN, packageName, version || PKG_INFO[packageName] || 'latest', relativePath);\nconst resolvePathByCDN = (cdn, relativePath, moduleName, version) => String.raw({ raw: cdn }, moduleName, version, relativePath);\nfunction isServedByCurrentCDN(path) {\n    const cdnMatchKey = CDN_LIST[currentCDNIndex][0];\n    if (path.match(cdnMatchKey)) {\n        return true;\n    }\n}\nfunction analyze(time = 30000) {\n    let failedCounts = 0;\n    let totalCounts = 0;\n    const observer = new PerformanceObserver((list, observer) => {\n        for (const entry of list.getEntries()) {\n            if (isServedByCurrentCDN(entry.name)) {\n                totalCounts++;\n                const { transferSize } = entry;\n                if (transferSize == 0) {\n                    //\n                    failedCounts++;\n                }\n            }\n        }\n    });\n    observer.observe({ entryTypes: ['resource'] });\n    setTimeout(() => {\n        observer.disconnect();\n        if (failedCounts / totalCounts > 0.7) {\n            //cdn\n            const nextCDN = currentCDNIndex + 1;\n            localStorage.setItem(STORAGE_KEY, (nextCDN >= CDN_LIST.length ? 0 : nextCDN).toString());\n        }\n    }, time);\n}\nready(analyze);\n//TODO\n//cdn\nasync function testCDN() {\n    await Promise.allSettled(CDN_LIST.map((cdn) => \n    //baguettebox.js@1.11.1/dist/baguetteBox.min.css\n    fetch(resolvePathByCDN(cdn, 'dist/baguetteBox.min.css', 'baguettebox.js', '1.11.1'))));\n}\nexport const importExternal = (path, packageName, version) => {\n    const script = document.createElement('script');\n    script.src = resolvePath(path, packageName, version);\n    script.async = true;\n    //TODO: \n    return new Promise((resolve) => {\n        script.onload = resolve;\n        script.onerror = () => {\n            console.error(packageName, \"\");\n        };\n        document.body.append(script);\n    }).finally(() => {\n        script.onload = script.onerror = null; //ie\n    });\n};\n","/**\n *\n * @param key \n */\n//@ts-ignore\nexport const __ = (defaultStr) => (window._sakurairoi18n && _sakurairoi18n[defaultStr]) || defaultStr;\n/**\n *\n *  {index} ex.{0}\n * @param defaultStr \n * @param replacements \n */\nexport const _$ = (defaultStr, ...replacements) => {\n    let template = __(defaultStr);\n    for (const index in replacements) {\n        template = template.replace('{' + index + '}', replacements[index]);\n    }\n    return template;\n};\nexport const sakurairoGlobal = {\n    opt: {},\n    /*     _sys_call:sys_call\n     */\n    build: BUILD_INFO\n};\n/**\n * sakurairoGlobal\n * @param key\n * @param value\n * @returns\n */\nexport const registerOnGlobal = (key, value) => Object.defineProperty(sakurairoGlobal, key, {\n    value: value,\n    writable: false,\n    enumerable: true,\n});\nif ('_sakurairo' in window) {\n    //@ts-ignore\n    const _sakurairo = window._sakurairo;\n    //@ts-ignore\n    if ('opt' in _sakurairo) {\n        sakurairoGlobal.opt = _sakurairo.opt;\n    }\n}\n//@ts-ignore\nwindow._sakurairo = sakurairoGlobal;\n","let readyFunctionList = [];\n/**\n * \n * @param func \n * @returns \n */\nexport const onlyOnceATime = (func) => {\n    let isRunning = false;\n    return (...args) => {\n        if (!isRunning) {\n            isRunning = true;\n            try {\n                const result = func(...args);\n                if (result instanceof Promise) {\n                    result.finally(() => isRunning = false);\n                }\n                else {\n                    isRunning = false;\n                }\n                return result;\n            }\n            catch (e) {\n                console.warn(e);\n                isRunning = false;\n            }\n        }\n    };\n};\nconst whileReady = () => {\n    document.removeEventListener('DOMContentLoaded', whileReady);\n    for (const fn of readyFunctionList) {\n        fn();\n    }\n    readyFunctionList = [];\n};\n/**\n * DOM\n * @seealso https://developer.mozilla.org/zh-CN/docs/Web/API/Document/readyState\n * @param fn \n */\nexport const ready = function (fn) {\n    //interactive:DOMContentLoaded\n    //complete:load\n    if (document.readyState !== 'loading') {\n        return fn();\n    }\n    if (readyFunctionList.length == 0) {\n        document.addEventListener('DOMContentLoaded', whileReady, false);\n    }\n    readyFunctionList.push(fn);\n};\n/**\n * \n * @param fileName \n * @returns \n */\nexport const getFileNameMain = (fileName) => fileName.replace(/\\.\\w+$/, '');\nexport function slideToggle(el, duration = 1000, mode = '', callback) {\n    const dom = el;\n    dom.status = dom.status || getComputedStyle(dom, null)['display'];\n    const flag = dom.status != 'none';\n    if ((flag == true && mode == \"show\") || (flag == false && mode == \"hide\"))\n        return;\n    dom.status = flag ? 'none' : 'block';\n    dom.style.transition = 'height ' + duration / 1000 + 's';\n    dom.style.overflow = 'hidden';\n    clearTimeout(dom.tagTimer);\n    dom.tagTimer = dom.tagTimer || null;\n    dom.style.display = 'block';\n    dom.tagHeight = dom.tagHeight || dom.clientHeight + 'px';\n    dom.style.display = '';\n    dom.style.height = flag ? dom.tagHeight : \"0px\";\n    setTimeout(() => {\n        dom.style.height = flag ? \"0px\" : dom.tagHeight;\n    }, 0);\n    dom.tagTimer = setTimeout(() => {\n        dom.style.display = flag ? 'none' : 'block';\n        dom.style.transition = '';\n        dom.style.overflow = '';\n        dom.style.height = '';\n        dom.status = dom.tagHeight = null;\n    }, duration);\n    if (callback)\n        callback();\n}\nexport function buildAPI(apiPath, params = {}, nonce = true) {\n    const path = new URL(apiPath);\n    const { searchParams } = path;\n    for (const [key, value] of Object.entries(params)) {\n        searchParams.set(key, value);\n    }\n    if (nonce)\n        searchParams.set(\"_wpnonce\", _iro.nonce);\n    return path.toString();\n}\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nexport function noop() { }\n","const mainContainer = document.getElementById(\"main-container\");\nfunction toggle() {\n    document.body.classList.toggle(\"navOpen\");\n    mainContainer.classList.toggle(\"open\");\n    document.getElementById(\"mo-nav\").classList.toggle(\"open\");\n    document.querySelector(\".openNav\").classList.toggle(\"open\");\n    document.querySelector(\".site-header\").classList.toggle(\"open\");\n}\nexport function open() {\n    toggle();\n    document.documentElement.style.overflow = \"hidden\";\n    mainContainer.addEventListener('click', close);\n}\nexport function close() {\n    toggle();\n    document.documentElement.style.overflow = \"unset\";\n    mainContainer.removeEventListener('click', close);\n}\n","import { buildAPI } from '../common/util';\nimport { __ } from '../common/sakurairo_global';\nlet QueryStorage;\nfunction renderSearchResult(keyword, link, fa, title, iconfont, comments, text) {\n    if (keyword) {\n        const s = keyword.trim().split(\" \"), a = title.indexOf(s[s.length - 1]), b = text.indexOf(s[s.length - 1]);\n        title = a < 60 ? title.slice(0, 80) : title.slice(a - 30, a + 30);\n        title = title.replace(s[s.length - 1], '<mark class=\"search-keyword\"> ' + s[s.length - 1].toUpperCase() + ' </mark>');\n        text = b < 60 ? text.slice(0, 80) : text.slice(b - 30, b + 30);\n        text = text.replace(s[s.length - 1], '<mark class=\"search-keyword\"> ' + s[s.length - 1].toUpperCase() + ' </mark>');\n    }\n    return `<div class=\"ins-selectable ins-search-item\" href=\"${link}\"><header><i class=\"fa-solid ${fa}\" aria-hidden=\"true\"></i>${title}<i class=\"fa-solid ${iconfont}\">${comments}</i></header><p class=\"ins-search-preview\">${text}</p></div>`;\n}\nfunction Cx(array, query) {\n    for (let s = 0; s < query.length; s++) {\n        if (['.', '?', '*'].indexOf(query[s]) != -1) {\n            query = query.slice(0, s) + \"\\\\\" + query.slice(s);\n            s++;\n        }\n    }\n    query = query.replace(query, \"^(?=.*?\" + query + \").+$\").replace(/\\s/g, \")(?=.*?\");\n    return array.filter(v => Object.values(v)\n        .some(v => new RegExp(query + '').test(v)));\n}\nfunction query(B, keyword) {\n    let y = \"\", w = \"\", u = \"\", r = \"\", p = \"\", F = \"\";\n    const G = '<section class=\"ins-section\"><header class=\"ins-section-header\">', D = \"</section>\", E = \"</header>\", queries = Cx(B, keyword.trim());\n    for (const query of queries) {\n        switch (query.type) {\n            case \"post\":\n                w = w + renderSearchResult(keyword, query.link, \"fa-inbox\", query.title, \"fa-comments\", query.comments, query.text);\n                break;\n            case \"tag\":\n                p = p + renderSearchResult(\"\", query.link, \"fa-tag\", query.title, \"none\", \"\", \"\");\n                break;\n            case \"category\":\n                r = r + renderSearchResult(\"\", query.link, \"fa-folder\", query.title, \"none\", \"\", \"\");\n                break;\n            case \"page\":\n                u = u + renderSearchResult(keyword, query.link, \"fa-file\", query.title, \"fa-comments\", query.comments, query.text);\n                break;\n            case \"comment\":\n                F = F + renderSearchResult(keyword, query.link, \"fa-comment\", query.title, \"none\", \"\", query.text);\n                break;\n        }\n    }\n    w && (y = y + G + __(\"\") + E + w + D);\n    u && (y = y + G + __(\"\") + E + u + D);\n    r && (y = y + G + __(\"\") + E + r + D);\n    p && (y = y + G + __(\"\") + E + p + D);\n    F && (y = y + G + __(\"\") + E + F + D);\n    document.getElementById(\"PostlistBox\").innerHTML = y;\n}\nfunction search_a(val) {\n    const otxt = document.getElementById(\"search-input\");\n    if (sessionStorage.getItem('search') != null) {\n        QueryStorage = JSON.parse(sessionStorage.getItem('search'));\n        query(QueryStorage, otxt.value);\n        div_href();\n    }\n    else {\n        fetch(val)\n            .then(async (resp) => {\n            if (resp.ok) {\n                const json = await resp.text();\n                if (json != \"\") {\n                    sessionStorage.setItem('search', json);\n                    QueryStorage = JSON.parse(json);\n                    query(QueryStorage, otxt.value);\n                    div_href();\n                }\n            }\n            else {\n                console.warn('HTTP ' + resp.status);\n            }\n        })\n            .catch(reason => console.warn(reason));\n    }\n}\n/*                     if (!Object.values) Object.values = function (obj) {\n                        if (obj !== Object(obj))\n                            throw new TypeError('Object.values called on a non-object');\n                        var val = [],\n                            key;\n                        for (key in obj) {\n                            if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                                val.push(obj[key]);\n                            }\n                        }\n                        return val;\n                    } */\nfunction div_href() {\n    const search_close = document.querySelector(\".search_close\");\n    const Ty = document.getElementById('Ty');\n    for (const ele of document.getElementsByClassName('ins-selectable')) {\n        ele.addEventListener(\"click\", () => {\n            Ty.href = ele.getAttribute('href');\n            Ty.click();\n            search_close.click();\n        });\n    }\n    /* $(\".ins-selectable\").each(function () {\n        $(this).click(function () {\n            $(\"#Ty\").attr('href', $(this).attr('href'));\n            $(\"#Ty\").click();\n            $(\".search_close\").click();\n        });\n    }); */\n}\nexport function jsSearchCallback() {\n    //$('.js-toggle-search').toggleClass('is-active');\n    document.getElementsByClassName('js-toggle-search')[0].classList.toggle('is-active');\n    //$('.js-search').toggleClass('is-visible');\n    document.getElementsByClassName('js-search')[0].classList.toggle('is-visible');\n    //$('html').css('overflow-y', 'hidden');\n    document.documentElement.style.overflowY = 'hidden';\n    if (_iro.live_search) {\n        QueryStorage = [];\n        search_a(buildAPI(_iro.api + \"sakura/v1/cache_search/json\"));\n        let otxt = document.getElementById(\"search-input\"), \n        //list = document.getElementById(\"PostlistBox\"),\n        //Record = list.innerHTML,\n        searchFlag = null;\n        otxt.oninput = function () {\n            if (searchFlag != null) {\n                clearTimeout(searchFlag);\n            }\n            searchFlag = setTimeout(function () {\n                query(QueryStorage, otxt.value);\n                div_href();\n            }, 250);\n        };\n    }\n}\n","import { lazyload } from 'lazyload'\nimport { slideToggle } from \"../common/util\";\nimport { changeCoverBG, getCoverPath, getCurrentBG, nextBG, preBG } from \"./coverBackground\";\nimport { isMobile } from \"./mobile\";\nimport { open, close } from './mobile_nav'\n\nvar _mashiro_global_skin_secter = true\n\nexport function checkSkinSecter() {\n    if (_mashiro_global_skin_secter === false) {\n        const pattern = document.querySelector(\".pattern-center\"),\n            headertop = document.querySelector(\".headertop-bar\");\n        if (pattern) {\n            pattern.classList.remove(\"pattern-center\");\n            pattern.classList.add(\"pattern-center-sakura\");\n        }\n        if (headertop) {\n            headertop.classList.remove(\"headertop-bar\");\n            headertop.classList.add(\"headertop-bar-sakura\");\n        }\n    } else {\n        const pattern = document.querySelector(\".pattern-center-sakura\"),\n            headertop = document.querySelector(\".headertop-bar-sakura\");\n        if (pattern) {\n            pattern.classList.remove(\"pattern-center-sakura\");\n            pattern.classList.add(\"pattern-center\");\n        }\n        if (headertop) {\n            headertop.classList.remove(\"headertop-bar-sakura\");\n            headertop.classList.add(\"headertop-bar\");\n        }\n    }\n}\n/**\n * \n * @param {string} tagId ID\n * @returns \n */\nexport async function changeSkin(tagId) {\n    //@sideeffect\n    _mashiro_global_skin_secter = tagId == \"white-bg\" || tagId == \"dark-bg\";\n    checkSkinSecter();\n    let bg_url;\n    switch (tagId) {\n        case \"white-bg\":\n            if (_iro.site_bg_as_cover) {\n                changeCoverBG(await getCoverPath())// \n                return\n            } else {\n                bg_url = _iro.skin_bg0;\n            }\n            break;\n        case \"diy1-bg\":\n            bg_url = _iro.skin_bg1;\n            break;\n        case \"diy2-bg\":\n            bg_url = _iro.skin_bg2;\n            break;\n        case \"diy3-bg\":\n            bg_url = _iro.skin_bg3;\n            break;\n        case \"diy4-bg\":\n            bg_url = _iro.skin_bg4;\n            break;\n    }\n    document.body.style.backgroundImage = bg_url ? `url(${bg_url})` : '';\n}\n\nexport function bgButtonAddListener() {\n    const next = document.getElementById(\"bg-next\"),\n        pre = document.getElementById(\"bg-pre\");\n    if (next) { next.onclick = nextBG }\n    if (pre) { pre.onclick = preBG }\n}\n\nexport function timeSeriesReload(flag) {\n    let archives = document.getElementById('archives');\n    if (archives == null) return;\n    let al_li = archives.getElementsByClassName('al_mon');\n    if (flag == true) {\n        archives.addEventListener(\"click\", (e) => {\n            if (e.target.classList.contains(\"al_mon\")) {\n                e.preventDefault();\n                slideToggle(e.target.nextElementSibling, 500);\n            }\n        })\n        lazyload();\n    } else {\n        let al_expand_collapse = document.getElementById('al_expand_collapse');\n        al_expand_collapse.style.cursor = \"s-resize\";\n        for (let i = 0; i < al_li.length; i++) {\n            let a = al_li[i],\n                num = a.nextElementSibling.getElementsByTagName('li').length;\n            a.style.cursor = \"s-resize\";\n            a.querySelector('#post-num').textContent = num;\n        }\n        const al_post_list = archives.getElementsByClassName(\"al_post_list\")\n        const al_post_list_first = al_post_list[0];\n        const cb = () => {\n            slideToggle(al_post_list_first, 500, 'show');\n        }\n        for (const child of al_post_list) {\n            slideToggle(child, 500, 'hide', cb)\n        }\n        archives.addEventListener(\"click\", (e) => {\n            if (e.target.classList.contains(\"al_mon\")) {\n                slideToggle(e.target.nextElementSibling, 500);\n                e.preventDefault();\n            }\n        })\n        if (!isMobile()) {\n            for (let i = 0; i < al_post_list.length; i++) {\n                let el = al_post_list[i];\n                el.parentNode.addEventListener('mouseover', () => {\n                    slideToggle(el, 500, 'show');\n                    return false;\n                })\n            }\n            if (false) {\n                for (let i = 0; i < al_post_list.length; i++) {\n                    let el = al_post_list[i];\n                    el.parentNode.addEventListener('mouseover', function () {\n                        slideToggle(el, 500, 'hide');\n                        return false;\n                    })\n                }\n            }\n            let al_expand_collapse_click = 0;\n            al_expand_collapse.addEventListener('click', () => {\n                if (al_expand_collapse_click == 0) {\n                    for (let i = 0; i < al_post_list.length; i++) {\n                        let el = al_post_list[i];\n                        slideToggle(el, 500, 'show');\n                    }\n                    al_expand_collapse_click++;\n                } else if (al_expand_collapse_click == 1) {\n                    for (let i = 0; i < al_post_list.length; i++) {\n                        let el = al_post_list[i];\n                        slideToggle(el, 500, 'hide');\n                    }\n                    al_expand_collapse_click--;\n                }\n            });\n        }\n    }\n}\n//#region Siren\nimport { liveplay, livepause, } from './video'\nexport function MN() {\n    const iconflat = document.querySelector(\".iconflat\");\n    iconflat && iconflat.addEventListener(\"click\", (e) => {\n        e.stopPropagation()\n        if (document.body.classList.contains(\"navOpen\")) {\n            close()\n        } else {\n            open()\n        }\n    });\n}\n\nexport function MNH() {\n    if (document.body.classList.contains(\"navOpen\")) {\n        close()\n    }\n}\n/**\n * @has-dom-modify\n */\nexport function auto_height() {\n    if (_iro.windowheight == 'auto') {\n        if (document.querySelector(\"h1.main-title\")) {\n            //let _height = document.documentElement.clientHeight + \"px\";\n            const centerbg = document.getElementById(\"centerbg\")\n            const bgvideo = document.getElementById(\"bgvideo\")\n            if (centerbg) centerbg.style.height = \"100vh\";\n            if (bgvideo) bgvideo.style.minHeight = \"100vh\";\n        }\n    } else {\n        const headertop = document.querySelector(\".headertop\")\n        headertop && headertop.classList.add(\"headertop-bar\");\n    }\n}\n/**\n * @has-dom-modify\n */\nexport function PE() {\n    const headertop = document.querySelector(\".headertop\")\n    if (headertop) {\n        let blank = document.querySelector(\".blank\");\n        if (document.querySelector(\".main-title\")) {\n            try {\n                blank.style.paddingTop = \"0px\";\n            } catch (e) { }\n            headertop.style.height = \"auto\";\n            headertop.style.display = \"\";\n            if (_iro.movies.live) liveplay();\n        } else {\n            try {\n                blank.style.paddingTop = \"75px\";\n            } catch (e) { }\n            headertop.style.height = \"0px\";\n            headertop.style.display = \"none\";\n            livepause();\n        }\n    }\n}\nimport { jsSearchCallback } from './search'\nimport { turnOnDarkMode, turnOffDarkMode } from './darkmode';\n/**\n * @has-dom-modify\n */\nexport function CE() {\n    let comments_fold = document.querySelector(\".comments-fold\");\n    let comments_main = document.querySelector(\".comments-main\");\n    if (comments_fold != null) {\n        comments_fold.style.display = \"block\";\n        comments_main.style.display = \"none\";\n        comments_fold.addEventListener(\"click\", () => {\n            slideToggle(comments_main, 500, 'show');\n            comments_fold.style.display = \"none\";\n        });\n    }\n    let archives = document.getElementsByClassName(\"archives\");\n    if (archives.length > 0) {\n        for (let i = 1; i < archives.length; i++) {\n            archives[i].style.display = \"none\";\n        }\n        archives[0].style.display = \"\";\n        let h3 = document.getElementById(\"archives-temp\").getElementsByTagName(\"h3\");\n        const handler = (e) => {\n            e.preventDefault();\n            e.stopPropagation();\n            slideToggle(e.target.nextElementSibling, 300);\n        }\n        for (let i = 0; i < h3.length; i++) {\n            h3[i].addEventListener(\"click\", handler)\n        }\n    }\n    // $('.comments-hidden').show();\n    // $('.comments-main').hide();\n    // $('.comments-hidden').click(function () {\n    //     $('.comments-main').slideDown(500);\n    //     $('.comments-hidden').hide();\n    // });\n    // $('.archives').hide();\n    // $('.archives:first').show();\n    // $('#archives-temp h3').click(function () {\n    //     $(this).next().slideToggle('fast');\n    //     return false;\n    // });\n    /*if (_iro.baguetteBoxON) {\n        baguetteBox.run('.entry-content', {\n            captions: function (element) {\n                return element.getElementsByTagName('img')[0].alt;\n            },\n            ignoreClass: 'fancybox',\n        });\n    }*/\n\n    for (const ele of document.getElementsByClassName('js-toggle-search')) {\n        ele.addEventListener('click', jsSearchCallback);\n    }\n\n    const sc = document.querySelector(\".search_close\");\n    sc && sc.addEventListener(\"click\", () => {\n        let js_search = document.getElementsByClassName(\"js-search\")[0];\n        if (js_search.classList.contains(\"is-visible\")) {\n            document.getElementsByClassName(\"js-toggle-search\")[0].classList.toggle(\"is-active\");\n            js_search.classList.toggle(\"is-visible\");\n            document.documentElement.style.overflowY = \"unset\";\n        }\n    });\n    try {\n        const loading = document.getElementById(\"loading\");\n        loading.addEventListener(\"click\", () => {\n            loading.classList.add(\"hide\");\n            loading.classList.remove(\"show\");\n        });\n    } catch (e) { }\n}\nexport function collapseMenu() {\n    const show_Nav = document.getElementById(\"show-nav\");\n    show_Nav && show_Nav.addEventListener(\"click\", () => {\n        const sln = document.querySelector(\".site-top .lower nav\");\n        if (show_Nav.classList.contains(\"showNav\")) {\n            show_Nav.classList.remove(\"showNav\");\n            show_Nav.classList.add(\"hideNav\");\n            sln && sln.classList.add(\"navbar\");\n        } else {\n            show_Nav.classList.remove(\"hideNav\");\n            show_Nav.classList.add(\"showNav\");\n            sln && sln.classList.remove(\"navbar\");\n        }\n    });\n}\n//#endregion Siren\nexport function addSkinMenuListener() {\n    const cached = document.querySelectorAll(\".menu-list li\");\n    const handler = (e) => {\n        const tagid = e.target.id || e.target.parentElement.id;\n        if (tagid == \"dark-bg\") {\n            turnOnDarkMode(true)\n        } else {\n            turnOffDarkMode(true)\n            changeSkin(tagid)\n            localStorage.setItem(\"bgImgSetting\", tagid)\n        }\n        closeSkinMenu();\n    }\n    for (const e of cached) {\n        e.addEventListener(\"click\", handler);\n    }\n}\n/**\n * \n * @returns PromisePromise resolved \n */\nexport function checkBgImgSetting() {\n    return changeSkin(localStorage.getItem(\"bgImgSetting\") || 'white-bg');\n}\nexport async function checkCoverBackground() {\n    if (_iro.site_bg_as_cover) {\n        return //checkBgImgSetting\n    }\n    if (!_iro.land_at_home) return//  \n    if (getCurrentBG()) {//\n        return\n    }\n    changeCoverBG(await getCoverPath())\n}\nexport function closeSkinMenu() {\n    document.querySelector(\".skin-menu\").classList.remove(\"show\");\n    setTimeout(() => {\n        const changeSkin = document.querySelector(\".changeSkin-gear\")\n        if (changeSkin != null) {\n            changeSkin.style.visibility = \"visible\";\n        }\n    }, 300);\n}","function imgError(ele, type) {\n    switch (type) {\n        case 1:\n            ele.src = 'https://s.nmxc.ltd/sakurairo_vision/@2.6/basic/friendlink.jpg';\n            break;\n        case 2:\n            ele.src = 'https://sdn.geekzu.org/avatar/?s=80&d=mm&r=g';\n            break;\n        default:\n            ele.src = 'https://s.nmxc.ltd/sakurairo_vision/@2.6/basic/image-404.png';\n    }\n}\nfunction cmt_showPopup(ele) {\n    let popup = ele.querySelector(\"#thePopup\");\n    popup.classList.add(\"show\");\n    ele.querySelector(\"input\").onblur = () => {\n        popup.classList.remove(\"show\");\n    }\n}\n/*feature*/\nfunction coverVideo() {\n    let video = document.getElementById(\"coverVideo\"),\n        btn_playControl = document.getElementById(\"cv-pc\");\n\n    if (video.paused) {\n        video.play();\n        try {\n            btn_playControl.innerHTML = '<i class=\"fa-solid fa-pause\"></i>';\n        } catch { }\n        //console.info('play:coverVideo()');\n    } else {\n        video.pause();\n        try {\n            btn_playControl.innerHTML = '<i class=\"fa-solid fa-play\"></i>';\n        } catch { }\n        //console.info('pause:coverVideo()');\n    }\n}\nfunction coverVideoMute() {\n    const video = document.getElementById(\"coverVideo\")\n    const btn_volumeControl = document.getElementById(\"cv-vc\");\n    if (video.muted) {\n        video.muted = false\n        btn_volumeControl.innerHTML = '<i class=\"fa-solid fa-volume-high\"></i>'\n    } else {\n        video.muted = true\n        btn_volumeControl.innerHTML = '<i class=\"fa-solid fa-volume-off\"></i>'\n    }\n}\nfunction killCoverVideo() {\n    var video = document.getElementById(\"coverVideo\");\n    var btn_playControl = document.getElementById(\"cv-pc\");\n\n    if (video.paused) {\n        //console.info('none:killCoverVideo()');\n    } else {\n        video.pause();\n        try {\n            btn_playControl.innerHTML = '<i class=\"fa-solid fa-play\"></i>';\n        } catch (e) { }\n        //console.info('pause:killCoverVideo()');\n    }\n}\n\nfunction mail_me() {\n    window.open(\"mailto:\" + _iro.email_name + \"@\" + _iro.email_domain);\n}\n/*  */\nfunction headertop_down() {\n    let coverOffset = document.getElementById(\"content\").getBoundingClientRect().top + window.pageYOffset;\n    window.scrollTo({\n        top: coverOffset,\n        behavior: \"smooth\"\n    });\n}\nwindow.imgError = imgError\nwindow.cmt_showPopup = cmt_showPopup\nwindow.coverVideo = coverVideo\nwindow.coverVideoMute = coverVideoMute\nwindow.killCoverVideo = killCoverVideo\nwindow.mail_me = mail_me\nwindow.headertop_down = headertop_down","/**\n * NeuQuant Neural-Network Quantization Algorithm\n *\n * Copyright (c) 1994 Anthony Dekker\n *\n * See \"Kohonen neural networks for optimal colour quantization\" in \"Network:\n * Computation in Neural Systems\" Vol. 5 (1994) pp 351-367. for a discussion of\n * the algorithm.\n *\n * See also http://members.ozemail.com.au/~dekker/NEUQUANT.HTML\n *\n * Any party obtaining a copy of these files from the author, directly or\n * indirectly, is granted, free of charge, a full and unrestricted irrevocable,\n * world-wide, paid up, royalty-free, nonexclusive right and license to deal in\n * this software and documentation files (the \"Software\"), including without\n * limitation the rights to use, copy, modify, merge, publish, distribute,\n * sublicense, and/or sell copies of the Software, and to permit persons who\n * receive copies from any such party to do so, with the only requirement being\n * that this copyright notice remain intact.\n *\n * Copyright (c) 2012 Johan Nordberg (JavaScript port)\n * Copyright (c) 2014 Devon Govett (JavaScript port)\n */\n\nvar prime1 = 499;\nvar prime2 = 491;\nvar prime3 = 487;\nvar prime4 = 503;\nvar maxprime = Math.max(prime1, prime2, prime3, prime4);\nvar minpicturebytes = 3 * maxprime;\nvar defaults = {\n  ncycles: 100,\n  netsize: 256,\n  samplefac: 10\n};\nvar assign = function assign(target) {\n  for (var i = 1, l = arguments.length; i < l; i++) {\n    var nextSource = arguments[i];\n    if (nextSource != null) {\n      for (var nextKey in nextSource) {\n        if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n          target[nextKey] = nextSource[nextKey];\n        }\n      }\n    }\n  }\n  return target;\n};\nvar NeuQuant = /*#__PURE__*/function () {\n  function NeuQuant(pixels, options) {\n    assign(this, defaults, {\n      pixels: pixels\n    }, options);\n    if (this.netsize < 4 || this.netsize > 256) {\n      throw new Error('Color count must be between 4 and 256');\n    }\n    if (this.samplefac < 1 || this.samplefac > 30) {\n      throw new Error('Sampling factor must be between 1 and 30');\n    }\n    this.maxnetpos = this.netsize - 1;\n    this.netbiasshift = 4;\n    this.intbiasshift = 16;\n    this.intbias = 1 << this.intbiasshift;\n    this.gammashift = 10;\n    this.gamma = 1 << this.gammashift;\n    this.betashift = 10;\n    this.beta = this.intbias >> this.betashift;\n    this.betagamma = this.beta * this.gamma;\n    this.initrad = this.netsize >> 3;\n    this.radiusbiasshift = 6;\n    this.radiusbias = 1 << this.radiusbiasshift;\n    this.initradius = this.initrad * this.radiusbias;\n    this.radiusdec = 30;\n    this.alphabiasshift = 10;\n    this.initalpha = 1 << this.alphabiasshift;\n    this.radbiasshift = 8;\n    this.radbias = 1 << this.radbiasshift;\n    this.alpharadbshift = this.alphabiasshift + this.radbiasshift;\n    this.alpharadbias = 1 << this.alpharadbshift;\n    this.network = [];\n    this.netindex = new Uint32Array(256);\n    this.bias = new Uint32Array(this.netsize);\n    this.freq = new Uint32Array(this.netsize);\n    this.radpower = new Uint32Array(this.netsize >> 3);\n    for (var i = 0, l = this.netsize; i < l; i++) {\n      var v = (i << this.netbiasshift + 8) / this.netsize;\n      this.network[i] = new Float64Array([v, v, v, 0]);\n      this.freq[i] = this.intbias / this.netsize;\n      this.bias[i] = 0;\n    }\n  }\n  var _proto = NeuQuant.prototype;\n  _proto.unbiasnet = function unbiasnet() {\n    for (var i = 0, l = this.netsize; i < l; i++) {\n      this.network[i][0] >>= this.netbiasshift;\n      this.network[i][1] >>= this.netbiasshift;\n      this.network[i][2] >>= this.netbiasshift;\n      this.network[i][3] = i;\n    }\n  };\n  _proto.altersingle = function altersingle(alpha, i, b, g, r) {\n    this.network[i][0] -= alpha * (this.network[i][0] - b) / this.initalpha;\n    this.network[i][1] -= alpha * (this.network[i][1] - g) / this.initalpha;\n    this.network[i][2] -= alpha * (this.network[i][2] - r) / this.initalpha;\n  };\n  _proto.alterneigh = function alterneigh(radius, i, b, g, r) {\n    var lo = Math.abs(i - radius);\n    var hi = Math.min(i + radius, this.netsize);\n    var j = i + 1;\n    var k = i - 1;\n    var m = 1;\n    while (j < hi || k > lo) {\n      var a = this.radpower[m++];\n      if (j < hi) {\n        var p = this.network[j++];\n        p[0] -= a * (p[0] - b) / this.alpharadbias;\n        p[1] -= a * (p[1] - g) / this.alpharadbias;\n        p[2] -= a * (p[2] - r) / this.alpharadbias;\n      }\n      if (k > lo) {\n        var _p = this.network[k--];\n        _p[0] -= a * (_p[0] - b) / this.alpharadbias;\n        _p[1] -= a * (_p[1] - g) / this.alpharadbias;\n        _p[2] -= a * (_p[2] - r) / this.alpharadbias;\n      }\n    }\n  };\n  _proto.contest = function contest(b, g, r) {\n    var bestd = ~(1 << 31);\n    var bestbiasd = bestd;\n    var bestpos = -1;\n    var bestbiaspos = bestpos;\n    for (var i = 0, l = this.netsize; i < l; i++) {\n      var n = this.network[i];\n      var dist = Math.abs(n[0] - b) + Math.abs(n[1] - g) + Math.abs(n[2] - r);\n      if (dist < bestd) {\n        bestd = dist;\n        bestpos = i;\n      }\n      var biasdist = dist - (this.bias[i] >> this.intbiasshift - this.netbiasshift);\n      if (biasdist < bestbiasd) {\n        bestbiasd = biasdist;\n        bestbiaspos = i;\n      }\n      var betafreq = this.freq[i] >> this.betashift;\n      this.freq[i] -= betafreq;\n      this.bias[i] += betafreq << this.gammashift;\n    }\n    this.freq[bestpos] += this.beta;\n    this.bias[bestpos] -= this.betagamma;\n    return bestbiaspos;\n  };\n  _proto.inxbuild = function inxbuild() {\n    var previouscol = 0;\n    var startpos = 0;\n    for (var i = 0, l = this.netsize; i < l; i++) {\n      var p = this.network[i];\n      var q = null;\n      var smallpos = i;\n      var smallval = p[1];\n      for (var j = i + 1; j < l; j++) {\n        q = this.network[j];\n        if (q[1] < smallval) {\n          smallpos = j;\n          smallval = q[1];\n        }\n      }\n      q = this.network[smallpos];\n      if (i !== smallpos) {\n        var _ref = [q[0], p[0]];\n        p[0] = _ref[0];\n        q[0] = _ref[1];\n        var _ref2 = [q[1], p[1]];\n        p[1] = _ref2[0];\n        q[1] = _ref2[1];\n        var _ref3 = [q[2], p[2]];\n        p[2] = _ref3[0];\n        q[2] = _ref3[1];\n        var _ref4 = [q[3], p[3]];\n        p[3] = _ref4[0];\n        q[3] = _ref4[1];\n      }\n      if (smallval !== previouscol) {\n        this.netindex[previouscol] = startpos + i >> 1;\n        for (var _j = previouscol + 1; _j < smallval; _j++) {\n          this.netindex[_j] = i;\n        }\n        previouscol = smallval;\n        startpos = i;\n      }\n    }\n    this.netindex[previouscol] = startpos + this.maxnetpos >> 1;\n    for (var _i = previouscol + 1; _i < 256; _i++) {\n      this.netindex[_i] = this.maxnetpos;\n    }\n  };\n  _proto.learn = function learn() {\n    var lengthcount = this.pixels.length;\n    var alphadec = 30 + (this.samplefac - 1) / 3;\n    var samplepixels = lengthcount / (3 * this.samplefac);\n    var delta = samplepixels / this.ncycles | 0;\n    var alpha = this.initalpha;\n    var radius = this.initradius;\n    var rad = radius >> this.radiusbiasshift;\n    if (rad <= 1) {\n      rad = 0;\n    }\n    for (var i = 0; i < rad; i++) {\n      this.radpower[i] = alpha * ((rad * rad - i * i) * this.radbias / (rad * rad));\n    }\n    var step;\n    if (lengthcount < minpicturebytes) {\n      this.samplefac = 1;\n      step = 3;\n    } else if (lengthcount % prime1 !== 0) {\n      step = 3 * prime1;\n    } else if (lengthcount % prime2 !== 0) {\n      step = 3 * prime2;\n    } else if (lengthcount % prime3 !== 0) {\n      step = 3 * prime3;\n    } else {\n      step = 3 * prime4;\n    }\n    var pix = 0;\n    for (var _i2 = 0; _i2 < samplepixels;) {\n      var b = (this.pixels[pix] & 0xff) << this.netbiasshift;\n      var g = (this.pixels[pix + 1] & 0xff) << this.netbiasshift;\n      var r = (this.pixels[pix + 2] & 0xff) << this.netbiasshift;\n      var j = this.contest(b, g, r);\n      this.altersingle(alpha, j, b, g, r);\n      if (rad !== 0) {\n        this.alterneigh(rad, j, b, g, r);\n      }\n      pix += step;\n      if (pix >= lengthcount) {\n        pix -= lengthcount;\n      }\n      if (delta === 0) {\n        delta = 1;\n      }\n      if (++_i2 % delta === 0) {\n        alpha -= alpha / alphadec;\n        radius -= radius / this.radiusdec;\n        rad = radius >> this.radiusbiasshift;\n        if (rad <= 1) {\n          rad = 0;\n        }\n        for (var k = 0; k < rad; k++) {\n          this.radpower[k] = alpha * ((rad * rad - k * k) * this.radbias / (rad * rad));\n        }\n      }\n    }\n  };\n  _proto.buildColorMap = function buildColorMap() {\n    this.learn();\n    this.unbiasnet();\n    this.inxbuild();\n  };\n  _proto.getColorMap = function getColorMap() {\n    var map = new Buffer(this.netsize * 3);\n    var index = new Buffer(this.netsize);\n    for (var i = 0, l = this.netsize; i < l; i++) {\n      index[this.network[i][3]] = i;\n    }\n    for (var _i3 = 0, j = 0, k = 0, _l = this.netsize; _i3 < _l; _i3++) {\n      k = index[_i3];\n      map[j++] = this.network[k][0] & 0xff;\n      map[j++] = this.network[k][1] & 0xff;\n      map[j++] = this.network[k][2] & 0xff;\n    }\n    return map;\n  };\n  return NeuQuant;\n}();\n\nfunction findClosest(palette, r, g, b) {\n  var minpos = 0;\n  var mind = 256 * 256 * 256;\n  for (var i = 0, l = palette.length; i < l;) {\n    var dr = r - palette[i++];\n    var dg = g - palette[i++];\n    var db = b - palette[i];\n    var d = dr * dr + dg * dg + db * db;\n    var pos = i / 3 | 0;\n    if (d < mind) {\n      mind = d;\n      minpos = pos;\n    }\n    i++;\n  }\n  return minpos;\n}\nfunction palette(pixels, options) {\n  var nq = new NeuQuant(pixels, options);\n  nq.buildColorMap();\n  return nq.getColorMap();\n}\nfunction indexed(pixels, palette) {\n  var indexed = []; /* new Buffer(pixels.length / 3) */\n  var memo = {};\n  for (var i = 0, j = 0, l = pixels.length; i < l;) {\n    var r = pixels[i++];\n    var g = pixels[i++];\n    var b = pixels[i++];\n    var k = r << 16 | g << 8 | b;\n    if (k in memo) {\n      indexed[j++] = memo[k];\n    } else {\n      indexed[j++] = memo[k] = findClosest(palette, r, g, b);\n    }\n  }\n  return indexed;\n}\nfunction quantize(pixels, options) {\n  var p = palette(pixels, options);\n  var i = indexed(pixels, p);\n  return {\n    palette: p,\n    indexed: i\n  };\n}\n\nexport { indexed, palette, quantize };\n//# sourceMappingURL=index.js.map\n","/**\r\n * RGB space.\r\n *\r\n * @module  color-space/rgb\r\n */\r\n\r\nexport default {\r\n\tname: 'rgb',\r\n\tmin: [0,0,0],\r\n\tmax: [255,255,255],\r\n\tchannel: ['red', 'green', 'blue'],\r\n\talias: ['RGB']\r\n};\r\n","/**\r\n * CIE XYZ\r\n *\r\n * @module  color-space/xyz\r\n */\r\nimport rgb from './rgb.js';\r\n\r\nvar xyz = {\r\n\tname: 'xyz',\r\n\tmin: [0,0,0],\r\n\tchannel: ['X','Y','Z'],\r\n\talias: ['XYZ', 'ciexyz', 'cie1931']\r\n};\r\n\r\n\r\n/**\r\n * Whitepoint reference values with observer/illuminant\r\n *\r\n * http://en.wikipedia.org/wiki/Standard_illuminant\r\n */\r\nxyz.whitepoint = {\r\n\t//1931 2\r\n\t2: {\r\n\t\t//incadescent\r\n\t\tA:[109.85, 100, 35.585],\r\n\t\t// B:[],\r\n\t\tC: [98.074, 100, 118.232],\r\n\t\tD50: [96.422, 100, 82.521],\r\n\t\tD55: [95.682, 100, 92.149],\r\n\t\t//daylight\r\n\t\tD65: [95.045592705167, 100, 108.9057750759878],\r\n\t\tD75: [94.972, 100, 122.638],\r\n\t\t//flourescent\r\n\t\t// F1: [],\r\n\t\tF2: [99.187, 100, 67.395],\r\n\t\t// F3: [],\r\n\t\t// F4: [],\r\n\t\t// F5: [],\r\n\t\t// F6:[],\r\n\t\tF7: [95.044, 100, 108.755],\r\n\t\t// F8: [],\r\n\t\t// F9: [],\r\n\t\t// F10: [],\r\n\t\tF11: [100.966, 100, 64.370],\r\n\t\t// F12: [],\r\n\t\tE: [100,100,100]\r\n\t},\r\n\r\n\t//1964  10\r\n\t10: {\r\n\t\t//incadescent\r\n\t\tA:[111.144, 100, 35.200],\r\n\t\tC: [97.285, 100, 116.145],\r\n\t\tD50: [96.720, 100, 81.427],\r\n\t\tD55: [95.799, 100, 90.926],\r\n\t\t//daylight\r\n\t\tD65: [94.811, 100, 107.304],\r\n\t\tD75: [94.416, 100, 120.641],\r\n\t\t//flourescent\r\n\t\tF2: [103.280, 100, 69.026],\r\n\t\tF7: [95.792, 100, 107.687],\r\n\t\tF11: [103.866, 100, 65.627],\r\n\t\tE: [100,100,100]\r\n\t}\r\n};\r\n\r\n\r\n/**\r\n * Top values are the whitepoints top values, default are D65\r\n */\r\nxyz.max = xyz.whitepoint[2].D65;\r\n\r\n\r\n/**\r\n * Transform xyz to rgb\r\n *\r\n * @param {Array} xyz Array of xyz values\r\n *\r\n * @return {Array} RGB values\r\n */\r\nxyz.rgb = function (_xyz, white) {\r\n\t//FIXME: make sure we have to divide like this. Probably we have to replace matrix as well then\r\n\twhite = white || xyz.whitepoint[2].E;\r\n\r\n\tvar x = _xyz[0] / white[0],\r\n\t\ty = _xyz[1] / white[1],\r\n\t\tz = _xyz[2] / white[2],\r\n\t\tr, g, b;\r\n\r\n\t// assume sRGB\r\n\t// http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\r\n\tr = (x * 3.240969941904521) + (y * -1.537383177570093) + (z * -0.498610760293);\r\n\tg = (x * -0.96924363628087) + (y * 1.87596750150772) + (z * 0.041555057407175);\r\n\tb = (x * 0.055630079696993) + (y * -0.20397695888897) + (z * 1.056971514242878);\r\n\r\n\tr = r > 0.0031308 ? ((1.055 * Math.pow(r, 1.0 / 2.4)) - 0.055)\r\n\t\t: r = (r * 12.92);\r\n\r\n\tg = g > 0.0031308 ? ((1.055 * Math.pow(g, 1.0 / 2.4)) - 0.055)\r\n\t\t: g = (g * 12.92);\r\n\r\n\tb = b > 0.0031308 ? ((1.055 * Math.pow(b, 1.0 / 2.4)) - 0.055)\r\n\t\t: b = (b * 12.92);\r\n\r\n\tr = Math.min(Math.max(0, r), 1);\r\n\tg = Math.min(Math.max(0, g), 1);\r\n\tb = Math.min(Math.max(0, b), 1);\r\n\r\n\treturn [r * 255, g * 255, b * 255];\r\n}\r\n\r\n\r\n\r\n/**\r\n * RGB to XYZ\r\n *\r\n * @param {Array} rgb RGB channels\r\n *\r\n * @return {Array} XYZ channels\r\n */\r\nrgb.xyz = function(rgb, white) {\r\n\tvar r = rgb[0] / 255,\r\n\t\t\tg = rgb[1] / 255,\r\n\t\t\tb = rgb[2] / 255;\r\n\r\n\t// assume sRGB\r\n\tr = r > 0.04045 ? Math.pow(((r + 0.055) / 1.055), 2.4) : (r / 12.92);\r\n\tg = g > 0.04045 ? Math.pow(((g + 0.055) / 1.055), 2.4) : (g / 12.92);\r\n\tb = b > 0.04045 ? Math.pow(((b + 0.055) / 1.055), 2.4) : (b / 12.92);\r\n\r\n\tvar x = (r * 0.41239079926595) + (g * 0.35758433938387) + (b * 0.18048078840183);\r\n\tvar y = (r * 0.21263900587151) + (g * 0.71516867876775) + (b * 0.072192315360733);\r\n\tvar z = (r * 0.019330818715591) + (g * 0.11919477979462) + (b * 0.95053215224966);\r\n\r\n\twhite = white || xyz.whitepoint[2].E;\r\n\r\n\treturn [x * white[0], y * white[1], z * white[2]];\r\n};\r\n\r\n\r\n\r\nexport default xyz;\r\n","import { palette, indexed } from 'neuquant-js';\nimport rgb from 'color-space/rgb.js';\nimport xyz from 'color-space/xyz.js';\nimport lab from 'color-space/lab.js';\n\n/**\r\n * \r\n * @param a\r\n * @param b\r\n * @returns\r\n */\nfunction euclidean_distance_squared(a, b) {\n  const r = a[0] - b[0];\n  const g = a[1] - b[1];\n\n  const _b = a[2] - b[2];\n\n  const _a = a[3] - b[3];\n\n  return r ** 2 + g ** 2 + _b ** 2 + _a ** 2;\n}\nfunction euclidean_distance_squared_index(a, a_start, b) {\n  const r = a[a_start++] - b[0];\n  const g = a[a_start++] - b[1];\n\n  const _b = a[a_start++] - b[2];\n\n  const _a = a[a_start++] - b[3];\n\n  return r ** 2 + g ** 2 + _b ** 2 + _a ** 2;\n}\n/**\r\n * \r\n * @param param0 \r\n * @returns [max,min]\r\n */\n\nfunction max_min_of_three([a, b, c]) {\n  if (a > b) {\n    if (b > c) {\n      //abc\n      return [a, c];\n    } else {\n      if (a > c) {\n        //acb\n        return [a, b];\n      } else {\n        //cab\n        return [c, b];\n      }\n    }\n  } else {\n    //a<b\n    if (b > c) {\n      if (c > a) {\n        //bca\n        return [b, a];\n      } else {\n        //bac\n        return [b, c];\n      }\n    } else {\n      //cba\n      return [c, a];\n    }\n  }\n}\n\nfunction kmeans(data, k, attempt, thresold = 1) {\n  const cluster_sum\n  /*[r,g,b,a,c]*/\n  = [];\n  let cluster_centers = [];\n  let new_cluster_centers = [];\n  let iteration = 0;\n\n  for (let i = 0; i < k; i++) {\n    const start = Math.floor(Math.random() * data.length);\n    cluster_centers.push(Array.from(data.slice(start, start + 4))); //\n\n    new_cluster_centers.push(_filled_array(0, 4));\n    cluster_sum.push(_filled_array(0, 5));\n  }\n\n  while (iteration < attempt) {\n    //\n    //\n    for (let i = 0; i < data.length;) {\n      let cluster_index = 0;\n\n      let _min_distance = euclidean_distance_squared_index(data, i, cluster_centers[0]);\n\n      for (let j = 1; j < k; j++) {\n        const distance = euclidean_distance_squared_index(data, i, cluster_centers[j]);\n\n        if (distance < _min_distance) {\n          _min_distance = distance;\n          cluster_index = j;\n        }\n      }\n\n      const sum = cluster_sum[cluster_index];\n      sum[0] += data[i++];\n      sum[1] += data[i++];\n      sum[2] += data[i++];\n      sum[3] += data[i++];\n      sum[4]++;\n    }\n\n    let diff = 0; //\n\n    for (let i = 0; i < k; i++) {\n      const rgbac = cluster_sum[i];\n      const count = rgbac[4];\n\n      if (count == 0) {\n        // \n        const start = Math.floor(Math.random() * data.length);\n        new_cluster_centers[i] = Array.from(data.slice(start, start + 4));\n        diff += thresold;\n      } else {\n        const new_center = new_cluster_centers[i];\n\n        for (let j = 0; j < 4; j++) {\n          new_center[j] = rgbac[j] / count;\n        }\n\n        diff += Math.sqrt(euclidean_distance_squared(cluster_centers[i], new_cluster_centers[i]));\n      }\n    }\n\n    if (diff <= thresold) {\n      return {\n        centroid: new_cluster_centers,\n        iteration,\n        fit: true,\n        label: cluster_sum.map(v => v[4]),\n        size: data.length\n      };\n    }\n\n    const medium = cluster_centers;\n    cluster_centers = new_cluster_centers;\n    new_cluster_centers = medium;\n    iteration++; //\n\n    for (let i = 0; i < k; i++) {\n      const sum_array = cluster_sum[i];\n      sum_array[0] = 0;\n      sum_array[1] = 0;\n      sum_array[2] = 0;\n      sum_array[3] = 0;\n      sum_array[4] = 0;\n    }\n  }\n\n  return {\n    centroid: cluster_centers,\n    iteration,\n    fit: false,\n    label: cluster_sum.map(v => v[4]),\n    size: data.length\n  };\n}\n\nfunction _filled_array(fillWith, count) {\n  const array = [];\n\n  for (let i = 0; i < count; i++) {\n    array.push(fillWith);\n  }\n\n  return array;\n}\n\nfunction rgba2Rgb(data) {\n  const rgb = new Uint8ClampedArray(data.length / 4 * 3);\n  const len = data.length;\n  let rgb_i = 0;\n\n  for (let i = 0; i < len;) {\n    for (let j = 0; j < 3; j++) {\n      rgb[rgb_i++] = data[i++];\n    }\n\n    i++;\n  }\n\n  return rgb;\n}\n/**\r\n * @param samplefac Sampling factor, which can be changed to increase or decrease quality at the expense of performance. The lower the number, the higher the quality.\r\n * based on 'neuquant-js'\r\n */\n\n\nfunction neuquant(img, k, samplefac = 1) {\n  const img_rgb = rgba2Rgb(img);\n  const palette$1 = palette(img_rgb, {\n    netsize: k,\n    samplefac\n  });\n  const indexed_pixel = indexed(img_rgb, palette$1);\n  const pixel = [];\n  const len = palette$1.length;\n\n  for (let i = 0; i < len;) {\n    pixel.push([palette$1[i++], palette$1[i++], palette$1[i++], 255]);\n  }\n\n  return {\n    centroid: pixel,\n    label: count(k, indexed_pixel)\n  };\n}\n\nfunction count(k, index) {\n  const counts = new Array(k).fill(0);\n\n  for (const i of index) {\n    counts[i]++;\n  }\n\n  return counts;\n}\n\nfunction _prepare2DContext(width, height) {\n  const canvas = document.createElement('canvas');\n  const ctx = canvas.getContext('2d'); //contextType \n\n  canvas.height = height;\n  canvas.width = width;\n  return ctx;\n}\n/**\r\n * Use OffscreenCanvas\r\n */\n\n\nfunction _prepare2DContextAsync(width, height) {\n  const canvas = new OffscreenCanvas(width, height);\n  const ctx = canvas.getContext('2d');\n  return ctx;\n}\n/**\r\n * a Promise resolved when <img> is loaded\r\n * @param imgElement\r\n * @returns Event, undefined when Image is already loaded\r\n */\n\n\nfunction awaitImage(imgElement) {\n  return new Promise((resolve, reject) => {\n    if (imgElement.complete) {\n      resolve();\n    } else {\n      imgElement.addEventListener('load', e => {\n        resolve(e);\n      });\n      imgElement.addEventListener('error', reason => {\n        reject(reason);\n      });\n    }\n  });\n}\nconst readImage = _readImage.bind(undefined, _prepare2DContext);\n/**\r\n * read image using OffscreenCanvas\r\n */\n\nconst readImageOffscreen = _readImage.bind(undefined, _prepare2DContextAsync);\n\nfunction _readImage(prepareCtx, imgSource) {\n  const {\n    naturalWidth,\n    naturalHeight\n  } = imgSource;\n  const ctx = prepareCtx(naturalWidth, naturalHeight);\n  ctx.drawImage(imgSource, 0, 0, naturalWidth, naturalHeight);\n  return ctx.getImageData(0, 0, naturalWidth, naturalHeight);\n}\n/**\r\n * \r\n * @param imgSource\r\n * @param maxSample\r\n * @returns\r\n */\n\n\nconst readImageDownsampling = _readImageDownsampling.bind(undefined, _prepare2DContext);\nconst readImageDownsamplingOffscreen = _readImageDownsampling.bind(undefined, _prepare2DContextAsync);\n\nfunction _readImageDownsampling(prepareCtx, imgSource, maxSample) {\n  const {\n    naturalWidth: width,\n    naturalHeight: height\n  } = imgSource;\n  const scale = width * height / maxSample;\n\n  if (scale > 1) {\n    const n_width = width / Math.sqrt(scale);\n    const n_height = height / Math.sqrt(scale);\n    const ctx = prepareCtx(n_width, n_height);\n    ctx.drawImage(imgSource, 0, 0, n_width, n_height);\n    return ctx.getImageData(0, 0, n_width, n_height);\n  } else {\n    const ctx = prepareCtx(width, height);\n    ctx.drawImage(imgSource, 0, 0);\n    return ctx.getImageData(0, 0, width, height);\n  }\n}\n\nfunction normalizeRGBA(rgba) {\n  return rgba.map(v => v / 255);\n}\nfunction rgbaToHSLA(rgba) {\n  let h, s; //@ts-ignore\n\n  const [max, min] = max_min_of_three(rgba);\n  const diff = max - min;\n  const light_2x = max + min; //h\n\n  if (diff == 0) {\n    h = 0;\n    s = 0;\n  } else {\n    if (max == rgba[0]) {\n      const temp_h = 60 * (rgba[1] - rgba[2]) / diff;\n\n      if (temp_h < 0) {\n        h = temp_h + 360;\n      } else {\n        h = temp_h;\n      }\n    } else if (max == rgba[1]) {\n      h = 60 * (rgba[2] - rgba[0]) / diff + 120;\n    } else {\n      h = 60 * (rgba[0] - rgba[1]) / diff + 240;\n    }\n\n    if (light_2x == 0) {\n      s = 0;\n    } else if (light_2x <= 1) {\n      s = diff / light_2x;\n    } else {\n      s = diff / (2 - light_2x);\n    }\n  }\n\n  return [h, s, light_2x / 2, rgba[3]];\n}\n/**\r\n * HSLA\r\n * @param sort\r\n * @returns\r\n */\n\n\nconst getHSLAComparer = (sort = [0, 1, 2, 3]) => (a, b) => {\n  let result;\n\n  for (const s of sort) {\n    result = a[s] - b[s];\n\n    if (result != 0) {\n      return result;\n    }\n  } //ts\n  //@ts-ignore\n\n\n  return result;\n};\n/**\r\n * CSS\r\n * @param param0 \r\n * @returns hsla(${h}deg,${s}%,${l}%,${a})\r\n */\n\nconst hslaCSSText = ([h, s, l, a]) => `hsla(${h}deg,${s * 100}%,${l * 100}%,${a})`;\n/**\r\n * CSS\r\n * @param pixel \r\n * @returns rgba(r,g,b,a)\r\n */\n\nconst rgbaCSSText = pixel => `rgba(${pixel.map(v => Math.floor(v)).join(',')})`;\n\nfunction convertToLab(source) {\n  //CIE LabUint8ClampedArray\n  const array = [];\n\n  for (let i = 0; i < source.length; i += 4) {\n    const pixel = source.slice(i, i + 4);\n    const alpha = pixel[3];\n    const pixel_rgb = pixel.slice(0, 3);\n    const pixel_xyz = rgb.xyz(pixel_rgb);\n    const pixel_lab = xyz.lab(pixel_xyz);\n    array.push(...pixel_lab, alpha);\n  }\n\n  return array;\n}\nfunction labaToRGBA(laba) {\n  const pixel_lab = laba.slice(0, 3);\n  const alpha = laba[3];\n  const pixel_xyz = lab.xyz(pixel_lab);\n  const pixel_rgb = xyz.rgb(pixel_xyz);\n  pixel_rgb.push(alpha);\n  return pixel_rgb;\n}\n\nexport { awaitImage, convertToLab, getHSLAComparer, hslaCSSText, kmeans, labaToRGBA, neuquant, normalizeRGBA, readImage, readImageDownsampling, readImageDownsamplingOffscreen, readImageOffscreen, rgbaCSSText, rgbaToHSLA };\n//# sourceMappingURL=index.modern.js.map\n","/**\r\n * CIE LAB space model\r\n *\r\n * @module color-space/lab\r\n */\r\n\r\nimport xyz from './xyz.js';\r\n\r\nexport default {\r\n\tname: 'lab',\r\n\tmin: [0,-100,-100],\r\n\tmax: [100,100,100],\r\n\tchannel: ['lightness', 'a', 'b'],\r\n\talias: ['LAB', 'cielab'],\r\n\r\n\txyz: function(lab) {\r\n\t\tvar l = lab[0],\r\n\t\t\t\ta = lab[1],\r\n\t\t\t\tb = lab[2],\r\n\t\t\t\tx, y, z, y2;\r\n\r\n\t\tif (l <= 8) {\r\n\t\t\ty = (l * 100) / 903.3;\r\n\t\t\ty2 = (7.787 * (y / 100)) + (16 / 116);\r\n\t\t} else {\r\n\t\t\ty = 100 * Math.pow((l + 16) / 116, 3);\r\n\t\t\ty2 = Math.pow(y / 100, 1/3);\r\n\t\t}\r\n\r\n\t\tx = x / 95.047 <= 0.008856 ? x = (95.047 * ((a / 500) + y2 - (16 / 116))) / 7.787 : 95.047 * Math.pow((a / 500) + y2, 3);\r\n\r\n\t\tz = z / 108.883 <= 0.008859 ? z = (108.883 * (y2 - (b / 200) - (16 / 116))) / 7.787 : 108.883 * Math.pow(y2 - (b / 200), 3);\r\n\r\n\t\treturn [x, y, z];\r\n\t}\r\n};\r\n\r\n\r\n//extend xyz\r\nxyz.lab = function(xyz){\r\n\tvar x = xyz[0],\r\n\t\t\ty = xyz[1],\r\n\t\t\tz = xyz[2],\r\n\t\t\tl, a, b;\r\n\r\n\tx /= 95.047;\r\n\ty /= 100;\r\n\tz /= 108.883;\r\n\r\n\tx = x > 0.008856 ? Math.pow(x, 1/3) : (7.787 * x) + (16 / 116);\r\n\ty = y > 0.008856 ? Math.pow(y, 1/3) : (7.787 * y) + (16 / 116);\r\n\tz = z > 0.008856 ? Math.pow(z, 1/3) : (7.787 * z) + (16 / 116);\r\n\r\n\tl = (116 * y) - 16;\r\n\ta = 500 * (x - y);\r\n\tb = 200 * (y - z);\r\n\r\n\treturn [l, a, b];\r\n};\r\n","import { awaitImage, readImageDownsampling, } from '@kotorik/palette';\nimport PromiseWorker from 'promise-worker';\nimport { isInDarkMode } from '../darkmode';\n//@ts-ignore\nimport 'color-space/hsl';\n//@ts-ignore\nimport rgb from 'color-space/rgb';\nlet worker;\nlet currentColor;\nfunction hslaCSSText([h, s, l, a]) {\n    if (a) {\n        return \"hsla(\" + h + \"deg,\" + s + \"%,\" + l + \"%,\" + a + \")\";\n    }\n    else {\n        return \"hsl(\" + h + \"deg,\" + s + \"%,\" + l + \"%)\";\n    }\n}\nexport async function updateThemeSkin(coverBGUrl) {\n    try {\n        const imgElement = document.createElement('img');\n        imgElement.src = coverBGUrl;\n        imgElement.crossOrigin = \"anonymous\";\n        await awaitImage(imgElement);\n        const data = readImageDownsampling(imgElement, 10000);\n        const result = await worker.postMessage({\n            k: 8,\n            //iteration: 20,\n            img: data\n        });\n        const { label, centroid } = result;\n        const max = Math.max(...label);\n        const index = label.findIndex(value => value == max);\n        currentColor = centroid[index];\n        _setColor();\n    }\n    catch (error) {\n        console.error(error);\n        _updateThemeColor(getComputedStyle(document.documentElement).getPropertyValue('--theme-skin-matching')); //\n    }\n}\nfunction _setColor(darkmode) {\n    const hsla = rgb.hsl(currentColor);\n    if (typeof darkmode == 'undefined' ? isInDarkMode() : darkmode)\n        hsla[2] *= 0.5;\n    /*     const textColor = [0, 0, 0] as [number, number, number]\n    \n        if (hsla[2] > 40) {\n            textColor[2] = 0.314\n        } else {\n            textColor[2] = 1 - 0.314\n        }\n    \n        const style = document.documentElement.style\n        const [h, s, l] = hsla\n        style.setProperty('--header-color-h', h + 'deg')\n        style.setProperty('--header-color-s', s + '%')\n        style.setProperty('--header-color-l', l + '%')\n    \n        const siteHeader = document.querySelector<HTMLDivElement>('.site-header')\n        siteHeader.style.color = hslaCSSText(textColor)\n     */\n    _updateThemeColor(hslaCSSText(hsla));\n}\nfunction _updateThemeColor(color_css) {\n    const meta = document.querySelector('meta[name=theme-color]');\n    meta && (meta.content = color_css);\n}\nexport function initThemeColor() {\n    if (!worker)\n        worker = new PromiseWorker(new Worker(new URL('./worker.ts', import.meta.url)));\n    document.addEventListener('coverBG_change', (({ detail: coverBGUrl }) => updateThemeSkin(coverBGUrl)));\n    document.addEventListener('darkmode', (({ detail: next }) => _setColor(next)));\n}\n","async function initParticle() {\n    const cfg = document.getElementById('particles-js-cfg')\n    if (cfg) {\n        try {\n            //particles.jsnpmminifyunpkg\n            //@ts-ignore\n            await import('particles.js')\n            //@ts-ignore\n            particlesJS('particles-js', JSON.parse(cfg.innerHTML))\n        } catch (error) {\n            console.error(error)\n        }\n    }\n}\nexport default function initEffect() {\n    const { effect } = _iro\n    if (effect) {\n        if (effect.type == 'yuki') {\n            import('./falling_effect/yuki/start')\n        } else import('./falling_effect/sakura/start')\n    }\n    initParticle()\n}","/**\r\n * @module color-space/hsl\r\n */\r\nimport rgb from './rgb.js';\r\n\r\nexport default {\r\n\tname: 'hsl',\r\n\tmin: [0,0,0],\r\n\tmax: [360,100,100],\r\n\tchannel: ['hue', 'saturation', 'lightness'],\r\n\talias: ['HSL'],\r\n\r\n\trgb: function(hsl) {\r\n\t\tvar h = hsl[0] / 360,\r\n\t\t\t\ts = hsl[1] / 100,\r\n\t\t\t\tl = hsl[2] / 100,\r\n\t\t\t\tt1, t2, t3, rgb, val;\r\n\r\n\t\tif (s === 0) {\r\n\t\t\tval = l * 255;\r\n\t\t\treturn [val, val, val];\r\n\t\t}\r\n\r\n\t\tif (l < 0.5) {\r\n\t\t\tt2 = l * (1 + s);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tt2 = l + s - l * s;\r\n\t\t}\r\n\t\tt1 = 2 * l - t2;\r\n\r\n\t\trgb = [0, 0, 0];\r\n\t\tfor (var i = 0; i < 3; i++) {\r\n\t\t\tt3 = h + 1 / 3 * - (i - 1);\r\n\t\t\tif (t3 < 0) {\r\n\t\t\t\tt3++;\r\n\t\t\t}\r\n\t\t\telse if (t3 > 1) {\r\n\t\t\t\tt3--;\r\n\t\t\t}\r\n\r\n\t\t\tif (6 * t3 < 1) {\r\n\t\t\t\tval = t1 + (t2 - t1) * 6 * t3;\r\n\t\t\t}\r\n\t\t\telse if (2 * t3 < 1) {\r\n\t\t\t\tval = t2;\r\n\t\t\t}\r\n\t\t\telse if (3 * t3 < 2) {\r\n\t\t\t\tval = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tval = t1;\r\n\t\t\t}\r\n\r\n\t\t\trgb[i] = val * 255;\r\n\t\t}\r\n\r\n\t\treturn rgb;\r\n\t}\r\n};\r\n\r\n\r\n//extend rgb\r\nrgb.hsl = function(rgb) {\r\n\tvar r = rgb[0]/255,\r\n\t\t\tg = rgb[1]/255,\r\n\t\t\tb = rgb[2]/255,\r\n\t\t\tmin = Math.min(r, g, b),\r\n\t\t\tmax = Math.max(r, g, b),\r\n\t\t\tdelta = max - min,\r\n\t\t\th, s, l;\r\n\r\n\tif (max === min) {\r\n\t\th = 0;\r\n\t}\r\n\telse if (r === max) {\r\n\t\th = (g - b) / delta;\r\n\t}\r\n\telse if (g === max) {\r\n\t\th = 2 + (b - r) / delta;\r\n\t}\r\n\telse if (b === max) {\r\n\t\th = 4 + (r - g)/ delta;\r\n\t}\r\n\r\n\th = Math.min(h * 60, 360);\r\n\r\n\tif (h < 0) {\r\n\t\th += 360;\r\n\t}\r\n\r\n\tl = (min + max) / 2;\r\n\r\n\tif (max === min) {\r\n\t\ts = 0;\r\n\t}\r\n\telse if (l <= 0.5) {\r\n\t\ts = delta / (max + min);\r\n\t}\r\n\telse {\r\n\t\ts = delta / (2 - max - min);\r\n\t}\r\n\r\n\treturn [h, s * 100, l * 100];\r\n};\r\n","/**\n * app.js - Client script bundle for Sakurairo, a WordPress theme.\n * @author bymoye \n * @author KotoriK\n * @license GPL-v2\n * @date 2021.3.21\n * Github Repository:\n * @url https://github.com/Fuukei/Sakurairo_Scripts\n * @url https://github.com/mirai-mamori/Sakurairo/blob/f7db3c5c73d70a6a3f845844a44f279d540a7b6c/js/sakura-app.js\n * \n * *** ACKNOWLEDGEMENT *** \n * \n * *** modified on mashirozx/Sakura/js/sakura-app.js ***\n * Sakura theme application bundle\n * @author Mashiro\n * @url https://2heng.xin\n * @date 2019.8.3\n * *** ***\n * \n * *** inherited from louie-senpai/Siren/js/app.js ***\n * Siren application js\n * @author Louie\n * @url http://i94.me\n * @date 2016.11.19\n * *** ***\n * \n * *** inherited from Xoin-Yang/Akina/js/global.js ***\n * @author Xoin-Yang\n * @date 2017.04.25\n * @url http://www.akina.pw/\n * *** END OF ACKNOWLEDGEMENT *** \n * \n * Press 'F' to pay respects.\n * \n */\n\nimport { getCurrentBG, } from './coverBackground'\nimport add_copyright from './copyright'\nimport { loadCSS } from 'fg-loadcss'\nimport { lazyload } from 'lazyload'\nimport './global-func'\nimport { ready } from '../common/util'\nimport about_us from './about_us'\nimport preload_screen from './preload_screen'\nimport { isSupported } from './compatibility'\nimport hitokoto from './hitokoto'\nimport { web_audio } from './web_audio'\nimport { XLS, post_list_show_animation } from './post_list'\nimport { initThemeColor, updateThemeSkin } from './theme-color'\nimport initEffect from './effect'\nimport { initIsMobileCache, isMobile } from './mobile'\nimport { initFontControl } from './font_control'\nimport scrollHandler from './scroll_handler'\nimport { checkDarkModeSetting, } from './darkmode'\nimport { addSkinMenuListener, auto_height, bgButtonAddListener, CE, checkBgImgSetting, checkCoverBackground, checkSkinSecter, closeSkinMenu, MN, PE, timeSeriesReload, collapseMenu } from './func'\nimport initTypedJs from './typed'\nimport showcard from './showcard'\n\ninitIsMobileCache()\n/**\n * _iro.pjax\n * @seealso https://github.com/PaperStrike/Pjax#compatibility\n */\n_iro.pjax = _iro.pjax && isSupported({ Firefox: 60, Edg: 79, Chrome: 66, OPR: 53, Version: 12/**Safari 12 */ });\n_iro.pjax && import('./pjax').then(({ default: initPjax }) => initPjax())\n\ntimeSeriesReload();\nadd_copyright()\nfunction activate_widget() {\n    let secondary = document.getElementById(\"secondary\");\n    if (!isMobile()) {\n        let show_hide = document.querySelector(\".show-hide\");\n        show_hide && show_hide.addEventListener(\"click\", () => {\n            secondary && secondary.classList.toggle(\"active\");\n        });\n    } else {\n        secondary && secondary.remove();\n    }\n}\nsetTimeout(function () {\n    activate_widget();\n}, 100);\n\n/* let isWebkit = navigator.userAgent.toLowerCase().indexOf('webkit') > -1,\n    isOpera = navigator.userAgent.toLowerCase().indexOf('opera') > -1,\n    isIe = navigator.userAgent.toLowerCase().indexOf('msie') > -1;\nif ((isWebkit || isOpera || isIe) && document.getElementById && window.addEventListener) { */\nwindow.addEventListener('hashchange', () => {\n    const id = location.hash.substring(1)\n    if (!(/^[A-z0-9_-]+$/.test(id))) {\n        return;\n    }\n    const element = document.getElementById(id);\n    if (element) {\n        if (!(/^(?:a|select|input|button|textarea)$/i.test(element.tagName))) {\n            element.tabIndex = -1;\n        }\n        element.focus();\n    }\n}, false);\n/* } */\n\ncheckDarkModeSetting();\n\nimport POWERMODE from 'activate-power-mode'\nimport { coverVideoIni, coverVideo } from './video'\n\nfunction powermode() {\n    POWERMODE.colorful = true;\n    POWERMODE.shake = false;\n    document.body.addEventListener('input', POWERMODE)\n}\n//afterDOMContentLoaded\n\nready(function () {\n    if (_iro.float_player_on) {\n        if (!isMobile()) {\n            import('./aplayer').then(({ aplayerInit }) => aplayerInit())\n        }\n    }\n    if (_iro.land_at_home) initTypedJs()\n    Promise.all([checkCoverBackground(), checkBgImgSetting()])\n        .then(() => {\n            if (isSupported({ Version: 15/**Safari 15 */ })) {\n                initThemeColor()\n                const bgUrl = getCurrentBG()\n                if (bgUrl) updateThemeSkin(bgUrl)\n            }\n        })\n    addSkinMenuListener();\n    //let checkskin_bg = (a) => a == \"none\" ? \"\" : a;\n    let changskin = document.querySelector(\"#changskin\"),\n        close_SkinMenu = document.querySelector(\".skin-menu #close-skinMenu\");\n    changskin && changskin.addEventListener(\"click\", function () {\n        document.querySelector(\".skin-menu\").classList.toggle(\"show\");\n    })\n    close_SkinMenu && close_SkinMenu.addEventListener(\"click\", closeSkinMenu)\n    scrollHandler();\n    /*GT()*/\n    const mb_to_top = document.querySelector(\"#moblieGoTop\")\n    if (mb_to_top) {\n        mb_to_top.onclick = () => {\n            window.scrollTo({\n                top: 0,\n                behavior: \"smooth\"\n            });\n        }\n    }\n    /*GT end;*/\n    XLS();\n    MN();\n    coverVideo();\n    hitokoto()\n    bgButtonAddListener()\n    //#region has-dom-modify\n    initFontControl()\n    auto_height();\n    PE();\n    CE();\n    collapseMenu()\n    //#endregion\n    web_audio()\n    preload_screen()\n    lazyload();\n    showcard()\n    powermode()\n    //#region mashiro_global.ini.normalize();\n    post_list_show_animation();\n    coverVideoIni();\n    checkSkinSecter();\n    //#endregion\n    initEffect()\n    about_us()\n});\n","import { isMobile } from \"./mobile\";\nexport default function scrollHandler() {\n    const header_thresold = 0;\n    const siteHeader = document.querySelector(\".site-header\");\n    const changskin = document.querySelector(\"#changskin\");\n    const mb_to_top = document.querySelector(\"#moblieGoTop\");\n    const common = (scrollTop) => {\n        //NH\n        if (scrollTop > header_thresold) {\n            siteHeader.classList.add(\"yya\");\n        }\n        else {\n            siteHeader.classList.remove(\"yya\");\n        }\n        const cssText = scrollTop > 20 ? \"scale(1)\" : \"scale(0)\";\n        mb_to_top.style.transform = cssText;\n        changskin.style.transform = cssText;\n    };\n    if (isMobile()) {\n        const smallScreenHandler = () => {\n            const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;\n            common(scrollTop);\n        };\n        window.addEventListener(\"scroll\", smallScreenHandler);\n    }\n    else {\n        const cached = document.getElementById('bar');\n        const skinMenu = document.querySelector(\".skin-menu\");\n        const recalcuScrollbar = (scrollTop) => {\n            const scrollHeight = document.documentElement.scrollHeight || document.body.scrollHeight;\n            const result = Math.round(scrollTop / (scrollHeight - window.innerHeight) * 100);\n            cached.style.width = result + '%';\n            /* switch (true) {\n                case (result <= 19): c = '#cccccc'; break;\n                case (result <= 39): c = '#50bcb6'; break;\n                case (result <= 59): c = '#85c440'; break;\n                case (result <= 79): c = '#f2b63c'; break;\n                case (result <= 99): c = '#FF0000'; break;\n                case (result == 100): c = '#5aaadb'; break;\n                default: c = \"orange\";\n            }\n            cached.style.background = c; */\n            //scrollbarphp\n            skinMenu && skinMenu.classList.remove(\"show\");\n        };\n        const largeScreenHandler = () => {\n            const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;\n            recalcuScrollbar(scrollTop);\n            common(scrollTop);\n        };\n        window.addEventListener(\"scroll\", largeScreenHandler);\n    }\n}\n//pjax.complete ready\n/* function NH() {\n    const header_thresold = 0,\n        siteHeader = document.querySelector(\".site-header\")\n    window.addEventListener(\"scroll\", () => {\n        const scrollTop = document.documentElement.scrollTop || window.pageYOffset;\n        if (scrollTop > header_thresold) {\n            siteHeader.classList.add(\"yya\");\n        } else {\n            siteHeader.classList.remove(\"yya\");\n        }\n    })\n    //     $(window).scroll(function () {\n    //         var s = $(document).scrollTop(),\n    //             cached = $('.site-header');\n    //         if (s == h1) {\n    //             cached.removeClass('yya');\n    //         }\n    //         if (s > h1) {\n    //             cached.addClass('yya');\n    //         }\n    // });\n} */\n//ready\n/* function GT() {\n    const mb_to_top = document.querySelector(\"#moblieGoTop\"),\n        changskin = document.querySelector(\"#changskin\");\n    window.addEventListener(\"scroll\", debounce(() => {\n        const scroll = document.documentElement.scrollTop || document.body.scrollTop;\n        const cssText = scroll > 20 ? \"scale(1)\" : \"scale(0)\"\n        mb_to_top.style.transform = cssText;\n        changskin.style.transform = cssText;\n    }))\n    mb_to_top.onclick = topFunction\n}\n\nfunction topFunction() {\n    window.scrollTo({\n        top: 0,\n        behavior: \"smooth\"\n    });\n} */\n","export default function () {\n    const preload = document.getElementById(\"preload\");\n    if (preload) {\n        let removed = false;\n        const removeScreen = () => {\n            if (removed)\n                return;\n            document.documentElement.style.overflowY = 'unset';\n            if (_iro.preload_blur != 0) {\n                try {\n                    preload\n                        .animate([\n                        { filter: \"blur(0px)\", backdropFilter: \"blur(10px)\", opacity: 1 },\n                        { backdropFilter: \"blur(0px)grayscale(0)\", opacity: 0.1 },\n                        { opacity: 0, filter: \"blur(100px)\", }\n                    ], { duration: _iro.preload_blur, fill: \"forwards\", easing: \"ease\" })\n                        .onfinish = () => {\n                        preload.remove();\n                    };\n                    return;\n                }\n                catch (error) {\n                    console.warn(error);\n                }\n            }\n            preload.classList.add('hide');\n            preload.classList.remove('show');\n            removed = true;\n            setTimeout(() => preload.remove(), 233);\n        };\n        if (document.readyState === 'complete')\n            return removeScreen();\n        window.addEventListener('load', removeScreen, { once: true });\n        setTimeout(removeScreen, 3000);\n    }\n}\n","export default function about_us() {\n    const c = 'background: linear-gradient(to bottom right, #7b2a52, #36307f,#272151);color:#fff';\n    console.log('%c Sakurairo %c https://github.com/mirai-mamori/Sakurairo', c, '');\n    console.log('\\n' +\n        '\\n' +\n        '\\n' +\n        '\\n' +\n        '\\n' +\n        '\\n' +\n        '\\n' +\n        '%c%c\\n' +\n        '%c IDOL ', 'color:#b424b8', '', c);\n}\n","import { onlyOnceATime } from \"../common/util\";\nimport { lazyload } from 'lazyload'\nimport { __ } from '../common/sakurairo_global'\nimport { code_highlight_style } from '../page/index.js'\nlet load_post_timer;\nconst load_post = onlyOnceATime(function load_post() {\n    const now_href = document.location.href\n    const pagination_a = document.querySelector('#pagination a');\n    if (pagination_a.classList.contains(\"loading\")) return;\n    pagination_a.classList.add(\"loading\");\n    pagination_a.innerText = \"\";\n\n    // $('#pagination a').addClass(\"loading\").text(\"\");\n    fetch(pagination_a.getAttribute(\"href\") + \"#main\")\n        .then(async resp => {\n            const text = await resp.text()\n            //DOM\n            if (now_href != document.location.href) return /** */\n            const parser = new DOMParser(),\n                DOM = parser.parseFromString(text, \"text/html\"),\n                result = DOM.querySelectorAll(\"#main .post, #shuoshuo_post\"),\n                paga = DOM.querySelector(\"#pagination a\"),\n                paga_innerText = paga && paga.innerText,\n                nextHref = paga && paga.getAttribute(\"href\"),\n                main = document.getElementById(\"main\")\n            for (let i = 0; i < result.length; i++) {\n                main.append(result[i])\n            }\n            //if (resp.ok) {\n            // result = $(data).find(\"#main .post\");\n            // nextHref = $(data).find(\"#pagination a\").attr(\"href\");\n            // $(\"#main\").append(result.fadeIn(500));\n            const dpga = document.querySelector(\"#pagination a\"),\n                addps = document.querySelector(\"#add_post span\");\n            if (dpga) {\n                dpga.classList.remove(\"loading\");\n                dpga.innerText = paga_innerText;\n            }\n            if (addps) {\n                addps.classList.remove(\"loading\");\n                addps.innerText = \"\";\n            }\n            // $(\"#pagination a\").removeClass(\"loading\").text(\"Previous\");\n            // $('#add_post span').removeClass(\"loading\").text(\"\");\n            lazyload();\n            code_highlight_style();\n            post_list_show_animation();\n            document.dispatchEvent(new CustomEvent('ajax_post_loaded',))\n            if (nextHref != undefined) {\n                pagination_a.setAttribute(\"href\", nextHref);\n                // $(\"#pagination a\").attr(\"href\", nextHref);\n                //\n                let tempScrollTop = document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop;\n                // window.scrollTo(tempScrollTop);\n                // $(window).scrollTop(tempScrollTop);\n                window.scrollTo({\n                    top: tempScrollTop + 300,\n                    behavior: 'smooth'\n                })\n                // $body.animate({\n                //     scrollTop: tempScrollTop + 300\n                //\n                // }, 666)\n            } else {\n                document.getElementById(\"pagination\").innerHTML = \"<span>\" + __(\"...\") + \"</span>\";\n                // $(\"#pagination\").html(\"<span>...</span>\");\n            }\n            //}\n\n        })\n    /*  $.ajax({\n         type: \"POST\",\n         url: $('#pagination a').attr(\"href\") + \"#main\",\n         success: function (data) {\n             result = $(data).find(\"#main .post\");\n             nextHref = $(data).find(\"#pagination a\").attr(\"href\");\n             $(\"#main\").append(result.fadeIn(500));\n             $(\"#pagination a\").removeClass(\"loading\").text(\"Previous\");\n             $('#add_post span').removeClass(\"loading\").text(\"\");\n             lazyload();\n             post_list_show_animation();\n             if (nextHref != undefined) {\n                 $(\"#pagination a\").attr(\"href\", nextHref);\n                 //\n                 var tempScrollTop = $(window).scrollTop();\n                 $(window).scrollTop(tempScrollTop);\n                 $body.animate({\n                     scrollTop: tempScrollTop + 300\n\n                 }, 666)\n             } else {\n                 $(\"#pagination\").html(\"<span>...</span>\");\n             }\n         }\n     }); */\n})\nexport function post_list_show_animation() {\n    const articles = document.querySelectorAll('article.post-list-thumb')\n    if (articles) {\n        const options = {\n            root: null,\n            threshold: [0.66]\n        }\n        const callback = (entries) => {\n            entries.forEach((article) => {\n                if (article.target.classList.contains(\"post-list-show\")) {\n                    article.target.style.willChange = 'auto';\n                    io.unobserve(article.target)\n                } else if (article.isIntersecting) {\n                    article.target.classList.add(\"post-list-show\");\n                    article.target.style.willChange = 'auto';\n                    io.unobserve(article.target)\n                }\n            })\n        }\n        const io = new IntersectionObserver(callback, options)\n        for (const article of articles) {\n            io.observe(article)\n        }\n    }\n}\nfunction XLS_Listener(e) {\n    //#paginationanchor\n    if (e.target.parentElement.id == 'pagination') {\n        e.preventDefault();\n        e.stopPropagation();\n        clearTimeout(load_post_timer);\n        load_post();\n    }\n}\nexport function XLS() {\n    const intersectionObserver = new IntersectionObserver((entries) => {\n        if (entries[0].intersectionRatio <= 0) return;\n        // var page_next = $('#pagination a').attr(\"href\");\n        const _page_next = document.querySelector('#pagination a')\n        if (_page_next) {\n            const href_page_next = _page_next.getAttribute(\"href\"),\n                load_key = document.getElementById(\"add_post_time\");\n            if (href_page_next != undefined && load_key) {\n                const load_time = load_key.title;\n                if (load_time != \"233\") {\n                    console.log(\"%c  %c\", \"background:#9a9da2; color:#ffffff; border-radius:4px;\", \"\", \"\", load_time);\n                    load_post_timer = setTimeout(load_post, load_time * 1000);\n                }\n            }\n        }\n    });\n    intersectionObserver.observe(\n        document.querySelector('.footer-device')\n    );\n    document.body.removeEventListener('click', XLS_Listener)\n    document.body.addEventListener(\"click\", XLS_Listener)\n}","\nconst motionEles = [\".bili\", \".menhera\", \".tieba\"];\nfunction motionSwitch(ele) {\n    for (let i = 0; i < motionEles.length; i++) {\n        document.querySelector(motionEles[i] + '-bar').classList.remove('on-hover');\n        document.querySelector(motionEles[i] + '-container').style.display = 'none';\n    }\n    document.querySelector(ele + '-bar').classList.add(\"on-hover\");\n    document.querySelector(ele + '-container').style.display = 'block';\n}\nfunction grin(tag, type, before, after) {\n    let myField;\n    switch (type) {\n        case \"custom\": tag = before + tag + after; break;\n        case \"Img\": tag = '[img]' + tag + '[/img]'; break;\n        case \"Math\": tag = ' {{' + tag + '}} '; break;\n        case \"tieba\": tag = ' ::' + tag + ':: '; break;\n        default: tag = ' :' + tag + ': ';\n    }\n    if (document.getElementById('comment') && document.getElementById('comment').type == 'textarea') {\n        myField = document.getElementById('comment');\n    } else {\n        return false;\n    }\n    if (document.selection) {\n        myField.focus();\n        sel = document.selection.createRange();\n        sel.text = tag;\n        myField.focus();\n    } else if (myField.selectionStart || myField.selectionStart == '0') {\n        let startPos = myField.selectionStart,\n            endPos = myField.selectionEnd,\n            cursorPos = endPos;\n        myField.value = myField.value.substring(0, startPos) + tag + myField.value.substring(endPos, myField.value.length);\n        cursorPos += tag.length;\n        myField.focus();\n        myField.selectionStart = cursorPos;\n        myField.selectionEnd = cursorPos;\n    } else {\n        myField.value += tag;\n        myField.focus();\n    }\n}\nwindow.motionSwitch = motionSwitch\nwindow.grin = grin","import { loadCSS } from 'fg-loadcss';\nimport { slideToggle } from '../common/util';\nimport { resolvePath, importExternal } from '../common/npmLib';\nfunction collapse() {\n    //\n    /* jQuery(document).ready(\n    function(jQuery){\n        jQuery('.collapseButton').click(function(){\n        jQuery(this).parent().parent().find('.xContent').slideToggle('slow');\n        });\n        }) */\n    const collapseButtons = document.getElementsByClassName('collapseButton');\n    if (collapseButtons.length > 0) {\n        const collapseListener = (e) => {\n            slideToggle(e.target.parentNode.parentNode.parentNode.querySelector(\".xContent\"));\n            // e.parentNode.parentNode.querySelector(\".xContent\")\n        };\n        for (const ele of collapseButtons) {\n            ele.addEventListener(\"click\", collapseListener);\n        }\n        // import('jquery').then(({ default: jQuery }) => {\n        //     jQuery('.collapseButton').on(\"click\", function () {\n        //         jQuery(this).parent().parent().find('.xContent').slideToggle('slow');\n        //     })\n        // })\n    }\n}\nlet lightBoxCSS;\nasync function lightbox() {\n    //init lightbox\n    if (_iro.baguetteBoxON) {\n        if (!lightBoxCSS)\n            lightBoxCSS = loadCSS(resolvePath('dist/baguetteBox.min.css', 'baguettebox.js', '1.11.1'));\n        //@ts-ignore\n        const { default: baguetteBox } = await import('baguettebox.js');\n        baguetteBox.run('.entry-content', {\n            captions: function (element) {\n                return element.getElementsByTagName('img')[0].alt;\n            },\n            ignoreClass: 'fancybox',\n        });\n    }\n    else if (_iro.fancybox) {\n        if (!lightBoxCSS)\n            lightBoxCSS = loadCSS(resolvePath('dist/jquery.fancybox.min.css', '@fancyapps/fancybox', '3.5.7'));\n        if (!((window.jQuery instanceof Function) || (window.$ instanceof Function))) {\n            if (_iro.ext_shared_lib) {\n                importExternal('dist/jquery.slim.min.js', 'jquery');\n            }\n            else {\n                //@ts-ignore\n                const { default: jQuery } = await import('jquery');\n                window.$ = jQuery;\n                window.jQuery = jQuery;\n            }\n        }\n        if (_iro.ext_shared_lib) {\n            importExternal('dist/jquery.fancybox.min.js', '@fancyapps/fancybox');\n        }\n        else {\n            //@ts-ignore\n            import('@fancyapps/fancybox');\n        }\n    }\n    else if (_iro.lightGallery) {\n        //lightGalleryumd\n        /*         if (_iro.ext_shared_lib) {\n                    if (!window.lightGallery) {\n                        loadCSS(resolvePath('css/lightgallery-bundle.min.css', 'lightgallery', '2.3.0'))\n                        await importExternal('lightgallery.umd.js', 'lightgallery')\n                    }\n                    const { plugins } = _iro.lightGallery\n                    if (plugins) {\n                        (await Promise\n                            .allSettled(\n                                plugins.map((name: string) => importExternal('plugins/' + solvePluginName(name)+'.umd.js', 'lightgallery'))\n                            ))\n                            .map(handleResult)\n                    }\n                    window.lightGallery(\n                        document.querySelector('.entry-content'),\n                        _iro.lightGallery);\n                } else {\n                    //@ts-ignore\n                    const { default: initLightGallery } = await import('./lightGallery/import')\n                    initLightGallery()\n                } */\n        const { default: initLightGallery } = await import('./lightGallery/import');\n        initLightGallery();\n    }\n}\nasync function math() {\n    if (document.getElementsByTagName('math').length > 0) {\n        if (!('MathJax' in window)) {\n            //@ts-ignore\n            window.MathJax = {\n                svg: {\n                    fontCache: 'global'\n                }, startup: {\n                    typeset: false, // Perform initial typeset?\n                }, chtml: {\n                    fontURL: resolvePath('es5/output/chtml/fonts/woff-v2', 'mathjax', '2.3.0'),\n                    mathmlSpacing: true // true for MathML spacing rules, false for TeX rules\n                }\n            };\n        }\n        //@ts-ignore\n        await import('mathjax/es5/mml-chtml');\n        //@ts-ignore\n        window.MathJax.typeset();\n    }\n}\nexport default function article_attach() {\n    collapse();\n    lightbox();\n    math();\n}\n","import MD5 from 'md5';\n/**\n * Gravatar\n * from a6cd66c 11.third-part-functions.js\n */\nexport const get_gravatar = (email, size = 80) => 'https://' + _iro.gravatar_url + '/' + MD5(email) + '.jpg?s=' + size + '&d=mm';\n","import { buildAPI } from '../common/util'\nimport { get_gravatar } from './gravatar'\n\nexport default function getqqinfo() {\n    let is_get_by_qq = false;\n    const i_author = document.querySelector(\"input#author\"),\n        i_qq = document.querySelector(\"input#qq\"),\n        i_email = document.querySelector(\"input#email\"),\n        i_url = document.querySelector(\"input#url\"),\n        qq_check = document.querySelector(\".qq-check\"),\n        gravatar_check = document.querySelector(\".gravatar-check\"),\n        user_avatar_img = document.querySelector(\"div.comment-user-avatar img\");\n    if (i_author == null) return;\n    if (!localStorage.getItem('user_qq') && !localStorage.getItem('user_qq_email') && !localStorage.getItem('user_author')) {\n        i_qq.value = i_author.value = i_email.value = i_url.value = \"\";\n    }\n    if (localStorage.getItem('user_avatar') && localStorage.getItem('user_qq') && localStorage.getItem('user_qq_email')) {\n        user_avatar_img.setAttribute('src', localStorage.getItem('user_avatar'));\n        i_author.value = localStorage.getItem('user_author');\n        i_email.value = localStorage.getItem('user_qq') + '@qq.com';\n        i_qq.value = localStorage.getItem('user_qq');\n        if (_iro.qzone_autocomplete) {\n            i_url.value = 'https://user.qzone.qq.com/' + localStorage.getItem('user_qq');\n        }\n        if (i_qq.value) {\n            qq_check.style.display = \"block\";\n            gravatar_check.style.display = \"none\";\n        }\n    }\n    let emailAddressFlag = i_email.value;\n    //var emailAddressFlag = cached.filter('#email').val();\n    i_author.addEventListener('blur', () => {\n        // })\n        //cached.filter('#author').on('blur', function () {\n        const qq = i_author.value,\n            reg_QQ = /^[1-9]\\d{4,9}$/;\n        if (reg_QQ.test(qq)) {\n            const whileFailed = () => {\n                i_qq.value = '';\n                qq_check.style.display = 'none';\n                gravatar_check.style.display = 'block';\n                user_avatar_img.setAttribute('src', get_gravatar(i_email.value, 80));\n                localStorage.setItem('user_qq', '');\n                localStorage.setItem('user_email', i_email.value);\n                localStorage.setItem('user_avatar', get_gravatar(i_email.value, 80));\n                /***/\n                /*         qq.value = email.value = url.value = \"\";\n                        if (!qq.value) {\n                            qq_check.style.display = 'none';\n                            gravatar_check.style.display = 'block';\n                            setCookie('user_qq', '', 30);\n                            user_avatar_img.setAttribute('src', get_gravatar(email.value, 80));\n                            setCookie('user_avatar', get_gravatar(email.value, 80), 30);\n                        } */\n            }\n            fetch(buildAPI(_iro.qq_api_url, { qq: qq }))\n                .then(async resp => {\n                    if (resp.ok) {\n                        //success\n                        try {\n                            const data = await resp.json()\n                            i_author.value = data.name;\n                            i_email.value = qq.trim() + '@qq.com';\n                            if (_iro.qzone_autocomplete) {\n                                i_url.value = 'https://user.qzone.qq.com/' + qq.trim();\n                            }\n                            user_avatar_img.setAttribute('src', 'https://q2.qlogo.cn/headimg_dl?dst_uin=' + qq + '&spec=100');\n                            is_get_by_qq = true;\n                            i_qq.value = qq.trim();\n                            if (i_qq.value) {\n                                qq_check.style.display = 'block';\n                                gravatar_check.style.display = 'none';\n                            }\n                            localStorage.setItem('user_author', data.name);\n                            localStorage.setItem('user_qq', qq);\n                            localStorage.setItem('is_user_qq', 'yes');\n                            localStorage.setItem('user_qq_email', qq + '@qq.com');\n                            localStorage.setItem('user_email', qq + '@qq.com');\n                            emailAddressFlag = i_email.value;\n                            /***/\n                            user_avatar_img.setAttribute('src', data.avatar);\n                            localStorage.setItem('user_avatar', data.avatar);\n                        } catch (e) {\n                            console.warn(e)\n                            whileFailed()\n                        }\n                    } else {\n                        whileFailed()\n                    }\n                })\n        }\n    });\n    if (localStorage.getItem('user_avatar') && localStorage.getItem('user_email') && localStorage.getItem('is_user_qq') == 'no' && !localStorage.getItem('user_qq_email')) {\n        user_avatar_img.setAttribute(\"src\", localStorage.getItem('user_avatar'));\n        i_email.value = localStorage.getItem('user_mail');\n        i_qq.value = '';\n        if (!i_qq.value) {\n            qq_check.style.display = \"none\";\n            gravatar_check.style.display = \"block\";\n        }\n        // $('div.comment-user-avatar img').attr('src', getCookie('user_avatar'));\n        // cached.filter('#email').val(getCookie('user_email'));\n        // cached.filter('#qq').val('');\n        // if (!cached.filter('#qq').val()) {\n        //     $('.qq-check').css('display', 'none');\n        //     $('.gravatar-check').css('display', 'block');\n        // }\n    }\n    i_email.addEventListener(\"blur\", function () {\n        //cached.filter('#email').on('blur', function () {\n        let emailAddress = i_email.value;\n        // var emailAddress = cached.filter('#email').val();\n        if ((is_get_by_qq == false || emailAddressFlag != emailAddress) && emailAddress != '') {\n            user_avatar_img.setAttribute(\"src\", get_gravatar(emailAddress, 80));\n            //$('div.comment-user-avatar img').attr('src', get_gravatar(emailAddress, 80));\n            localStorage.setItem('user_avatar', get_gravatar(emailAddress, 80));\n            localStorage.setItem('user_email', emailAddress);\n            localStorage.setItem('user_qq_email', '');\n            localStorage.setItem('is_user_qq', 'no');\n            i_qq.value = '';\n            // cached.filter('#qq').val('');\n            if (!i_qq.value) {\n                qq_check.style.display = \"none\";\n                gravatar_check.style.display = \"block\";\n                // $('.qq-check').css('display', 'none');\n                // $('.gravatar-check').css('display', 'block');\n            }\n        }\n    });\n    if (localStorage.getItem('user_url')) {\n        i_url.value = localStorage.getItem(\"user_url\");\n        // cached.filter('#url').val(getCookie('user_url'));\n    }\n    i_url.addEventListener(\"blur\", function () {\n        //cached.filter('#url').on('blur', function () {\n        let URL_Address = i_url.value;\n        i_url.value = URL_Address;\n        // var URL_Address = cached.filter('#url').val();\n        // cached.filter('#url').val(URL_Address);\n        localStorage.setItem('user_url', URL_Address);\n    });\n    if (localStorage.getItem('user_author')) {\n        i_author.value = localStorage.getItem('user_author');\n        // cached.filter('#author').val(getCookie('user_author'));\n    }\n    i_author.addEventListener(\"blur\", function () {\n        // cached.filter('#author').on('blur', function () {\n        let user_name = i_author.value;\n        i_author.value = user_name;\n        // var user_name = cached.filter('#author').val();\n        // cached.filter('#author').val(user_name);\n        localStorage.setItem('user_author', user_name);\n    });\n}","const AddComment = {\n    respondId: '',\n    moveForm: function (commId, parentId, respondId) {\n        const comm = document.getElementById(commId), respond = document.getElementById(respondId), cancel = document.getElementById('cancel-comment-reply-link'), parent = document.getElementById('comment_parent');\n        //post = document.getElementById('comment_post_ID');\n        this.respondId = respondId;\n        if (!document.getElementById('wp-temp-form-div')) {\n            const div = document.createElement('div');\n            div.id = 'wp-temp-form-div';\n            div.style.display = 'none';\n            respond.parentNode.insertBefore(div, respond);\n        }\n        if (!comm) {\n            const temp = document.getElementById('wp-temp-form-div');\n            document.getElementById('comment_parent').value = '0';\n            temp.parentNode.insertBefore(respond, temp);\n            temp.remove();\n        }\n        else {\n            comm.parentNode.insertBefore(respond, comm.nextSibling);\n        }\n        const _respond = document.getElementById(\"respond\");\n        window.scrollTo({\n            top: _respond.getBoundingClientRect().top + window.pageYOffset - _respond.clientTop - 100,\n            behavior: \"smooth\"\n        });\n        parent.value = parentId;\n        cancel.style.display = '';\n        cancel.onclick = function (e) {\n            const t = AddComment, temp = document.getElementById('wp-temp-form-div'), respond = document.getElementById(t.respondId);\n            document.getElementById('comment_parent').value = '0';\n            if (temp && respond) {\n                temp.parentNode.insertBefore(respond, temp);\n                temp.remove();\n                //temp.parentNode.removeChild(temp);\n            }\n            this.style.display = 'none';\n            this.onclick = null;\n            return false;\n        };\n        try {\n            document.getElementById('comment').focus();\n        }\n        catch (e) { }\n        return false;\n    },\n};\nexport default AddComment;\n","import { isInDarkMode } from '../app/darkmode'\nimport { loadCSS } from 'fg-loadcss'\nimport { importExternal, resolvePath } from '../common/npmLib';\nwindow.LineNumbers = false;\nwindow.MatchBraces = false;\nwindow.CommandLine = false;\nconst PRISM_VERSION = PKG_INFO['prismjs']\nconst attributes = {\n    'autocomplete': 'off',\n    'autocorrect': 'off',\n    'autocapitalize': 'off',\n    'spellcheck': 'false',\n    'contenteditable': 'false',\n    'design': 'by Mashiro'\n}\nfunction gen_top_bar(pre, code_a) {\n    if (!pre.children[0]) return\n    let lang = 'text'\n    const className = pre.children[0].className\n    const matchResult = className.match(/language-(\\w+)/i)\n    if (matchResult) {\n        lang = matchResult[1]\n    }\n    pre.classList.add(\"highlight-wrap\");\n    for (const t in attributes) {\n        pre.setAttribute(t, attributes[t]);\n    }\n    code_a.setAttribute('data-rel', lang.toUpperCase());\n}\nasync function importHighlightjs() {\n    try {\n        if (!window.hljs) {\n            window.hljs = (await import('highlight.js')).default\n            await import('highlightjs-line-numbers.js')\n        }\n    } catch (e) {\n        console.warn(e)\n    }\n}\nconst hljs_click_callback = (e) => {\n    const element = e.target\n    if (!element.classList.contains(\"highlight-wrap\")) return;\n    if (element.classList.contains('code-block-fullscreen')) {\n        element.remove()\n    } else {\n        const cloneElement = element.cloneNode(true)\n        cloneElement.classList.toggle(\"code-block-fullscreen\")\n        document.body.append(cloneElement)\n    }\n    document.documentElement.classList.toggle('code-block-fullscreen-html-scroll');\n}\nexport function deattachHljsCallback() {\n    document.body.removeEventListener(\"click\", hljs_click_callback)\n}\nexport async function hljs_process(pre, code) {\n    try {\n        await importHighlightjs()\n        for (let i = 0; i < code.length; i++) {\n            if (!code[i].classList.contains(\"hljs\")) {\n                hljs.highlightElement(code[i]);\n            }            \n        }\n        for (let i = 0; i < pre.length; i++) {\n            if (!pre[i].classList.contains(\"highlight-wrap\")) {\n                gen_top_bar(pre[i], code[i]);\n            }          \n        }\n        hljs.initLineNumbersOnLoad();\n        document.body.addEventListener(\"click\", hljs_click_callback)\n    } catch (e) {\n        console.warn(e)\n    }\n}\n//Prism\nconst PrismBaseUrl = _iro.code_highlight_prism?.autoload_path || resolvePath('', 'prismjs', PRISM_VERSION)\nlet currentPrismThemeCSS = undefined\nconst themeCSS = (() => {\n    const { light, dark } = _iro.code_highlight_prism?.theme || {}\n    const theme = {\n        light: light || 'themes/prism.min.css',\n        dark: dark || 'themes/prism-tomorrow.min.css',\n    }\n    for (const theme_name in theme) {\n        theme[theme_name] = new URL(theme[theme_name], PrismBaseUrl).toString()\n    }\n    return theme\n})()\n\nfunction loadPrismCSS(darkmodeOn) {\n    const nextCSSHref = darkmodeOn ? themeCSS.dark : themeCSS.light\n    if (currentPrismThemeCSS) {\n        if (currentPrismThemeCSS.href !== nextCSSHref) {\n            const nextCSSElement = loadCSS(nextCSSHref)\n            nextCSSElement.addEventListener('load', () => {\n                currentPrismThemeCSS.remove()\n                currentPrismThemeCSS = nextCSSElement\n            })\n        }\n    } else {\n        currentPrismThemeCSS = loadCSS(nextCSSHref)\n    }\n}\n\nconst prism_darkmode_callback = (e) => {\n    loadPrismCSS(e.detail)\n}\nexport const deattachPrismCallback = () => document.removeEventListener('darkmode', prism_darkmode_callback)\nasync function importPrismJS() {\n    try {\n        if (!window.Prism) {\n            loadPrismCSS(isInDarkMode())\n            document.addEventListener('darkmode', prism_darkmode_callback)\n            //\n            loadCSS(new URL('plugins/toolbar/prism-toolbar.min.css', PrismBaseUrl).toString())\n            loadCSS(new URL('plugins/previewers/prism-previewers.min.css', PrismBaseUrl).toString())\n            if (_iro.ext_shared_lib) {\n                await Promise.all([importExternal('components/prism-core.min.js', 'prismjs', PRISM_VERSION),\n                importExternal('plugins/autoloader/prism-autoloader.min.js', 'prismjs', PRISM_VERSION),\n                importExternal('plugins/toolbar/prism-toolbar.min.js', 'prismjs', PRISM_VERSION),\n                importExternal('plugins/previewers/prism-previewers.min.js', 'prismjs', PRISM_VERSION),\n                importExternal('plugins/show-language/prism-show-language.min.js', 'prismjs', PRISM_VERSION)])\n            } else await import('./prism_pack')\n            Prism.plugins.autoloader.languages_path = new URL('components/', PrismBaseUrl).toString()\n        }\n    } catch (reason) {\n        console.warn(reason)\n    }\n}\nfunction loadPrismPluginLineNumbers() {\n    window.LineNumbers = true;\n    loadCSS(new URL('plugins/line-numbers/prism-line-numbers.min.css', PrismBaseUrl).toString())\n    if (_iro.ext_shared_lib) {\n        return importExternal('plugins/line-numbers/prism-line-numbers.min.js', 'prismjs', PRISM_VERSION)\n    } else {\n        return import('prismjs/plugins/line-numbers/prism-line-numbers')\n    }\n}\nfunction loadPrismMatchBraces() {\n    window.MatchBraces = true;\n    loadCSS(new URL('plugins/match-braces/prism-match-braces.min.css', PrismBaseUrl).toString())\n    if (_iro.ext_shared_lib) {\n        return importExternal('plugins/match-braces/prism-match-braces.min.js', 'prismjs', PRISM_VERSION)\n    } else {\n        return import('prismjs/plugins/match-braces/prism-match-braces')\n    }\n}\nfunction loadPrismCommandLine() {\n    window.CommandLine = true;\n    loadCSS(new URL('plugins/command-line/prism-command-line.css', PrismBaseUrl).toString())\n    if (_iro.ext_shared_lib) {\n        return importExternal('plugins/command-line/prism-command-line.min.js', 'prismjs', PRISM_VERSION)\n    } else {\n        return import('prismjs/plugins/command-line/prism-command-line')\n    }\n}\n/**\n * \n * @param {NodeListOf<HTMLElement>} code document.querySelectorAll(\"pre code\")\n */\nexport async function prism_process(code) {\n    try {\n        let loadLineNumber = false\n        let loadMatchBraces = false\n        let loadCommandLine = false\n        if (_iro.code_highlight_prism.line_number_all) {\n            document.querySelector('.entry-content').classList.add('line-numbers')\n            loadLineNumber = true\n        }\n        for (const ele of code) {\n            if (ele.parentElement.classList.contains('line-numbers')) {\n                loadLineNumber = true\n            }\n            if (ele.classList.contains('match-braces')) {\n                loadMatchBraces = true\n            }\n            if (ele.dataset.prompt || ele.dataset.host || ele.dataset.user) {\n                //cli\n                loadCommandLine = true\n            }\n        }\n        await Promise.all([\n            importPrismJS(),\n            loadLineNumber && !window.LineNumbers && loadPrismPluginLineNumbers(),\n            loadMatchBraces && !window.MatchBraces && loadPrismMatchBraces(),\n            loadCommandLine && !window.CommandLine && loadPrismCommandLine()\n        ])\n        for (const ele of code) {\n            if (!(ele.firstChild && ele.firstChild.classList && ele.firstChild.classList.contains('token'))) {\n                Prism.highlightElement(ele)\n            }           \n        }\n        Prism.plugins.fileHighlight && Prism.plugins.fileHighlight.highlight()\n    } catch (error) {\n        console.warn(error)\n    }\n}","import { createButterbar } from \"../common/butterbar\";\nimport { lazyload } from 'lazyload';\nconst bgmlistener = (e) => {\n    const target = e.target;\n    if (target === document.querySelector(\"#bangumi-pagination a\")) {\n        e.preventDefault();\n        e.stopPropagation();\n        if (target.classList.contains(\"loading\"))\n            return;\n        target.classList.add(\"loading\");\n        target.textContent = \"\";\n        fetch(target.dataset.href + \"&_wpnonce=\" + _iro.nonce, {\n            method: \"POST\"\n        })\n            .then(async (res) => {\n            const data = await res.json();\n            if (res.ok) {\n                document.getElementById(\"bangumi-pagination\").remove();\n                document.querySelector(\".row\").insertAdjacentHTML('beforeend', data);\n                //@ts-ignore\n                lazyload();\n            }\n            else {\n                throw Error(`ErrorStatus${res.status}`);\n            }\n        })\n            .catch(e => {\n            console.error(e);\n            createButterbar(e);\n            target.classList.remove(\"loading\");\n            target.innerHTML = '<i class=\"fa-solid fa-triangle-exclamation\"></i> ERROR ';\n        });\n    }\n};\nexport default function load_bangumi() {\n    const sections = document.getElementsByTagName(\"section\");\n    let _flag = false;\n    for (let i = 0; i < sections.length; i++) {\n        if (sections[i].classList.contains(\"bangumi\")) {\n            _flag = true;\n            break;\n        }\n    }\n    if (_flag) {\n        document.addEventListener('click', bgmlistener);\n    }\n}\n","import article_attach from './article_attach'\nimport { ready, slideToggle, buildAPI } from '../common/util'\nimport { lazyload } from 'lazyload'\nimport { createButterbar } from '../common/butterbar'\nimport './global-func'\nimport getqqinfo from './getqqinfo'\nimport addComment from './AddComment'\nimport { hljs_process, prism_process, deattachPrismCallback, deattachHljsCallback } from './code_highlight'\nimport { _$, __ } from '../common/sakurairo_global'\nimport load_bangumi from './bangumi'\nimport { importExternal } from '../common/npmLib'\nimport debounce from '@mui/utils/debounce'\nexport async function code_highlight_style() {\n    const pre = document.getElementsByTagName(\"pre\"),\n        code = document.querySelectorAll(\"pre code\");\n    if (!pre.length) {\n        switch (_iro.code_highlight) {\n            case 'hljs':\n                deattachHljsCallback()\n                return\n            case 'prism':\n                deattachPrismCallback()\n                return\n            default:\n        }\n    }\n    switch (_iro.code_highlight) {\n        case 'hljs':\n            await hljs_process(pre, code)\n            break\n        case 'prism':\n            await prism_process(code)\n            break\n        case 'custom': return\n        default:\n            console.warn(`_iro.code_highlight${_iro.code_highlight}`)\n    }\n    //copy_code_block\n    if (code.length > 0) {   \n        for (let j = 0; j < code.length; j++) {\n            const pre_a = code[j].parentElement.querySelectorAll(\"a\");\n            for (const ele of pre_a) {\n                if (ele.classList.contains(\"copy-code\")) {\n                    ele.remove(); //\n                }\n            }\n            code[j].setAttribute('id', 'code-block-' + j);\n            code[j].insertAdjacentHTML('afterend', '<a class=\"copy-code\" href=\"javascript:\" data-clipboard-target=\"#code-block-' + j + '\" title=\"' + __(\"\") + '\"><i class=\"fa-regular fa-clipboard\"></i>');\n        }\n        if (_iro.ext_shared_lib) {\n            await importExternal('dist/clipboard.min.js', 'clipboard')\n            new ClipboardJS('.copy-code')\n        } else {\n            const ClipboardJS = (await import('clipboard')).default\n            new ClipboardJS('.copy-code');\n        }\n    }\n}\nfunction click_to_view_image() {\n    const comment_inline = document.getElementsByClassName('comment_inline_img');\n    if (!comment_inline.length) return;\n    document.getElementsByClassName(\"comments-main\")[0].addEventListener(\"click\", function (e) {\n        if (e.target.classList.contains(\"comment_inline_img\")) {\n            window.open(e.target.src);\n        }\n    })\n}\nfunction clean_upload_images() {\n    document.getElementById(\"upload-img-show\").innerHTML = '';\n}\nfunction original_emoji_click() {\n    const emoji = document.getElementsByClassName('emoji-item');\n    if (!emoji.length) return;\n    document.querySelector(\".menhera-container\").addEventListener(\"click\", function (e) {\n        if (e.target.classList.contains(\"emoji-item\")) {\n            grin(e.target.innerText, \"custom\", \"`\", \"` \");\n        }\n    })\n}\nfunction XCS() {\n    const __list = 'commentwrap';\n    const form = document.getElementById(\"commentform\")\n    if (form) {\n        let statusSubmitting = false\n        form.addEventListener('submit', function (event) {\n            event.stopPropagation()\n            event.preventDefault();\n            if (statusSubmitting) return\n            const butterBarRef = createButterbar(__(\"....\"), true)\n            const form = new FormData(this)\n            form.append('action', 'ajax_comment')\n            statusSubmitting = true\n            fetch(_iro.ajaxurl, {\n                method: this.attributes.method.value,\n                body: form\n            }).then(async resp => {\n                const data = await resp.text()\n                if (resp.ok) {\n                    Array.from(document.getElementsByTagName('textarea'))\n                        .forEach((e) => e.value = '')\n                    const cancel = document.getElementById('cancel-comment-reply-link'),\n                        temp = document.getElementById('wp-temp-form-div'),\n                        respond = document.getElementById(addComment.respondId),\n                        //post = document.getElementById('comment_post_ID').value,\n                        parent = document.getElementById('comment_parent').value;\n                    if (parent != '0') {\n                        //jQuery('#respond').before('<ol class=\"children\">' + data + '</ol>');\n                        document.getElementById(\"respond\").insertAdjacentHTML('beforebegin', '<ol class=\"children\">' + data + '</ol>');\n                    } else if (!document.getElementsByClassName(__list).length) {\n                        if (_iro.formpostion == 'bottom') {\n                            document.getElementById(\"respond\").insertAdjacentHTML('beforebegin', '<ol class=\"' + __list + '\">' + data + '</ol>');\n                            //jQuery('#respond').before('<ol class=\"' + __list + '\">' + data + '</ol>');\n                        } else {\n                            document.getElementById(\"respond\").insertAdjacentHTML('afterend', '<ol class=\"' + __list + '\">' + data + '</ol>');\n                            //jQuery('#respond').after('<ol class=\"' + __list + '\">' + data + '</ol>');\n                        }\n                    } else {\n                        if (_iro.order == 'asc') {\n                            document.getElementsByClassName(\"commentwrap\")[1].insertAdjacentHTML('beforeend', data);\n                            //jQuery('.' + __list).append(data);\n                        } else {\n                            document.getElementsByClassName(\"commentwrap\")[1].insertAdjacentHTML('afterbegin', data);\n                            //jQuery('.' + __list).prepend(data);\n                        }\n                    }\n                    createButterbar(__(\"\"));\n                    document.dispatchEvent(new CustomEvent('ajax_comment_complete',))\n                    cancel.style.display = 'none';\n                    cancel.onclick = null;\n                    document.getElementById('comment_parent').value = '0';\n                    if (temp && respond) {\n                        temp.parentNode.insertBefore(respond, temp);\n                        temp.remove();\n                        //temp.parentNode.removeChild(temp)\n                    }\n                } else {\n                    createButterbar(data || 'HTTP' + resp.status + ':' + resp.statusText);\n                }\n            }).catch(reason => {\n                createButterbar(reason);\n            }).finally(() => {\n                butterBarRef.remove()\n                statusSubmitting = false\n            })\n            /* jQuery.ajax({\n                url: _iro.ajaxurl,\n                data: jQuery(this).serialize() + \"&action=ajax_comment\",\n                type: jQuery(this).attr('method'),\n                beforeSend: createButterbar(\"(Commiting)....\"),\n                error: function (request) {\n                    var t = addComment;\n                    t.createButterbar(request.responseText);\n                },\n                success: function (data) {\n                    jQuery('textarea').each(function () {\n                        this.value = ''\n                    });\n                    var t = addComment,\n                        cancel = t.I('cancel-comment-reply-link'),\n                        temp = t.I('wp-temp-form-div'),\n                        respond = t.I(t.respondId),\n                        post = t.I('comment_post_ID').value,\n                        parent = t.I('comment_parent').value;\n                    if (parent != '0') {\n                        jQuery('#respond').before('<ol class=\"children\">' + data + '</ol>');\n                    } else if (!jQuery('.' + __list).length) {\n                        if (_iro.formpostion == 'bottom') {\n                            jQuery('#respond').before('<ol class=\"' + __list + '\">' + data + '</ol>');\n                        } else {\n                            jQuery('#respond').after('<ol class=\"' + __list + '\">' + data + '</ol>');\n                        }\n                    } else {\n                        if (_iro.order == 'asc') {\n                            jQuery('.' + __list).append(data);\n                        } else {\n                            jQuery('.' + __list).prepend(data);\n                        }\n                    }\n                    t.createButterbar(\"(Succeed)\");\n                    lazyload();\n                    code_highlight_style();\n                    click_to_view_image();\n                    clean_upload_images();\n                    cancel.style.display = 'none';\n                    cancel.onclick = null;\n                    t.I('comment_parent').value = '0';\n                    if (temp && respond) {\n                        temp.parentNode.insertBefore(respond, temp);\n                        temp.remove();\n                        //temp.parentNode.removeChild(temp)\n                    }\n                }\n            }); */\n        })\n    }\n}\n\nfunction XCP() {\n    document.body.addEventListener('click', function (e) {\n        if (e.target.parentNode == document.getElementById(\"comments-navi\") && e.target.nodeName.toLowerCase() == \"a\") {\n            e.preventDefault();\n            e.stopPropagation();\n            let _this = e.target,\n                path = _this.pathname,\n                _xhr = new XMLHttpRequest();\n            _xhr.open(\"GET\", _this.getAttribute('href'), true);\n            _xhr.responseType = \"document\";\n            _xhr.onloadstart = () => {\n                let comments_navi = document.getElementById(\"comments-navi\"),\n                    commentwrap = document.querySelector(\"ul.commentwrap\"),\n                    loading_comments = document.getElementById(\"loading-comments\"),\n                    comments_list = document.getElementById(\"comments-list-title\");\n                comments_navi.remove();\n                commentwrap.remove();\n                //comments_navi.parentNode.removeChild(comments_navi);\n                //commentwrap.parentNode.removeChild(commentwrap);\n                loading_comments.style.display = \"block\";\n                slideToggle(loading_comments, 500, \"show\");\n                window.scrollTo({\n                    top: comments_list.getBoundingClientRect().top + window.pageYOffset - comments_list.clientTop - 65,\n                    behavior: \"smooth\"\n                });\n            }\n            _xhr.onreadystatechange = function () {\n                if (_xhr.readyState == 4 && _xhr.status == 200) {\n                    let json = _xhr.response,\n                        result = json.querySelector(\"ul.commentwrap\"),\n                        nextlink = json.getElementById(\"comments-navi\"),\n                        loading_comments = document.getElementById(\"loading-comments\");\n                    slideToggle(loading_comments, 200, \"hide\");\n                    document.getElementById(\"loading-comments\").insertAdjacentHTML('afterend', result.outerHTML);\n                    document.querySelector(\"ul.commentwrap\").insertAdjacentHTML('afterend', nextlink.outerHTML);\n                    lazyload();\n                    if (window.gtag) {\n                        gtag('config', _iro.google_analytics_id, {\n                            'page_path': path\n                        });\n                    }\n                    code_highlight_style();\n                    click_to_view_image();\n                    let commentwrap = document.querySelector(\"ul.commentwrap\");\n                    window.scrollTo({\n                        top: commentwrap && (commentwrap.getBoundingClientRect().top + window.pageYOffset - commentwrap.clientTop - 200),\n                        behavior: \"smooth\"\n                    });\n                }\n            }\n            _xhr.send();\n        }\n    });\n}\nfunction sm() {\n    let sm = document.getElementsByClassName('sm'),\n        cm = document.querySelector(\".comments-main\");\n    if (!sm.length) return;\n    if (cm) {\n        cm.addEventListener(\"click\", function (e) {\n            if (e.target.classList.contains(\"comment-reply-link\")) {\n                e.preventDefault();\n                e.stopPropagation();\n                let data_commentid = e.target.getAttribute(\"data-commentid\");\n                addComment.moveForm(\"comment-\" + data_commentid, data_commentid, \"respond\", this.getAttribute(\"data-postid\"));\n            }\n        })\n        cm.addEventListener(\"click\", (e) => {\n            let list = e.target.parentNode;\n            if (list.classList.contains(\"sm\")) {\n                let msg = __(\"\");\n                if (confirm(msg) == true) {\n                    if (list.classList.contains('private_now')) {\n                        alert(__(''));\n                        return false;\n                    } else {\n                        list.classList.add('private_now');\n                        let idp = list.getAttribute(\"data-idp\"),\n                            actionp = list.getAttribute(\"data-actionp\"),\n                            rateHolderp = list.getElementsByClassName('has_set_private')[0];\n                        let ajax_data = \"action=siren_private&p_id=\" + idp + \"&p_action=\" + actionp;\n                        let request = new XMLHttpRequest();\n                        request.onreadystatechange = function () {\n                            if (this.readyState == 4 && this.status == 200) {\n                                rateHolderp.innerHTML = request.responseText;\n                            }\n                        };\n                        request.open('POST', _iro.ajaxurl, true);\n                        request.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n                        request.send(ajax_data);\n                        return false;\n                    }\n                }\n            }\n        })\n    }\n}\nfunction throttling(fn, wait, maxTimelong) {\n    let timeout = null,\n        startTime = Date.parse(new Date);\n    return function () {\n        if (timeout !== null) clearTimeout(timeout);\n        let curTime = Date.parse(new Date);\n        if (curTime - startTime >= maxTimelong) {\n            fn();\n            startTime = curTime;\n        } else {\n            timeout = setTimeout(fn, wait);\n        }\n    }\n}\nfunction resizeTOC() {\n    const toc_container = document.querySelector(\".toc-container\"),\n        sc = document.querySelector(\".site-content\")\n    if (toc_container && sc) {\n        const resize = () => {\n            toc_container.style.height = Math.min(sc.getBoundingClientRect()[\"height\"], document.documentElement.offsetHeight - toc_container.offsetTop) + \"px\";\n        }\n        resize()\n        //TODO:\n        window.addEventListener('resize', debounce(resize), { passive: true })\n        document.addEventListener('scroll', throttling(resize, 200, 1000))\n    }\n}\nfunction tableOfContentScroll(flag) {\n    if (document.body.clientWidth <= 1200) {\n        return;\n    } else if (!document.querySelector(\"div.have-toc\") && !document.querySelector(\"div.has-toc\")) {\n        let ele = document.getElementsByClassName(\"toc-container\")[0];\n        if (ele) {\n            ele.remove();\n            ele = null;\n        }\n    } else {\n        if (flag && document.getElementsByClassName('toc').length > 0) {\n            import('tocbot').then(({ default: tocbot }) => {\n                tocbot.init({\n                    tocSelector: '.toc',\n                    contentSelector: ['.entry-content', '.links'],\n                    headingSelector: 'h1,h2,h3,h4,h5',\n                    headingsOffset: heading_fix - window.innerHeight / 2,\n                    onClick: null\n                });\n            })\n            const heading_fix = _iro.entry_content_style == \"sakurairo\" ? (document.querySelector(\"article.type-post\") ? (document.querySelector(\"div.pattern-attachment\") ? -75 : 200) : 375) : window.innerHeight / 2;\n            const _els = document.querySelectorAll('.entry-content,.links');\n            const idSet = new Set()\n            let id = 1\n            for (let i = 0; i < _els.length; i++) {\n                let _el = _els[i].querySelectorAll('h1,h2,h3,h4,h5');\n                for (const title of _el) {\n                    const innerText = encodeURIComponent(title.innerText.replace(' ', '-'))\n                    if (idSet.has(innerText)) {\n                        title.id = \"toc-head-\" + id++;\n                    } else {\n                        title.id = innerText\n                        idSet.add(innerText)\n                    }\n                }\n            }\n        }\n    }\n}\n/**\n * \n */\nfunction attach_image() {\n    let cached = document.getElementsByClassName(\"insert-image-tips\")[0],\n        upload_img = document.getElementById('upload-img-file');\n    if (!upload_img) return;\n    upload_img.addEventListener(\"change\", (function () {\n        if (this.files.length > 10) {\n            createButterbar(__(\"10\"));\n            return 0;\n        }\n        for (let i = 0; i < this.files.length; i++) {\n            if (this.files[i].size >= 5242880) {\n                alert(_$('5 MB\\n\\n{0}\\n\\n~', this.files[i].name));\n                return;\n            }\n        }\n        for (let i = 0; i < this.files.length; i++) {\n            let f = this.files[i],\n                formData = new FormData(),\n                xhr = new XMLHttpRequest();\n            formData.append('cmt_img_file', f);\n            xhr.addEventListener('loadstart', function () {\n                cached.innerHTML = '<i class=\"fa-solid fa-circle-notch fa-spin\"></i>';\n                createButterbar(__(\"...\"));\n            });\n            xhr.open(\"POST\", buildAPI(_iro.api + 'sakura/v1/image/upload'), true);\n            xhr.send(formData);\n            xhr.onreadystatechange = function () {\n                if (xhr.readyState == 4 && (xhr.status == 200 || xhr.status == 304)) {\n                    cached.innerHTML = '<i class=\"fa-solid fa-check\"></i>';\n                    setTimeout(function () {\n                        cached.innerHTML = '<i class=\"fa-regular fa-image\"></i>';\n                    }, 1000);\n                    let res = JSON.parse(xhr.responseText);\n                    if (res.status == 200) {\n                        let get_the_url = res.proxy;\n                        document.getElementById(\"upload-img-show\").insertAdjacentHTML('afterend', '<img class=\"lazyload upload-image-preview\" src=\"' + _iro.loading_ph + '\" data-src=\"' + get_the_url + '\" onclick=\"window.open(\\'' + get_the_url + '\\')\" onerror=\"imgError(this)\" />');\n                        lazyload();\n                        createButterbar(__(\"~\"));\n                        grin(get_the_url, type = 'Img');\n                    } else {\n                        createButterbar(_$('\\n: {0}\\ncode: {1}\\n{2}', f.name, res.status, res.message), 3000)\n                    }\n                } else if (xhr.readyState == 4) {\n                    cached.innerHTML = '<i class=\"fa-regular fa-clock\" aria-hidden=\"true\" style=\"color:red\"></i>';\n                    alert(__(\".\"));\n                    setTimeout(function () {\n                        cached.innerHTML = '<i class=\"fa-regular fa-image\"></i>';\n                    }, 1000);\n                }\n            }\n        }\n    }));\n}\nfunction smileBoxToggle() {\n    let et = document.getElementById(\"emotion-toggle\");\n    et && et.addEventListener('click', function () {\n        document.querySelector('.emotion-toggle-off').classList.toggle(\"emotion-hide\");\n        document.querySelector('.emotion-toggle-on').classList.toggle(\"emotion-show\");\n        document.querySelector('.emotion-box').classList.toggle(\"emotion-box-show\");\n    })\n}\n/**\n * \n */\nfunction add_upload_tips() {\n    const form_submit = document.querySelector('.form-submit #submit');\n    if (form_submit == null) return;\n    if (!_iro.comment_upload_img) {\n        form_submit.style.width = '100%'\n        return\n    }\n    form_submit.insertAdjacentHTML('afterend', '<div class=\"insert-image-tips popup\"><i class=\"fa-regular fa-image\"></i><span class=\"insert-img-popuptext\" id=\"uploadTipPopup\"></span></div><input id=\"upload-img-file\" type=\"file\" accept=\"image/*\" multiple=\"multiple\" class=\"insert-image-button\">');\n    attach_image();\n\n    const file_submit = document.getElementById('upload-img-file'),\n        hover = document.getElementsByClassName('insert-image-tips')[0],\n        Tip = document.getElementById('uploadTipPopup');\n    if (!file_submit) return;\n    file_submit.addEventListener(\"mouseenter\", function () {\n        hover.classList.toggle('insert-image-tips-hover');\n        Tip.classList.toggle('show');\n    });\n    file_submit.addEventListener(\"mouseleave\", function () {\n        hover.classList.toggle('insert-image-tips-hover');\n        Tip.classList.toggle('show');\n    });\n}\nfunction addComtListener() {\n    document.querySelectorAll(\".comt-addsmilies\").forEach((e) => {\n        e.addEventListener(\"click\", () => {\n            if (e.stlye.display == \"block\") {\n                e.style.display = \"none\";\n            } else {\n                e.style.display = \"block\";\n            }\n        })\n    })\n    document.querySelectorAll(\".comt-smilies a\").forEach((e) => {\n        e.addEventListener(\"click\", () => {\n            e.parentNode.style.display = \"none\";\n        })\n    })\n}\nfunction afterAjaxCommentComplete() {\n    lazyload();\n/*     code_highlight_style();\n */    click_to_view_image();\n    clean_upload_images();\n}\n\n// #region LifeCycle\nfunction whilePopstate() {\n    article_attach()\n    sm()\n}\nfunction whileReady() {\n    article_attach()\n    XCS()\n    XCP()\n    getqqinfo()\n    add_upload_tips()\n    resizeTOC()\n}\nfunction whilePjaxComplete() {\n    try {\n        add_upload_tips()\n        article_attach()\n        load_bangumi();\n        tableOfContentScroll(true);\n        click_to_view_image()\n        getqqinfo()\n        sm()\n        original_emoji_click()\n        code_highlight_style()\n        smileBoxToggle()\n        XCS()\n        resizeTOC()\n    } catch (e) {\n        console.warn(e)\n    }\n}\nfunction whileLoaded() {\n    window.addEventListener('popstate', whilePopstate)\n    click_to_view_image()\n    code_highlight_style()\n    load_bangumi();\n    sm()\n    original_emoji_click()\n    smileBoxToggle()\n    tableOfContentScroll(true);\n    addComtListener()\n    document.addEventListener('ajax_comment_complete', afterAjaxCommentComplete)\n}\nwhileLoaded()\ndocument.addEventListener('pjax:complete', whilePjaxComplete)\nready(whileReady)\n//#endregion","var charenc = {\n  // UTF-8 encoding\n  utf8: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)));\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)));\n    }\n  },\n\n  // Binary encoding\n  bin: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      for (var bytes = [], i = 0; i < str.length; i++)\n        bytes.push(str.charCodeAt(i) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      for (var str = [], i = 0; i < bytes.length; i++)\n        str.push(String.fromCharCode(bytes[i]));\n      return str.join('');\n    }\n  }\n};\n\nmodule.exports = charenc;\n","(function() {\n  var base64map\n      = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n\n  crypt = {\n    // Bit-wise rotation left\n    rotl: function(n, b) {\n      return (n << b) | (n >>> (32 - b));\n    },\n\n    // Bit-wise rotation right\n    rotr: function(n, b) {\n      return (n << (32 - b)) | (n >>> b);\n    },\n\n    // Swap big-endian to little-endian and vice versa\n    endian: function(n) {\n      // If number given, swap endian\n      if (n.constructor == Number) {\n        return crypt.rotl(n, 8) & 0x00FF00FF | crypt.rotl(n, 24) & 0xFF00FF00;\n      }\n\n      // Else, assume array and swap all items\n      for (var i = 0; i < n.length; i++)\n        n[i] = crypt.endian(n[i]);\n      return n;\n    },\n\n    // Generate an array of any length of random bytes\n    randomBytes: function(n) {\n      for (var bytes = []; n > 0; n--)\n        bytes.push(Math.floor(Math.random() * 256));\n      return bytes;\n    },\n\n    // Convert a byte array to big-endian 32-bit words\n    bytesToWords: function(bytes) {\n      for (var words = [], i = 0, b = 0; i < bytes.length; i++, b += 8)\n        words[b >>> 5] |= bytes[i] << (24 - b % 32);\n      return words;\n    },\n\n    // Convert big-endian 32-bit words to a byte array\n    wordsToBytes: function(words) {\n      for (var bytes = [], b = 0; b < words.length * 32; b += 8)\n        bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a hex string\n    bytesToHex: function(bytes) {\n      for (var hex = [], i = 0; i < bytes.length; i++) {\n        hex.push((bytes[i] >>> 4).toString(16));\n        hex.push((bytes[i] & 0xF).toString(16));\n      }\n      return hex.join('');\n    },\n\n    // Convert a hex string to a byte array\n    hexToBytes: function(hex) {\n      for (var bytes = [], c = 0; c < hex.length; c += 2)\n        bytes.push(parseInt(hex.substr(c, 2), 16));\n      return bytes;\n    },\n\n    // Convert a byte array to a base-64 string\n    bytesToBase64: function(bytes) {\n      for (var base64 = [], i = 0; i < bytes.length; i += 3) {\n        var triplet = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n        for (var j = 0; j < 4; j++)\n          if (i * 8 + j * 6 <= bytes.length * 8)\n            base64.push(base64map.charAt((triplet >>> 6 * (3 - j)) & 0x3F));\n          else\n            base64.push('=');\n      }\n      return base64.join('');\n    },\n\n    // Convert a base-64 string to a byte array\n    base64ToBytes: function(base64) {\n      // Remove non-base-64 characters\n      base64 = base64.replace(/[^A-Z0-9+\\/]/ig, '');\n\n      for (var bytes = [], i = 0, imod4 = 0; i < base64.length;\n          imod4 = ++i % 4) {\n        if (imod4 == 0) continue;\n        bytes.push(((base64map.indexOf(base64.charAt(i - 1))\n            & (Math.pow(2, -2 * imod4 + 8) - 1)) << (imod4 * 2))\n            | (base64map.indexOf(base64.charAt(i)) >>> (6 - imod4 * 2)));\n      }\n      return bytes;\n    }\n  };\n\n  module.exports = crypt;\n})();\n","/*! loadCSS. [c]2020 Filament Group, Inc. MIT License */\n(function(w){\n\t\"use strict\";\n\t/* exported loadCSS */\n\tvar loadCSS = function( href, before, media, attributes ){\n\t\t// Arguments explained:\n\t\t// `href` [REQUIRED] is the URL for your CSS file.\n\t\t// `before` [OPTIONAL] is the element the script should use as a reference for injecting our stylesheet <link> before\n\t\t// By default, loadCSS attempts to inject the link after the last stylesheet or script in the DOM. However, you might desire a more specific location in your document.\n\t\t// `media` [OPTIONAL] is the media type or query of the stylesheet. By default it will be 'all'\n\t\t// `attributes` [OPTIONAL] is the Object of attribute name/attribute value pairs to set on the stylesheet's DOM Element.\n\t\tvar doc = w.document;\n\t\tvar ss = doc.createElement( \"link\" );\n\t\tvar ref;\n\t\tif( before ){\n\t\t\tref = before;\n\t\t}\n\t\telse {\n\t\t\tvar refs = ( doc.body || doc.getElementsByTagName( \"head\" )[ 0 ] ).childNodes;\n\t\t\tref = refs[ refs.length - 1];\n\t\t}\n\n\t\tvar sheets = doc.styleSheets;\n\t\t// Set any of the provided attributes to the stylesheet DOM Element.\n\t\tif( attributes ){\n\t\t\tfor( var attributeName in attributes ){\n\t\t\t\tif( attributes.hasOwnProperty( attributeName ) ){\n\t\t\t\t\tss.setAttribute( attributeName, attributes[attributeName] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tss.rel = \"stylesheet\";\n\t\tss.href = href;\n\t\t// temporarily set media to something inapplicable to ensure it'll fetch without blocking render\n\t\tss.media = \"only x\";\n\n\t\t// wait until body is defined before injecting link. This ensures a non-blocking load in IE11.\n\t\tfunction ready( cb ){\n\t\t\tif( doc.body ){\n\t\t\t\treturn cb();\n\t\t\t}\n\t\t\tsetTimeout(function(){\n\t\t\t\tready( cb );\n\t\t\t});\n\t\t}\n\t\t// Inject link\n\t\t\t// Note: the ternary preserves the existing behavior of \"before\" argument, but we could choose to change the argument to \"after\" in a later release and standardize on ref.nextSibling for all refs\n\t\t\t// Note: `insertBefore` is used instead of `appendChild`, for safety re: http://www.paulirish.com/2011/surefire-dom-element-insertion/\n\t\tready( function(){\n\t\t\tref.parentNode.insertBefore( ss, ( before ? ref : ref.nextSibling ) );\n\t\t});\n\t\t// A method (exposed on return object for external use) that mimics onload by polling document.styleSheets until it includes the new sheet.\n\t\tvar onloadcssdefined = function( cb ){\n\t\t\tvar resolvedHref = ss.href;\n\t\t\tvar i = sheets.length;\n\t\t\twhile( i-- ){\n\t\t\t\tif( sheets[ i ].href === resolvedHref ){\n\t\t\t\t\treturn cb();\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetTimeout(function() {\n\t\t\t\tonloadcssdefined( cb );\n\t\t\t});\n\t\t};\n\n\t\tfunction loadCB(){\n\t\t\tif( ss.addEventListener ){\n\t\t\t\tss.removeEventListener( \"load\", loadCB );\n\t\t\t}\n\t\t\tss.media = media || \"all\";\n\t\t}\n\n\t\t// once loaded, set link's media back to `all` so that the stylesheet applies once it loads\n\t\tif( ss.addEventListener ){\n\t\t\tss.addEventListener( \"load\", loadCB);\n\t\t}\n\t\tss.onloadcssdefined = onloadcssdefined;\n\t\tonloadcssdefined( loadCB );\n\t\treturn ss;\n\t};\n\t// commonjs\n\tif( typeof exports !== \"undefined\" ){\n\t\texports.loadCSS = loadCSS;\n\t}\n\telse {\n\t\tw.loadCSS = loadCSS;\n\t}\n}( typeof global !== \"undefined\" ? global : this ));\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n","(function(){\r\n  var crypt = require('crypt'),\r\n      utf8 = require('charenc').utf8,\r\n      isBuffer = require('is-buffer'),\r\n      bin = require('charenc').bin,\r\n\r\n  // The core\r\n  md5 = function (message, options) {\r\n    // Convert to byte array\r\n    if (message.constructor == String)\r\n      if (options && options.encoding === 'binary')\r\n        message = bin.stringToBytes(message);\r\n      else\r\n        message = utf8.stringToBytes(message);\r\n    else if (isBuffer(message))\r\n      message = Array.prototype.slice.call(message, 0);\r\n    else if (!Array.isArray(message) && message.constructor !== Uint8Array)\r\n      message = message.toString();\r\n    // else, assume byte array already\r\n\r\n    var m = crypt.bytesToWords(message),\r\n        l = message.length * 8,\r\n        a =  1732584193,\r\n        b = -271733879,\r\n        c = -1732584194,\r\n        d =  271733878;\r\n\r\n    // Swap endian\r\n    for (var i = 0; i < m.length; i++) {\r\n      m[i] = ((m[i] <<  8) | (m[i] >>> 24)) & 0x00FF00FF |\r\n             ((m[i] << 24) | (m[i] >>>  8)) & 0xFF00FF00;\r\n    }\r\n\r\n    // Padding\r\n    m[l >>> 5] |= 0x80 << (l % 32);\r\n    m[(((l + 64) >>> 9) << 4) + 14] = l;\r\n\r\n    // Method shortcuts\r\n    var FF = md5._ff,\r\n        GG = md5._gg,\r\n        HH = md5._hh,\r\n        II = md5._ii;\r\n\r\n    for (var i = 0; i < m.length; i += 16) {\r\n\r\n      var aa = a,\r\n          bb = b,\r\n          cc = c,\r\n          dd = d;\r\n\r\n      a = FF(a, b, c, d, m[i+ 0],  7, -680876936);\r\n      d = FF(d, a, b, c, m[i+ 1], 12, -389564586);\r\n      c = FF(c, d, a, b, m[i+ 2], 17,  606105819);\r\n      b = FF(b, c, d, a, m[i+ 3], 22, -1044525330);\r\n      a = FF(a, b, c, d, m[i+ 4],  7, -176418897);\r\n      d = FF(d, a, b, c, m[i+ 5], 12,  1200080426);\r\n      c = FF(c, d, a, b, m[i+ 6], 17, -1473231341);\r\n      b = FF(b, c, d, a, m[i+ 7], 22, -45705983);\r\n      a = FF(a, b, c, d, m[i+ 8],  7,  1770035416);\r\n      d = FF(d, a, b, c, m[i+ 9], 12, -1958414417);\r\n      c = FF(c, d, a, b, m[i+10], 17, -42063);\r\n      b = FF(b, c, d, a, m[i+11], 22, -1990404162);\r\n      a = FF(a, b, c, d, m[i+12],  7,  1804603682);\r\n      d = FF(d, a, b, c, m[i+13], 12, -40341101);\r\n      c = FF(c, d, a, b, m[i+14], 17, -1502002290);\r\n      b = FF(b, c, d, a, m[i+15], 22,  1236535329);\r\n\r\n      a = GG(a, b, c, d, m[i+ 1],  5, -165796510);\r\n      d = GG(d, a, b, c, m[i+ 6],  9, -1069501632);\r\n      c = GG(c, d, a, b, m[i+11], 14,  643717713);\r\n      b = GG(b, c, d, a, m[i+ 0], 20, -373897302);\r\n      a = GG(a, b, c, d, m[i+ 5],  5, -701558691);\r\n      d = GG(d, a, b, c, m[i+10],  9,  38016083);\r\n      c = GG(c, d, a, b, m[i+15], 14, -660478335);\r\n      b = GG(b, c, d, a, m[i+ 4], 20, -405537848);\r\n      a = GG(a, b, c, d, m[i+ 9],  5,  568446438);\r\n      d = GG(d, a, b, c, m[i+14],  9, -1019803690);\r\n      c = GG(c, d, a, b, m[i+ 3], 14, -187363961);\r\n      b = GG(b, c, d, a, m[i+ 8], 20,  1163531501);\r\n      a = GG(a, b, c, d, m[i+13],  5, -1444681467);\r\n      d = GG(d, a, b, c, m[i+ 2],  9, -51403784);\r\n      c = GG(c, d, a, b, m[i+ 7], 14,  1735328473);\r\n      b = GG(b, c, d, a, m[i+12], 20, -1926607734);\r\n\r\n      a = HH(a, b, c, d, m[i+ 5],  4, -378558);\r\n      d = HH(d, a, b, c, m[i+ 8], 11, -2022574463);\r\n      c = HH(c, d, a, b, m[i+11], 16,  1839030562);\r\n      b = HH(b, c, d, a, m[i+14], 23, -35309556);\r\n      a = HH(a, b, c, d, m[i+ 1],  4, -1530992060);\r\n      d = HH(d, a, b, c, m[i+ 4], 11,  1272893353);\r\n      c = HH(c, d, a, b, m[i+ 7], 16, -155497632);\r\n      b = HH(b, c, d, a, m[i+10], 23, -1094730640);\r\n      a = HH(a, b, c, d, m[i+13],  4,  681279174);\r\n      d = HH(d, a, b, c, m[i+ 0], 11, -358537222);\r\n      c = HH(c, d, a, b, m[i+ 3], 16, -722521979);\r\n      b = HH(b, c, d, a, m[i+ 6], 23,  76029189);\r\n      a = HH(a, b, c, d, m[i+ 9],  4, -640364487);\r\n      d = HH(d, a, b, c, m[i+12], 11, -421815835);\r\n      c = HH(c, d, a, b, m[i+15], 16,  530742520);\r\n      b = HH(b, c, d, a, m[i+ 2], 23, -995338651);\r\n\r\n      a = II(a, b, c, d, m[i+ 0],  6, -198630844);\r\n      d = II(d, a, b, c, m[i+ 7], 10,  1126891415);\r\n      c = II(c, d, a, b, m[i+14], 15, -1416354905);\r\n      b = II(b, c, d, a, m[i+ 5], 21, -57434055);\r\n      a = II(a, b, c, d, m[i+12],  6,  1700485571);\r\n      d = II(d, a, b, c, m[i+ 3], 10, -1894986606);\r\n      c = II(c, d, a, b, m[i+10], 15, -1051523);\r\n      b = II(b, c, d, a, m[i+ 1], 21, -2054922799);\r\n      a = II(a, b, c, d, m[i+ 8],  6,  1873313359);\r\n      d = II(d, a, b, c, m[i+15], 10, -30611744);\r\n      c = II(c, d, a, b, m[i+ 6], 15, -1560198380);\r\n      b = II(b, c, d, a, m[i+13], 21,  1309151649);\r\n      a = II(a, b, c, d, m[i+ 4],  6, -145523070);\r\n      d = II(d, a, b, c, m[i+11], 10, -1120210379);\r\n      c = II(c, d, a, b, m[i+ 2], 15,  718787259);\r\n      b = II(b, c, d, a, m[i+ 9], 21, -343485551);\r\n\r\n      a = (a + aa) >>> 0;\r\n      b = (b + bb) >>> 0;\r\n      c = (c + cc) >>> 0;\r\n      d = (d + dd) >>> 0;\r\n    }\r\n\r\n    return crypt.endian([a, b, c, d]);\r\n  };\r\n\r\n  // Auxiliary functions\r\n  md5._ff  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & c | ~b & d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._gg  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & d | c & ~d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._hh  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b ^ c ^ d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._ii  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (c ^ (b | ~d)) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n\r\n  // Package private blocksize\r\n  md5._blocksize = 16;\r\n  md5._digestsize = 16;\r\n\r\n  module.exports = function (message, options) {\r\n    if (message === undefined || message === null)\r\n      throw new Error('Illegal argument ' + message);\r\n\r\n    var digestbytes = crypt.wordsToBytes(md5(message, options));\r\n    return options && options.asBytes ? digestbytes :\r\n        options && options.asString ? bin.bytesToString(digestbytes) :\r\n        crypt.bytesToHex(digestbytes);\r\n  };\r\n\r\n})();\r\n","'use strict'\n\nvar messageIds = 0\n\nfunction onMessage (self, e) {\n  var message = e.data\n  if (!Array.isArray(message) || message.length < 2) {\n    // Ignore - this message is not for us.\n    return\n  }\n  var messageId = message[0]\n  var error = message[1]\n  var result = message[2]\n\n  var callback = self._callbacks[messageId]\n\n  if (!callback) {\n    // Ignore - user might have created multiple PromiseWorkers.\n    // This message is not for us.\n    return\n  }\n\n  delete self._callbacks[messageId]\n  callback(error, result)\n}\n\nfunction PromiseWorker (worker) {\n  var self = this\n  self._worker = worker\n  self._callbacks = {}\n\n  worker.addEventListener('message', function (e) {\n    onMessage(self, e)\n  })\n}\n\nPromiseWorker.prototype.postMessage = function (userMessage) {\n  var self = this\n  var messageId = messageIds++\n\n  var messageToSend = [messageId, userMessage]\n\n  return new Promise(function (resolve, reject) {\n    self._callbacks[messageId] = function (error, result) {\n      if (error) {\n        return reject(new Error(error.message))\n      }\n      resolve(result)\n    }\n\n    /* istanbul ignore if */\n    if (typeof self._worker.controller !== 'undefined') {\n      // service worker, use MessageChannels because e.source is broken in Chrome < 51:\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=543198\n      var channel = new MessageChannel()\n      channel.port1.onmessage = function (e) {\n        onMessage(self, e)\n      }\n      self._worker.controller.postMessage(messageToSend, [channel.port2])\n    } else {\n      // web worker\n      self._worker.postMessage(messageToSend)\n    }\n  })\n}\n\nmodule.exports = PromiseWorker\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + ({\"173\":\"lg-3\",\"558\":\"lg-8\",\"2018\":\"lg-2\",\"2453\":\"lg-11\",\"2478\":\"lg-6\",\"3321\":\"lg-12\",\"3388\":\"lg-1\",\"3637\":\"lg-5\",\"3730\":\"lg-9\",\"3963\":\"lg-0\",\"4441\":\"lg-10\",\"6440\":\"lg-4\",\"9868\":\"lg-7\"}[chunkId] || chunkId) + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".css\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && !scriptUrl) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","if (typeof document === \"undefined\") return;\nvar createStylesheet = (chunkId, fullhref, oldTag, resolve, reject) => {\n\tvar linkTag = document.createElement(\"link\");\n\n\tlinkTag.rel = \"stylesheet\";\n\tlinkTag.type = \"text/css\";\n\tvar onLinkComplete = (event) => {\n\t\t// avoid mem leaks.\n\t\tlinkTag.onerror = linkTag.onload = null;\n\t\tif (event.type === 'load') {\n\t\t\tresolve();\n\t\t} else {\n\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\tvar realHref = event && event.target && event.target.href || fullhref;\n\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + realHref + \")\");\n\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n\t\t\terr.type = errorType;\n\t\t\terr.request = realHref;\n\t\t\tif (linkTag.parentNode) linkTag.parentNode.removeChild(linkTag)\n\t\t\treject(err);\n\t\t}\n\t}\n\tlinkTag.onerror = linkTag.onload = onLinkComplete;\n\tlinkTag.href = fullhref;\n\n\tif (oldTag) {\n\t\toldTag.parentNode.insertBefore(linkTag, oldTag.nextSibling);\n\t} else {\n\t\tdocument.head.appendChild(linkTag);\n\t}\n\treturn linkTag;\n};\nvar findStylesheet = (href, fullhref) => {\n\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n\tfor(var i = 0; i < existingLinkTags.length; i++) {\n\t\tvar tag = existingLinkTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return tag;\n\t}\n\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n\tfor(var i = 0; i < existingStyleTags.length; i++) {\n\t\tvar tag = existingStyleTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\");\n\t\tif(dataHref === href || dataHref === fullhref) return tag;\n\t}\n};\nvar loadStylesheet = (chunkId) => {\n\treturn new Promise((resolve, reject) => {\n\t\tvar href = __webpack_require__.miniCssF(chunkId);\n\t\tvar fullhref = __webpack_require__.p + href;\n\t\tif(findStylesheet(href, fullhref)) return resolve();\n\t\tcreateStylesheet(chunkId, fullhref, null, resolve, reject);\n\t});\n}\n// object to store loaded CSS chunks\nvar installedCssChunks = {\n\t2143: 0\n};\n\n__webpack_require__.f.miniCss = (chunkId, promises) => {\n\tvar cssChunks = {\"272\":1,\"306\":1};\n\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n\t\tpromises.push(installedCssChunks[chunkId] = loadStylesheet(chunkId).then(() => {\n\t\t\tinstalledCssChunks[chunkId] = 0;\n\t\t}, (e) => {\n\t\t\tdelete installedCssChunks[chunkId];\n\t\t\tthrow e;\n\t\t}));\n\t}\n};\n\n// no hmr","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t2143: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(!/^(272|306)$/.test(chunkId)) {\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = globalThis[\"webpackChunksakurairo_scripts\"] = globalThis[\"webpackChunksakurairo_scripts\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [1920], () => (__webpack_require__(4180)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","leafPrototypes","getProto","inProgress","dataWebpackPrefix","exports","func","wait","timeout","debounced","args","clearTimeout","setTimeout","apply","this","clear","factory","modules","installedModules","moduleId","module","id","loaded","call","m","c","p","canvas","document","createElement","width","window","innerWidth","height","innerHeight","style","cssText","addEventListener","body","appendChild","context","getContext","particles","particlePointer","rendering","getRandom","min","max","Math","random","getColor","el","POWERMODE","colorful","u","getComputedStyle","color","createParticle","x","y","alpha","velocity","caret","bcr","activeElement","tagName","getAttribute","offset","selectionEnd","getBoundingClientRect","left","top","selection","getSelection","rangeCount","range","getRangeAt","startNode","startContainer","nodeType","TEXT_NODE","parentNode","getCaret","numParticles","round","shake","intensity","marginLeft","marginTop","requestAnimationFrame","loop","clearRect","rendered","rect","i","length","particle","globalAlpha","fillStyle","fillRect","properties","isFirefox","mozInnerScreenX","getCaretCoordinates","element","position","options","debug","querySelector","removeChild","div","computed","currentStyle","whiteSpace","nodeName","wordWrap","visibility","forEach","prop","scrollHeight","parseInt","overflowY","overflow","textContent","value","substring","replace","span","coordinates","offsetTop","offsetLeft","backgroundColor","defaults","src","srcset","selector","root","rootMargin","threshold","LazyLoad","constructor","elms","settings","querySelectorAll","init","obs","IntersectionObserver","load","self","entries","Array","prototype","entry","isIntersecting","unobserve","target","doLoad","image","observe","loadAndDestroy","destroy","toLowerCase","backgroundImage","disconnect","lazyload","images","_version_ctrl","_iro","cookie_version_control","UA","navigator","userAgent","uaMatches","from","matchAll","isSupported","checkList","_","name","version","parseFloat","Accept_Image","acceptList","Chrome","OPR","Firefox","Edg","Version","push","key","days","expires","Date","now","toUTCString","cookie","setCookie","reverse","join","getSupportedImageMimeList","txt","author_name","location","href","site_name","copytext","e","selectionText","toString","event","selectionTxt","preventDefault","htmlData","textData","clipboardData","setData","setClipboardText","createButterbar","__","add_copyright","clipboardCopyright","removeEventListener","promisifyRequest","request","Promise","resolve","reject","oncomplete","onsuccess","result","onabort","onerror","error","createStore","dbName","storeName","indexedDB","open","onupgradeneeded","createObjectStore","dbp","txMode","callback","then","db","transaction","objectStore","store","bgn","blob_url","async","nextBG","changeCoverBG","getCoverPath","preBG","centerbg","site_bg_as_cover","url","dispatchEvent","CustomEvent","detail","noop","parseCSSUrl","match","getCurrentBG","getAPIPath","useBGN","arguments","undefined","cover_api_url","URL","cover_api","isMobile","random_graphs_mts","searchParams","set","search","cache_cover","get","coverBG","ArrayBuffer","revokeObjectURL","createObjectURL","Blob","finally","resp","fetch","headers","Accept","status","json","message","console","warn","ok","buf","arrayBuffer","put","TypeError","delete","del","fetchThenCache","mediaQuery","matchMedia","inDarkMode","isInDarkMode","informDarkModeChange","nextValue","mediaQueryCallback","localStorage","getItem","matches","darkmode","turnOnDarkMode","turnOffDarkMode","saveUserSetting","ifDarkmodeShouldOn","removeItem","setItem","userTriggered","documentElement","getElementsByClassName","classList","add","remove","dm_strategy","today","getHours","checkTime","checkDarkModeSetting","dark","removeListener","addListener","btnSerif","btnSansSerif","change_font_listener","btn","dataset","setButtonState","loadFontSetting","nowFont","font_name","initFontControl","hitokoto","yiyan","getElementById","api_group","yiyan_api","api_path","innerText","res","api","data","from_who","cache_is_mobile","initIsMobileCache","refreshIsMobileCache","ev","showcard","img","button","Error","typedInstance","disableTypedJsIfExist","initTypedJs","JSON","parse","innerHTML","ext_shared_lib","Typed","importExternal","default","bgvideo","videoList","movies","split","unplayedIndex","fill","map","index","aplayersToResume","_getNextRandomVideo","nextIndex","floor","splice","getVideo","video_stu","fileName","bottom","setAttribute","origin","getFileNameMain","splay","video_btn","display","float_player_on","_ref","pauseAllPlayer","play","spause","pause","player","liveplay","oncanplay","livepause","coverVideo","contains","onended","click","video_add","coverVideoIni","videos","canPlayType","video","autoplay","Hls","reason","hls","loadSource","attachMedia","on","Events","MANIFEST_PARSED","initHLS","canPlayHandler","lazyloadPatch","poster","web_audio","audio","AudioContext","webkitAudioContext","dom","o","t","sheet","sakurairoGlobal","readSheetOption","selects","notes","ctx","listener","r","createOscillator","l","createGain","mainGain","connect","destination","gain","setValueAtTime","main_gain","currentTime","type","frequency","linearRampToValueAtTime","start","exponentialRampToValueAtTime","stop","d","h","pageX","pageY","zIndex","animate","opacity","duration","select","clearButterbar","butterBar","keep","STORAGE_KEY","CDN_LIST","currentCDNIndex","config","num","isNaN","getPreferCDNIndex","currentCDN","raw","resolvePath","relativePath","packageName","String","PKG_INFO","isServedByCurrentCDN","path","cdnMatchKey","ready","time","failedCounts","totalCounts","observer","PerformanceObserver","list","getEntries","transferSize","entryTypes","nextCDN","script","onload","append","defaultStr","_sakurairoi18n","_$","template","_len","replacements","_key","opt","build","BUILD_INFO","registerOnGlobal","Object","defineProperty","writable","enumerable","_sakurairo","readyFunctionList","onlyOnceATime","isRunning","whileReady","fn","readyState","slideToggle","mode","flag","transition","tagTimer","tagHeight","clientHeight","buildAPI","apiPath","params","nonce","mainContainer","toggle","close","QueryStorage","renderSearchResult","keyword","link","fa","title","iconfont","comments","text","s","trim","a","indexOf","b","slice","toUpperCase","query","B","w","F","G","D","E","queries","array","filter","v","values","some","RegExp","test","Cx","div_href","search_close","Ty","ele","jsSearchCallback","live_search","val","otxt","sessionStorage","catch","search_a","searchFlag","oninput","_mashiro_global_skin_secter","checkSkinSecter","pattern","headertop","changeSkin","tagId","bg_url","skin_bg0","skin_bg1","skin_bg2","skin_bg3","skin_bg4","bgButtonAddListener","next","pre","onclick","timeSeriesReload","archives","al_li","nextElementSibling","al_expand_collapse","cursor","getElementsByTagName","al_post_list","al_post_list_first","cb","child","al_expand_collapse_click","MN","iconflat","stopPropagation","MNH","auto_height","windowheight","minHeight","PE","blank","paddingTop","live","CE","comments_fold","comments_main","h3","handler","sc","js_search","loading","collapseMenu","show_Nav","sln","addSkinMenuListener","cached","tagid","parentElement","closeSkinMenu","checkBgImgSetting","checkCoverBackground","land_at_home","imgError","cmt_showPopup","popup","onblur","btn_playControl","paused","coverVideoMute","btn_volumeControl","muted","killCoverVideo","mail_me","email_name","email_domain","headertop_down","coverOffset","pageYOffset","scrollTo","behavior","channel","alias","A","C","D50","D55","D65","D75","F2","F7","F11","whitepoint","rgb","_xyz","white","g","z","pow","_prepare2DContext","_prepare2DContextAsync","OffscreenCanvas","xyz","_readImage","bind","prepareCtx","imgSource","naturalWidth","naturalHeight","drawImage","getImageData","readImageDownsampling","_readImageDownsampling","maxSample","scale","n_width","sqrt","n_height","worker","currentColor","updateThemeSkin","coverBGUrl","imgElement","crossOrigin","complete","awaitImage","postMessage","k","label","centroid","findIndex","_setColor","_updateThemeColor","getPropertyValue","hsla","hslaCSSText","color_css","meta","content","initEffect","effect","cfg","particlesJS","initParticle","delta","pjax","initPjax","secondary","show_hide","activate_widget","hash","tabIndex","focus","_ref2","aplayerInit","all","PromiseWorker","Worker","_ref3","bgUrl","changskin","close_SkinMenu","siteHeader","mb_to_top","common","scrollTop","transform","smallScreenHandler","skinMenu","recalcuScrollbar","largeScreenHandler","scrollHandler","XLS","preload","removed","removeScreen","preload_blur","backdropFilter","easing","onfinish","once","preload_screen","post_list_show_animation","log","about_us","load_post_timer","load_post","now_href","pagination_a","DOM","DOMParser","parseFromString","paga","paga_innerText","nextHref","main","dpga","addps","code_highlight_style","tempScrollTop","articles","io","article","willChange","XLS_Listener","intersectionRatio","_page_next","href_page_next","load_key","load_time","motionEles","motionSwitch","grin","tag","before","after","myField","sel","createRange","selectionStart","startPos","endPos","cursorPos","lightBoxCSS","article_attach","collapseButtons","collapseListener","collapse","baguetteBoxON","loadCSS","baguetteBox","run","captions","alt","ignoreClass","fancybox","jQuery","Function","$","lightGallery","initLightGallery","lightbox","MathJax","svg","fontCache","startup","typeset","chtml","fontURL","mathmlSpacing","math","get_gravatar","email","size","gravatar_url","MD5","getqqinfo","is_get_by_qq","i_author","i_qq","i_email","i_url","qq_check","gravatar_check","user_avatar_img","qzone_autocomplete","emailAddressFlag","qq","whileFailed","qq_api_url","avatar","emailAddress","URL_Address","user_name","AddComment","respondId","moveForm","commId","parentId","comm","respond","cancel","parent","insertBefore","nextSibling","temp","_respond","clientTop","LineNumbers","MatchBraces","CommandLine","PRISM_VERSION","attributes","gen_top_bar","code_a","children","lang","matchResult","className","hljs_click_callback","cloneElement","cloneNode","hljs_process","code","hljs","importHighlightjs","highlightElement","initLineNumbersOnLoad","PrismBaseUrl","code_highlight_prism","autoload_path","currentPrismThemeCSS","themeCSS","light","theme","theme_name","loadPrismCSS","darkmodeOn","nextCSSHref","nextCSSElement","prism_darkmode_callback","deattachPrismCallback","importPrismJS","Prism","plugins","autoloader","languages_path","bgmlistener","method","insertAdjacentHTML","load_bangumi","sections","_flag","code_highlight","loadLineNumber","loadMatchBraces","loadCommandLine","line_number_all","prompt","host","user","firstChild","fileHighlight","highlight","prism_process","j","pre_a","ClipboardJS","click_to_view_image","original_emoji_click","XCS","__list","form","statusSubmitting","butterBarRef","FormData","ajaxurl","addComment","order","formpostion","statusText","sm","cm","data_commentid","msg","confirm","alert","idp","actionp","rateHolderp","ajax_data","XMLHttpRequest","onreadystatechange","responseText","setRequestHeader","send","resizeTOC","toc_container","resize","offsetHeight","debounce","passive","maxTimelong","startTime","curTime","throttling","tableOfContentScroll","clientWidth","tocbot","tocSelector","contentSelector","headingSelector","headingsOffset","heading_fix","onClick","entry_content_style","_els","idSet","Set","_el","encodeURIComponent","has","smileBoxToggle","et","add_upload_tips","form_submit","comment_upload_img","upload_img","files","f","formData","xhr","get_the_url","proxy","loading_ph","attach_image","file_submit","hover","Tip","afterAjaxCommentComplete","whilePopstate","stlye","_this","pathname","_xhr","responseType","onloadstart","comments_navi","commentwrap","loading_comments","comments_list","response","nextlink","outerHTML","gtag","google_analytics_id","charenc","utf8","stringToBytes","str","bin","unescape","bytesToString","bytes","decodeURIComponent","escape","charCodeAt","fromCharCode","base64map","crypt","rotl","n","rotr","endian","Number","randomBytes","bytesToWords","words","wordsToBytes","bytesToHex","hex","hexToBytes","substr","bytesToBase64","base64","triplet","charAt","base64ToBytes","imod4","media","ref","doc","ss","refs","childNodes","sheets","styleSheets","attributeName","hasOwnProperty","rel","onloadcssdefined","resolvedHref","loadCB","isBuffer","obj","readFloatLE","isSlowBuffer","_isBuffer","md5","encoding","isArray","Uint8Array","FF","_ff","GG","_gg","HH","_hh","II","_ii","aa","bb","cc","dd","_blocksize","_digestsize","digestbytes","asBytes","asString","messageIds","onMessage","messageId","_callbacks","_worker","userMessage","messageToSend","controller","MessageChannel","port1","onmessage","port2","__webpack_module_cache__","__webpack_require__","cachedModule","__webpack_modules__","O","chunkIds","priority","notFulfilled","Infinity","fulfilled","keys","every","getter","__esModule","getPrototypeOf","ns","create","def","current","getOwnPropertyNames","definition","chunkId","reduce","promises","miniCssF","globalThis","done","needAttach","scripts","charset","nc","onScriptComplete","prev","doneFns","head","Symbol","toStringTag","scriptUrl","importScripts","currentScript","loadStylesheet","fullhref","existingLinkTags","dataHref","existingStyleTags","findStylesheet","oldTag","linkTag","errorType","realHref","err","createStylesheet","installedCssChunks","miniCss","baseURI","installedChunks","installedChunkData","promise","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","__webpack_exports__"],"sourceRoot":""}