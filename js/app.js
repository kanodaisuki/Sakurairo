/*! For license information please see app.js.LICENSE.txt */
(()=>{var e,t,n,o,r,a={3258:(e,t)=>{t.Z=function(e,t=166){let n;function o(...o){clearTimeout(n),n=setTimeout((()=>{e.apply(this,o)}),t)}return o.clear=()=>{clearTimeout(n)},o}},5213:function(e){var t;t=function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){var o=document.createElement("canvas");o.width=window.innerWidth,o.height=window.innerHeight,o.style.cssText="position:fixed;top:0;left:0;pointer-events:none;z-index:999999",window.addEventListener("resize",(function(){o.width=window.innerWidth,o.height=window.innerHeight})),document.body.appendChild(o);var r=o.getContext("2d"),a=[],i=0,s=!1;function c(e,t){return Math.random()*(t-e)+e}function l(e){if(u.colorful){var t=c(0,360);return"hsla("+c(t-10,t+10)+", 100%, "+c(50,80)+"%, 1)"}return window.getComputedStyle(e).color}function d(e,t,n){return{x:e,y:t,alpha:1,color:n,velocity:{x:2*Math.random()-1,y:2*Math.random()-3.5}}}function u(){for(var e=function(){var e,t=document.activeElement;if("TEXTAREA"===t.tagName||"INPUT"===t.tagName&&"text"===t.getAttribute("type")){var o=n(1)(t,t.selectionEnd);return e=t.getBoundingClientRect(),{x:o.left+e.left,y:o.top+e.top,color:l(t)}}var r=window.getSelection();if(r.rangeCount){var a=r.getRangeAt(0),i=a.startContainer;return i.nodeType===document.TEXT_NODE&&(i=i.parentNode),{x:(e=a.getBoundingClientRect()).left,y:e.top,color:l(i)}}return{x:0,y:0,color:"transparent"}}(),t=5+Math.round(10*Math.random());t--;)a[i]=d(e.x,e.y,e.color),i=(i+1)%500;if(u.shake){var o=1+2*Math.random(),r=o*(Math.random()>.5?-1:1),c=o*(Math.random()>.5?-1:1);document.body.style.marginLeft=r+"px",document.body.style.marginTop=c+"px",setTimeout((function(){document.body.style.marginLeft="",document.body.style.marginTop=""}),75)}s||requestAnimationFrame(m)}function m(){s=!0,r.clearRect(0,0,o.width,o.height);for(var e=!1,t=o.getBoundingClientRect(),n=0;n<a.length;++n){var i=a[n];i.alpha<=.1||(i.velocity.y+=.075,i.x+=i.velocity.x,i.y+=i.velocity.y,i.alpha*=.96,r.globalAlpha=i.alpha,r.fillStyle=i.color,r.fillRect(Math.round(i.x-1.5)-t.left,Math.round(i.y-1.5)-t.top,3,3),e=!0)}e?requestAnimationFrame(m):s=!1}u.shake=!0,u.colorful=!1,e.exports=u},function(e,t){!function(){var t=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],n=null!=window.mozInnerScreenX;function o(e,o,r){var a=r&&r.debug||!1;if(a){var i=document.querySelector("#input-textarea-caret-position-mirror-div");i&&i.parentNode.removeChild(i)}var s=document.createElement("div");s.id="input-textarea-caret-position-mirror-div",document.body.appendChild(s);var c=s.style,l=window.getComputedStyle?getComputedStyle(e):e.currentStyle;c.whiteSpace="pre-wrap","INPUT"!==e.nodeName&&(c.wordWrap="break-word"),c.position="absolute",a||(c.visibility="hidden"),t.forEach((function(e){c[e]=l[e]})),n?e.scrollHeight>parseInt(l.height)&&(c.overflowY="scroll"):c.overflow="hidden",s.textContent=e.value.substring(0,o),"INPUT"===e.nodeName&&(s.textContent=s.textContent.replace(/\s/g," "));var d=document.createElement("span");d.textContent=e.value.substring(o)||".",s.appendChild(d);var u={top:d.offsetTop+parseInt(l.borderTopWidth),left:d.offsetLeft+parseInt(l.borderLeftWidth)};return a?d.style.backgroundColor="#aaa":document.body.removeChild(s),u}void 0!==e&&void 0!==e.exports?e.exports=o:window.getCaretCoordinates=o}()}])},e.exports=t()},9324:(e,t,n)=>{n.d(t,{m:()=>a});const o={src:"data-src",srcset:"data-srcset",selector:".lazyload",root:null,rootMargin:"0px",threshold:0};class r{constructor(e,t){this.settings={...o,...t},this.elms=e||document.querySelectorAll(this.settings.selector),this.init()}elms;obs=null;settings;init(){if(!IntersectionObserver)return void this.load();const e=this;this.obs=new IntersectionObserver((function(t){Array.prototype.forEach.call(t,(function(t){t.isIntersecting&&(e.obs.unobserve(t.target),e.doLoad(t.target))}))}),{root:this.settings.root,rootMargin:this.settings.rootMargin,threshold:[this.settings.threshold]}),this.elms.forEach((t=>{e.obs.observe(t)}))}loadAndDestroy(){this.settings&&(this.load(),this.destroy())}load(){if(!this.settings)return;const{settings:e}=this;Array.prototype.forEach.call(this.elms,this.doLoad)}doLoad=e=>{const{settings:t}=this,n=e.getAttribute(t.src),o=e.getAttribute(t.srcset),r=e.tagName.toLowerCase();"video"===r?n&&(e.src=n):"img"===r?(n&&(e.src=n),o&&(e.srcset=o)):e.style.backgroundImage="url('"+n+"')"};destroy(){this.settings&&(this.obs.disconnect(),this.settings=null)}}const a=(e,t)=>new r(e,t)},4738:(e,t,n)=>{n.d(t,{U:()=>s,G:()=>i});n(7658);const o=_iro.cookie_version_control||"";const r=navigator.userAgent,a=Array.from(r.matchAll(/(Firefox|Chrome|Version|OPR|Edg)\/(\d+)/gi));function i(e){for(const[t,n,o]of a)if(parseFloat(o)>=e[n])return!0;return!1}const s=function(){const e=["image/*,*/*;q=0.8"];return i({Chrome:59,OPR:46,Firefox:3,Edg:79,Version:8})&&(e.push("image/apng"),i({Chrome:32,OPR:19,Firefox:65,Edg:18,Version:14})&&(!function(e,t,n){const r=n?"; expires="+new Date(Date.now()+24*n*60*60*1e3).toUTCString():"";document.cookie=e+o+"="+(t||"")+r+"; path=/"}("su_webp","1",114514),e.push("image/webp"),i({Chrome:85,OPR:71,Firefox:93})&&e.push("image/avif"))),e.reverse().join(",")}()},4639:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(1840),r=n(8465);const a=["# 商业转载请联系作者获得授权，非商业转载请注明出处。","# For commercial use, please contact the author for authorization. For non-commercial use, please indicate the source.","# 协议(License)：署名-非商业性使用-相同方式共享 4.0 国际 (CC BY-NC-SA 4.0)","# 作者(Author)："+_iro.author_name,"# 链接(URL)："+window.location.href,"# 来源(Source)："+_iro.site_name];function i(e){const t=window.getSelection();if(t){const n=t.toString();n.length>30&&(!function(e,t){e.preventDefault();const n=a.join("<br>")+"<br><br>"+t.replace(/\r\n/g,"<br>"),o=a.join("\n")+"\n\n"+t.toString().replace(/\r\n/g,"\n");if(e.clipboardData)e.clipboardData.setData("text/html",n),e.clipboardData.setData("text/plain",o);else if(window.clipboardData)window.clipboardData.setData("text",o)}(e,n),(0,o.f)((0,r.__)("复制成功！"),1e3))}}function s(){_iro.clipboardCopyright&&(document.body.removeEventListener("copy",i),document.body.addEventListener("copy",i))}},9700:(e,t,n)=>{n.d(t,{sk:()=>p,Rj:()=>w,U7:()=>v,k:()=>g,Tk:()=>f});n(2062);function o(e){return new Promise(((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)}))}function r(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=o(n);return(e,n)=>r.then((o=>n(o.transaction(t,e).objectStore(t))))}const a=r("sakurairo","cache");var i=n(4738),s=n(8465),c=n(9626),l=n(1840),d=n(965);let u=1,m="";async function g(){p(await w(!0)),u++}async function f(){u--,p(await w(!0))}const h=document.querySelector(".centerbg"),p=_iro.site_bg_as_cover?e=>{document.body.style.backgroundImage=`url(${e})`,document.dispatchEvent(new CustomEvent("coverBG_change",{detail:e}))}:h?e=>{h.style.backgroundImage=`url(${e})`,document.dispatchEvent(new CustomEvent("coverBG_change",{detail:e}))}:d.ZT;function y(e){const t=e?.match(/^url\("(.+)"\)$/);if(t)return t[1]}const v=_iro.site_bg_as_cover?()=>y(document.body.style.backgroundImage):h?()=>y(h.style.backgroundImage):d.ZT;function b(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=new URL(_iro.cover_api);return(0,c.t)()&&1==_iro.random_graphs_mts?(t.searchParams.set("type","mobile"),t.toString()+(e?"&"+u:"")):t.toString()+(e?(""===t.search?"?":"&")+u:"")}const w=_iro.cache_cover?function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t="cover",a("readonly",(e=>o(e.get(t))))).then((t=>t&&t instanceof ArrayBuffer?(URL.revokeObjectURL(m),m="",m=URL.createObjectURL(new Blob([t])),m):b(e))).finally((()=>{!async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{const t=await fetch(b(e),{headers:{Accept:i.U}});if(500==t.status){const e=await t.json();(0,l.f)(e.message),console.warn(e.message)}else if(t.ok){const e=await t.arrayBuffer();try{((e,t)=>{a("readwrite",(n=>(n.put(t,e),o(n.transaction))))})("cover",e)}catch(e){console.warn(e)}}}catch(e){e instanceof TypeError&&(console.warn((0,s.__)("你的封面API好像不支持跨域调用,这种情况下缓存是不会生效的哦")),(e=>{a("readwrite",(t=>(t.delete(e),o(t.transaction))))})("cover"))}}(e)}));var t}:b},3389:(e,t,n)=>{n.d(t,{B3:()=>l,Lg:()=>d,N2:()=>a,q1:()=>m});const o=window.matchMedia("(prefers-color-scheme:dark)");let r=!1;const a=()=>r;function i(e){e!==r&&(document.dispatchEvent(new CustomEvent("darkmode",{detail:e})),r=e)}function s(){localStorage.getItem("dark")||(o.matches&&_iro.darkmode?l():d())}function c(e){e==u()?localStorage.removeItem("dark"):1==e?localStorage.setItem("dark","1"):localStorage.setItem("dark","0")}function l(e){document.documentElement.style.backgroundColor="#333",document.getElementsByClassName("site-content")[0].style.backgroundColor="#333",document.body.classList.add("dark"),e&&c(!0),i(!0)}function d(e){document.documentElement.style.backgroundColor="",document.getElementsByClassName("site-content")[0].style.backgroundColor="rgba(255, 255, 255, .8)",document.body.classList.remove("dark"),document.body.classList.remove("dynamic"),i(!1),e&&c(!1)}function u(){switch(_iro.dm_strategy){case"client":return o.matches;case"eien":return!0;default:return function(){const e=new Date;return e.getHours()>21||e.getHours()<7}()}}function m(){const e=localStorage.getItem("dark");e?"1"==e?l():d():u()&&_iro.darkmode?l():d()}"client"===_iro.dm_strategy&&(o.removeEventListener?o.removeEventListener("change",s):o.removeListener(s),o.addEventListener?o.addEventListener("change",s):o.addListener(s))},2128:(e,t,n)=>{n.d(t,{T:()=>u,y:()=>l});var o=n(1840),r=n(8465),a=n(9626);let i,s;function c(e){return()=>{const{name:t}=e.dataset;t!=localStorage.getItem("font_family")&&("serif"==t?((0,a.t)()&&(0,o.f)((0,r.__)("将从网络加载字体，流量请注意")),document.body.classList.add("serif"),localStorage.setItem("font_family","serif"),d("serif")):(document.body.classList.remove("serif"),localStorage.setItem("font_family","sans-serif"),d("sans-serif")))}}function l(){const e=localStorage.getItem("font_family");e&&"serif"!=e||document.body.classList.add("serif")}function d(e){"sans-serif"===e||"sans-serif"==localStorage.getItem("font_family")?(i.classList.remove("selected"),s.classList.add("selected")):(s.classList.remove("selected"),i.classList.add("selected"))}function u(){const e=(i=document.getElementsByClassName("control-btn-serif")[0],s=document.getElementsByClassName("control-btn-sans-serif")[0],s&&i);e||localStorage.removeItem("font_family"),l(),e&&(d(),i.addEventListener("click",c(i)),s.addEventListener("click",c(s)))}},1082:(e,t,n)=>{async function o(){const e=document.getElementById("footer_yiyan");if(e){const t=_iro.yiyan_api||["https://api.maho.cc/yiyan/"];0==t.length&&console.warn("一言API: 路径为空");for(const n of t)try{const t=await r(n);e.innerText=t;break}catch(e){console.warn(`一言API: 尝试联系"${n}"时出错。 `,e);continue}}}n.d(t,{Z:()=>o});const r=async e=>{const t=await fetch(e,{headers:{Accept:"application/json"}});if(t.ok){const e=await t.json(),n=("null"==e.from_who?null:e.from_who)||"",o=e.from!=e.from_who?`「${e.from}」`:"";return e.hitokoto+"——"+n+o}throw t.status}},9626:(e,t,n)=>{n.d(t,{T:()=>r,t:()=>i});let o=!1;function r(){const e=window.matchMedia("(max-width:860px)");o=e.matches,e.addEventListener?e.addEventListener("change",a):e.addListener(a)}function a(e){o=e.matches}const i=()=>o},4959:(e,t,n)=>{function o(){for(const e of document.querySelectorAll(".showcard")){const t=e.querySelector(".img"),n=e.querySelector(".showcard-button");if(!t||!n)throw new Error("invalid structure for .showcard");t.addEventListener("mouseover",(function(){n.classList.add("hover")})),t.addEventListener("mouseout",(function(){n.classList.remove("hover")}))}}n.d(t,{Z:()=>o})},361:(e,t,n)=>{n.d(t,{Z:()=>i,d:()=>a});var o=n(6947);let r;function a(){r&&(r.destroy(),r=null)}async function i(){const e=document.getElementById("typed-js-initial");if(e)try{const t=JSON.parse(e.innerHTML),a=document.querySelector(".element");if(a.innerText="",_iro.ext_shared_lib)window.Typed||await(0,o.V)("dist/typed.umd.js","typed.js"),r=new window.Typed(a,t);else{const{default:e}=await n.e(9911).then(n.bind(n,9911));r=new e(a,t)}}catch(e){console.error("请检查typed.js设置",e)}}},7921:(e,t,n)=>{n.d(t,{$Q:()=>p,Ce:()=>f,MB:()=>h,ze:()=>y});n(2062);var o=n(965),r=n(8465),a=n(6947);const i=document.getElementById("bgvideo"),s=_iro.movies.name?.split(",")||[];let c=new Array(s.length).fill(0).map(((e,t)=>t)),l=[];const d=()=>{0==c.length&&(c=new Array(s.length).fill(0).map(((e,t)=>t)));const e=Math.floor(Math.random()*c.length);return s[c.splice(e,1)[0]]};function u(){const e=document.getElementsByClassName("video-stu")[0],t=d();e.innerHTML=(0,r.__)("正在载入视频 ..."),e.style.bottom="0px",i.setAttribute("src",new URL(t,_iro.movies.url||location.origin).toString()),i.setAttribute("video-name",(0,o.cG)(t))}function m(){const e=document.getElementById("video-btn");e&&(e.classList.add("video-pause"),e.classList.remove("video-play"),e.style.display="");try{if(document.querySelector(".video-stu").style.bottom="-100px",document.querySelector(".focusinfo").style.top="-999px",_iro.float_player_on)return void Promise.all([n.e(4255),n.e(306)]).then(n.bind(n,4255)).then((e=>{let{pauseAllPlayer:t}=e;l=t(),i.play()}))}catch(e){console.warn(e)}i.play()}function g(){const e=document.getElementById("video-btn");e&&(e.classList.add("video-play"),e.classList.remove("video-pause"));try{document.querySelector(".focusinfo").style.top="49.3%"}catch{}i.pause();for(const e of l)e.play()}function f(){i&&null!=i.oncanplay&&document.querySelector(".haslive")&&document.querySelector(".videolive")&&m()}function h(){if(i&&null!=i.oncanplay&&document.querySelector(".haslive")){g();const e=document.getElementsByClassName("video-stu")[0];e.style.bottom="0px",e.innerHTML=(0,r.__)("已暂停...")}}function p(){const e=document.getElementById("video-btn");e&&e.addEventListener("click",(function(){this.classList.contains("loadvideo")?(this.classList.add("video-pause"),this.classList.remove("loadvideo"),u(),i.oncanplay=()=>{m(),document.getElementById("video-add").style.display="block",e.classList.add("videolive","haslive")}):this.classList.contains("video-pause")?(g(),e.classList.remove("videolive"),document.getElementsByClassName("video-stu")[0].style.bottom="0px",document.getElementsByClassName("video-stu")[0].innerHTML=(0,r.__)("已暂停...")):(m(),e.classList.add("videolive")),i.onended=function(){i.setAttribute("src",""),document.getElementById("video-add").style.display="none",document.querySelector(".focusinfo").style.top="49.3%",e&&(e.classList.add("loadvideo"),e.classList.remove("video-pause","videolive","haslive"),_iro.movies.loop&&e.click())}}));const t=document.getElementById("video-add");t&&t.addEventListener("click",u)}async function y(){!async function(){const e=document.querySelectorAll("video.hls");if(0==e.length)return;if(e[0].canPlayType("application/vnd.apple.mpegurl"))for(const t of e)t.src=t.dataset.src||t.src,t.autoplay=!0;else{if(!window.Hls)try{if(_iro.ext_shared_lib)await(0,a.V)("dist/hls.light.min.js","hls.js");else{const{default:e}=await n.e(5990).then(n.t.bind(n,5990,23));window.Hls=e}}catch(e){console.warn("Hls load failed: ",e)}Hls.isSupported()||console.error("Hls: Media Source Extensions is unsupported.");for(const t of e){const e=new Hls;e.loadSource(t.dataset.src||t.src),e.attachMedia(t),e.on(Hls.Events.MANIFEST_PARSED,(()=>{t.play()}))}}}(),async function(){document.querySelectorAll("video.lazyload").forEach((e=>e.addEventListener("canplay",v)))}()}function v(){this.poster=""}},3085:(e,t,n)=>{n.d(t,{k:()=>r});var o=n(8465);function r(){if(!_iro.audio)return;const e=window.AudioContext||window.webkitAudioContext;if(e){let t,n=0;const r=1,i=function(){const e=o.o.opt.web_audio?.sheet;if("string"==typeof e)return e.split(" ");if(e instanceof Array)return e}()||a,s=document.querySelectorAll(".site-title, #moblieGoTop, .site-branding, .searchbox, .changeSkin-gear, .menu-list li"),c="♪ ♩ ♫ ♬ ♭ € § ¶ ♯".split(" "),l=new e,d=e=>{if(t)return;let a=i[n];a||(n=0,a=i[n]),n+=r;const s=l.createOscillator(),d=l.createGain(),u=l.createGain();s.connect(d),d.connect(u),u.connect(l.destination),u.gain.setValueAtTime(o.o.opt.web_audio?.main_gain||1,l.currentTime),s.type="sine",s.frequency.value=a,d.gain.setValueAtTime(0,l.currentTime),d.gain.linearRampToValueAtTime(1,l.currentTime+.01),s.start(l.currentTime),d.gain.exponentialRampToValueAtTime(.001,l.currentTime+1),s.stop(l.currentTime+1);const m=Math.round(7*Math.random()),g=e.pageX,f=e.pageY-5;t=document.createElement("b"),t.textContent=c[m],t.style.zIndex="99999",t.style.top=f-100+"px",t.style.left=g+"px",t.style.position="absolute",t.style.color="#FF6EB4",document.body.appendChild(t),t.animate([{top:f+"px"},{opacity:0}],{duration:500}),setTimeout((()=>{t.remove(),t=null}),500)};s.forEach((e=>{e.addEventListener("mouseenter",d)}))}}const a="880 987 1046 987 1046 1318 987 659 659 880 784 880 1046 784 659 659 698 659 698 1046 659 1046 1046 1046 987 698 698 987 987 880 987 1046 987 1046 1318 987 659 659 880 784 880 1046 784 659 698 1046 987 1046 1174 1174 1174 1046 1046 880 987 784 880 1046 1174 1318 1174 1318 1567 1046 987 1046 1318 1318 1174 784 784 880 1046 987 1174 1046 784 784 1396 1318 1174 659 1318 1046 1318 1760 1567 1567 1318 1174 1046 1046 1174 1046 1174 1567 1318 1318 1760 1567 1318 1174 1046 1046 1174 1046 1174 987 880 880 987 880".split(" ")},1840:(e,t,n)=>{function o(){const e=document.getElementsByClassName("butterBar");if(e.length>0)for(let t=0;t<e.length;t++)e[t].remove()}function r(e,t){o();const n=document.createElement("div"),r=document.createElement("p");return n.classList.add("butterBar","butterBar--center"),r.classList.add("butterBar-message"),r.innerHTML=e,n.appendChild(r),document.body.appendChild(n),!0!==t&&setTimeout((()=>{o()}),"number"==typeof t?t:6e3),n}n.d(t,{f:()=>r})},6947:(e,t,n)=>{n.d(t,{V:()=>d,i:()=>c});var o=n(965);const r="sakurairo_prefer_cdn",a=[["https://jsd.nmxc.ltd/npm/","@","/",""],["https://cdn.jsdelivr.net/npm/","@","/",""],["https://unpkg.com/","@","/",""]];const i=function(){const e=localStorage.getItem(r);if(e){const t=parseInt(e);return isNaN(t)||t>=a.length?(localStorage.removeItem(r),0):t}return 0}(),s={raw:a[i]},c=(e,t,n)=>String.raw(s,t,n||{"@fancyapps/fancybox":"3.5.7","@kotorik/palette":"2.1.0","@mui/utils":"5.12.3","@sliphua/pjax":"2.4.0","baguettebox.js":"1.11.1",buffer:"6.0.3","change-case":"4.1.2",clipboard:"2.0.11","color-space":"2.0.0","fg-loadcss":"3.1.0","highlight.js":"11.8.0","highlightjs-line-numbers.js":"2.8.0","hls.js":"1.4.3","idb-keyval":"6.2.1",jquery:"3.7.0",lightgallery:"2.7.1","lottie-web":"5.11.0",mathjax:"3.2.2",md5:"2.3.0",nprogress:"0.2.0","particles.js":"2.0.0",prismjs:"1.29.0","promise-worker":"2.0.1","smoothscroll-for-websites":"1.4.10","textarea-caret-position":"0.1.1",tocbot:"4.21.0","typed.js":"2.0.16"}[t]||"latest",e);function l(e){const t=a[i][0];if(e.match(t))return!0}(0,o.Cd)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e4,t=0,n=0;const o=new PerformanceObserver(((e,o)=>{for(const o of e.getEntries())if(l(o.name)){n++;const{transferSize:e}=o;0==e&&t++}}));o.observe({entryTypes:["resource"]}),setTimeout((()=>{if(o.disconnect(),t/n>.7){const e=i+1;localStorage.setItem(r,(e>=a.length?0:e).toString())}}),e)}));const d=(e,t,n)=>{const o=document.createElement("script");return o.src=c(e,t,n),o.async=!0,new Promise((e=>{o.onload=e,o.onerror=()=>{console.error(t,"加载失败")},document.body.append(o)})).finally((()=>{o.onload=o.onerror=null}))}},8465:(e,t,n)=>{n.d(t,{_$:()=>r,__:()=>o,o:()=>a,t:()=>i});const o=e=>window._sakurairoi18n&&_sakurairoi18n[e]||e,r=function(e){let t=o(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];for(const e in r)t=t.replace("{"+e+"}",r[e]);return t},a={opt:{},build:{hash:"34aeabe",date:"2023/11/6"}},i=(e,t)=>Object.defineProperty(a,e,{value:t,writable:!1,enumerable:!0});if("_sakurairo"in window){const e=window._sakurairo;"opt"in e&&(a.opt=e.opt)}window._sakurairo=a},965:(e,t,n)=>{n.d(t,{Cd:()=>i,NB:()=>r,ZT:()=>d,bf:()=>l,cG:()=>s,wy:()=>c});n(7658),n(2062);let o=[];const r=e=>{let t=!1;return function(){if(!t){t=!0;try{const n=e(...arguments);return n instanceof Promise?n.finally((()=>t=!1)):t=!1,n}catch(e){console.warn(e),t=!1}}}},a=()=>{document.removeEventListener("DOMContentLoaded",a);for(const e of o)e();o=[]},i=function(e){if("loading"!==document.readyState)return e();0==o.length&&document.addEventListener("DOMContentLoaded",a,!1),o.push(e)},s=e=>e.replace(/\.\w+$/,"");function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3?arguments[3]:void 0;const r=e;r.status=r.status||getComputedStyle(r,null).display;const a="none"!=r.status;1==a&&"show"==n||0==a&&"hide"==n||(r.status=a?"none":"block",r.style.transition="height "+t/1e3+"s",r.style.overflow="hidden",clearTimeout(r.tagTimer),r.tagTimer=r.tagTimer||null,r.style.display="block",r.tagHeight=r.tagHeight||r.clientHeight+"px",r.style.display="",r.style.height=a?r.tagHeight:"0px",setTimeout((()=>{r.style.height=a?"0px":r.tagHeight}),0),r.tagTimer=setTimeout((()=>{r.style.display=a?"none":"block",r.style.transition="",r.style.overflow="",r.style.height="",r.status=r.tagHeight=null}),t),o&&o())}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const o=new URL(e),{searchParams:r}=o;for(const[e,n]of Object.entries(t))r.set(e,n);return n&&r.set("_wpnonce",_iro.nonce),o.toString()}function d(){}},8014:(e,t,n)=>{n.d(t,{CE:()=>T,MN:()=>S,LP:()=>L,PE:()=>x,bp:()=>B,RD:()=>k,D9:()=>_,H5:()=>q,po:()=>C,nO:()=>b,Gl:()=>j,DH:()=>I,j6:()=>E});var o=n(9324),r=n(965),a=n(9700),i=n(9626);const s=document.getElementById("main-container");function c(){document.body.classList.toggle("navOpen"),s.classList.toggle("open"),document.getElementById("mo-nav").classList.toggle("open"),document.querySelector(".openNav").classList.toggle("open"),document.querySelector(".site-header").classList.toggle("open")}function l(){c(),document.documentElement.style.overflow="unset",s.removeEventListener("click",l)}var d=n(7921),u=n(8465);let m;function g(e,t,n,o,r,a,i){if(e){const t=e.trim().split(" "),n=o.indexOf(t[t.length-1]),r=i.indexOf(t[t.length-1]);o=(o=n<60?o.slice(0,80):o.slice(n-30,n+30)).replace(t[t.length-1],'<mark class="search-keyword"> '+t[t.length-1].toUpperCase()+" </mark>"),i=(i=r<60?i.slice(0,80):i.slice(r-30,r+30)).replace(t[t.length-1],'<mark class="search-keyword"> '+t[t.length-1].toUpperCase()+" </mark>")}return`<div class="ins-selectable ins-search-item" href="${t}"><header><i class="fa-solid ${n}" aria-hidden="true"></i>${o}<i class="fa-solid ${r}">${a}</i></header><p class="ins-search-preview">${i}</p></div>`}function f(e,t){let n="",o="",r="",a="",i="",s="";const c='<section class="ins-section"><header class="ins-section-header">',l="</section>",d="</header>",m=function(e,t){for(let e=0;e<t.length;e++)-1!=[".","?","*"].indexOf(t[e])&&(t=t.slice(0,e)+"\\"+t.slice(e),e++);return t=t.replace(t,"^(?=.*?"+t+").+$").replace(/\s/g,")(?=.*?"),e.filter((e=>Object.values(e).some((e=>new RegExp(t+"").test(e)))))}(e,t.trim());for(const e of m)switch(e.type){case"post":o+=g(t,e.link,"fa-inbox",e.title,"fa-comments",e.comments,e.text);break;case"tag":i+=g("",e.link,"fa-tag",e.title,"none","","");break;case"category":a+=g("",e.link,"fa-folder",e.title,"none","","");break;case"page":r+=g(t,e.link,"fa-file",e.title,"fa-comments",e.comments,e.text);break;case"comment":s+=g(t,e.link,"fa-comment",e.title,"none","",e.text)}o&&(n=n+c+(0,u.__)("文章")+d+o+l),r&&(n=n+c+(0,u.__)("页面")+d+r+l),a&&(n=n+c+(0,u.__)("分类")+d+a+l),i&&(n=n+c+(0,u.__)("标签")+d+i+l),s&&(n=n+c+(0,u.__)("评论")+d+s+l),document.getElementById("PostlistBox").innerHTML=n}function h(){const e=document.querySelector(".search_close"),t=document.getElementById("Ty");for(const n of document.getElementsByClassName("ins-selectable"))n.addEventListener("click",(()=>{t.href=n.getAttribute("href"),t.click(),e.click()}))}function p(){if(document.getElementsByClassName("js-toggle-search")[0].classList.toggle("is-active"),document.getElementsByClassName("js-search")[0].classList.toggle("is-visible"),document.documentElement.style.overflowY="hidden",_iro.live_search){m=[],function(e){const t=document.getElementById("search-input");null!=sessionStorage.getItem("search")?(m=JSON.parse(sessionStorage.getItem("search")),f(m,t.value),h()):fetch(e).then((async e=>{if(e.ok){const n=await e.text();""!=n&&(sessionStorage.setItem("search",n),m=JSON.parse(n),f(m,t.value),h())}else console.warn("HTTP "+e.status)})).catch((e=>console.warn(e)))}((0,r.bf)(_iro.api+"sakura/v1/cache_search/json"));let e=document.getElementById("search-input"),t=null;e.oninput=function(){null!=t&&clearTimeout(t),t=setTimeout((function(){f(m,e.value),h()}),250)}}}var y=n(3389),v=!0;function b(){if(!1===v){const e=document.querySelector(".pattern-center"),t=document.querySelector(".headertop-bar");e&&(e.classList.remove("pattern-center"),e.classList.add("pattern-center-sakura")),t&&(t.classList.remove("headertop-bar"),t.classList.add("headertop-bar-sakura"))}else{const e=document.querySelector(".pattern-center-sakura"),t=document.querySelector(".headertop-bar-sakura");e&&(e.classList.remove("pattern-center-sakura"),e.classList.add("pattern-center")),t&&(t.classList.remove("headertop-bar-sakura"),t.classList.add("headertop-bar"))}}async function w(e){let t;switch(v="white-bg"==e||"dark-bg"==e,b(),e){case"white-bg":if(_iro.site_bg_as_cover)return void(0,a.sk)(await(0,a.Rj)());t=_iro.skin_bg0;break;case"diy1-bg":t=_iro.skin_bg1;break;case"diy2-bg":t=_iro.skin_bg2;break;case"diy3-bg":t=_iro.skin_bg3;break;case"diy4-bg":t=_iro.skin_bg4}document.body.style.backgroundImage=t?`url(${t})`:""}function _(){const e=document.getElementById("bg-next"),t=document.getElementById("bg-pre");e&&(e.onclick=a.k),t&&(t.onclick=a.Tk)}function E(e){let t=document.getElementById("archives");if(null==t)return;let n=t.getElementsByClassName("al_mon");if(1==e)t.addEventListener("click",(e=>{e.target.classList.contains("al_mon")&&(e.preventDefault(),(0,r.wy)(e.target.nextElementSibling,500))})),(0,o.m)();else{let e=document.getElementById("al_expand_collapse");e.style.cursor="s-resize";for(let e=0;e<n.length;e++){let t=n[e],o=t.nextElementSibling.getElementsByTagName("li").length;t.style.cursor="s-resize",t.querySelector("#post-num").textContent=o}const o=t.getElementsByClassName("al_post_list"),a=o[0],s=()=>{(0,r.wy)(a,500,"show")};for(const e of o)(0,r.wy)(e,500,"hide",s);if(t.addEventListener("click",(e=>{e.target.classList.contains("al_mon")&&((0,r.wy)(e.target.nextElementSibling,500),e.preventDefault())})),!(0,i.t)()){for(let e=0;e<o.length;e++){let t=o[e];t.parentNode.addEventListener("mouseover",(()=>((0,r.wy)(t,500,"show"),!1)))}0;let t=0;e.addEventListener("click",(()=>{if(0==t){for(let e=0;e<o.length;e++){let t=o[e];(0,r.wy)(t,500,"show")}t++}else if(1==t){for(let e=0;e<o.length;e++){let t=o[e];(0,r.wy)(t,500,"hide")}t--}}))}}}function S(){const e=document.querySelector(".iconflat");e&&e.addEventListener("click",(e=>{e.stopPropagation(),document.body.classList.contains("navOpen")?l():(c(),document.documentElement.style.overflow="hidden",s.addEventListener("click",l))}))}function L(){document.body.classList.contains("navOpen")&&l()}function k(){if("auto"==_iro.windowheight){if(document.querySelector("h1.main-title")){const e=document.getElementById("centerbg"),t=document.getElementById("bgvideo");e&&(e.style.height="100vh"),t&&(t.style.minHeight="100vh")}}else{const e=document.querySelector(".headertop");e&&e.classList.add("headertop-bar")}}function x(){const e=document.querySelector(".headertop");if(e){let t=document.querySelector(".blank");if(document.querySelector(".main-title")){try{t.style.paddingTop="0px"}catch(e){}e.style.height="auto",e.style.display="",_iro.movies.live&&(0,d.Ce)()}else{try{t.style.paddingTop="75px"}catch(e){}e.style.height="0px",e.style.display="none",(0,d.MB)()}}}function T(){let e=document.querySelector(".comments-fold"),t=document.querySelector(".comments-main");null!=e&&(e.style.display="block",t.style.display="none",e.addEventListener("click",(()=>{(0,r.wy)(t,500,"show"),e.style.display="none"})));let n=document.getElementsByClassName("archives");if(n.length>0){for(let e=1;e<n.length;e++)n[e].style.display="none";n[0].style.display="";let e=document.getElementById("archives-temp").getElementsByTagName("h3");const t=e=>{e.preventDefault(),e.stopPropagation(),(0,r.wy)(e.target.nextElementSibling,300)};for(let n=0;n<e.length;n++)e[n].addEventListener("click",t)}for(const e of document.getElementsByClassName("js-toggle-search"))e.addEventListener("click",p);const o=document.querySelector(".search_close");o&&o.addEventListener("click",(()=>{let e=document.getElementsByClassName("js-search")[0];e.classList.contains("is-visible")&&(document.getElementsByClassName("js-toggle-search")[0].classList.toggle("is-active"),e.classList.toggle("is-visible"),document.documentElement.style.overflowY="unset")}));try{const e=document.getElementById("loading");e.addEventListener("click",(()=>{e.classList.add("hide"),e.classList.remove("show")}))}catch(e){}}function I(){const e=document.getElementById("show-nav");e&&e.addEventListener("click",(()=>{const t=document.querySelector(".site-top .lower nav");e.classList.contains("showNav")?(e.classList.remove("showNav"),e.classList.add("hideNav"),t&&t.classList.add("navbar")):(e.classList.remove("hideNav"),e.classList.add("showNav"),t&&t.classList.remove("navbar"))}))}function B(){const e=document.querySelectorAll(".menu-list li"),t=e=>{const t=e.target.id||e.target.parentElement.id;"dark-bg"==t?(0,y.B3)(!0):((0,y.Lg)(!0),w(t),localStorage.setItem("bgImgSetting",t)),j()};for(const n of e)n.addEventListener("click",t)}function q(){return w(localStorage.getItem("bgImgSetting")||"white-bg")}async function C(){_iro.site_bg_as_cover||_iro.land_at_home&&((0,a.U7)()||(0,a.sk)(await(0,a.Rj)()))}function j(){document.querySelector(".skin-menu").classList.remove("show"),setTimeout((()=>{const e=document.querySelector(".changeSkin-gear");null!=e&&(e.style.visibility="visible")}),300)}},8474:()=>{window.imgError=function(e,t){switch(t){case 1:e.src="https://s.nmxc.ltd/sakurairo_vision/@2.6/basic/friendlink.jpg";break;case 2:e.src="https://sdn.geekzu.org/avatar/?s=80&d=mm&r=g";break;default:e.src="https://s.nmxc.ltd/sakurairo_vision/@2.6/basic/image-404.png"}},window.cmt_showPopup=function(e){let t=e.querySelector("#thePopup");t.classList.add("show"),e.querySelector("input").onblur=()=>{t.classList.remove("show")}},window.coverVideo=function(){let e=document.getElementById("coverVideo"),t=document.getElementById("cv-pc");if(e.paused){e.play();try{t.innerHTML='<i class="fa-solid fa-pause"></i>'}catch{}}else{e.pause();try{t.innerHTML='<i class="fa-solid fa-play"></i>'}catch{}}},window.coverVideoMute=function(){const e=document.getElementById("coverVideo"),t=document.getElementById("cv-vc");e.muted?(e.muted=!1,t.innerHTML='<i class="fa-solid fa-volume-high"></i>'):(e.muted=!0,t.innerHTML='<i class="fa-solid fa-volume-off"></i>')},window.killCoverVideo=function(){var e=document.getElementById("coverVideo"),t=document.getElementById("cv-pc");if(e.paused);else{e.pause();try{t.innerHTML='<i class="fa-solid fa-play"></i>'}catch(e){}}},window.mail_me=function(){window.open("mailto:"+_iro.email_name+"@"+_iro.email_domain)},window.headertop_down=function(){let e=document.getElementById("content").getBoundingClientRect().top+window.pageYOffset;window.scrollTo({top:e,behavior:"smooth"})}},4180:(e,t,n)=>{var o=n(9700),r=n(4639),a=(n(8487),n(9324)),i=(n(8474),n(965));var s=n(4738),c=n(1082),l=n(3085),d=n(6101);n(2062),Math.max(499,491,487,503);const u={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};var m={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"],whitepoint:{2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}}};m.max=m.whitepoint[2].D65,m.rgb=function(e,t){t=t||m.whitepoint[2].E;var n,o,r,a=e[0]/t[0],i=e[1]/t[1],s=e[2]/t[2];return o=-.96924363628087*a+1.87596750150772*i+.041555057407175*s,r=.055630079696993*a+-.20397695888897*i+1.056971514242878*s,n=(n=3.240969941904521*a+-1.537383177570093*i+-.498610760293*s)>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o*=12.92,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r*=12.92,[255*(n=Math.min(Math.max(0,n),1)),255*(o=Math.min(Math.max(0,o),1)),255*(r=Math.min(Math.max(0,r),1))]},u.xyz=function(e,t){var n=e[0]/255,o=e[1]/255,r=e[2]/255,a=.21263900587151*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.71516867876775*(o=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92)+.072192315360733*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92),i=.019330818715591*n+.11919477979462*o+.95053215224966*r;return[(.41239079926595*n+.35758433938387*o+.18048078840183*r)*(t=t||m.whitepoint[2].E)[0],a*t[1],i*t[2]]};function g(e,t){const n=document.createElement("canvas"),o=n.getContext("2d");return n.height=t,n.width=e,o}function f(e,t){return new OffscreenCanvas(e,t).getContext("2d")}m.lab=function(e){var t=e[0],n=e[1],o=e[2];return n/=100,o/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(t-n),200*(n-(o=o>.008856?Math.pow(o,1/3):7.787*o+16/116))]};h.bind(void 0,g),h.bind(void 0,f);function h(e,t){const{naturalWidth:n,naturalHeight:o}=t,r=e(n,o);return r.drawImage(t,0,0,n,o),r.getImageData(0,0,n,o)}const p=y.bind(void 0,g);y.bind(void 0,f);function y(e,t,n){const{naturalWidth:o,naturalHeight:r}=t,a=o*r/n;if(a>1){const n=o/Math.sqrt(a),i=r/Math.sqrt(a),s=e(n,i);return s.drawImage(t,0,0,n,i),s.getImageData(0,0,n,i)}{const n=e(o,r);return n.drawImage(t,0,0),n.getImageData(0,0,o,r)}}var v=n(9905),b=n.n(v),w=n(3389);let _,E;async function S(e){try{const t=document.createElement("img");t.src=e,t.crossOrigin="anonymous",await function(e){return new Promise(((t,n)=>{e.complete?t():(e.addEventListener("load",(e=>{t(e)})),e.addEventListener("error",(e=>{n(e)})))}))}(t);const n=p(t,1e4),o=await _.postMessage({k:8,img:n}),{label:r,centroid:a}=o,i=Math.max(...r),s=r.findIndex((e=>e==i));E=a[s],L()}catch(e){console.error(e),k(getComputedStyle(document.documentElement).getPropertyValue("--theme-skin-matching"))}}function L(e){const t=u.hsl(E);(void 0===e?(0,w.N2)():e)&&(t[2]*=.5),k(function(e){let[t,n,o,r]=e;return r?"hsla("+t+"deg,"+n+"%,"+o+"%,"+r+")":"hsl("+t+"deg,"+n+"%,"+o+"%)"}(t))}function k(e){const t=document.querySelector("meta[name=theme-color]");t&&(t.content=e)}function x(){const{effect:e}=_iro;e&&("yuki"==e.type?n.e(5465).then(n.bind(n,9629)):n.e(4542).then(n.bind(n,4542))),async function(){const e=document.getElementById("particles-js-cfg");if(e)try{await n.e(7388).then(n.t.bind(n,7388,23)),particlesJS("particles-js",JSON.parse(e.innerHTML))}catch(e){console.error(e)}}()}u.hsl=function(e){var t,n,o=e[0]/255,r=e[1]/255,a=e[2]/255,i=Math.min(o,r,a),s=Math.max(o,r,a),c=s-i;return s===i?t=0:o===s?t=(r-a)/c:r===s?t=2+(a-o)/c:a===s&&(t=4+(o-r)/c),(t=Math.min(60*t,360))<0&&(t+=360),n=(i+s)/2,[t,100*(s===i?0:n<=.5?c/(s+i):c/(2-s-i)),100*n]};var T=n(9626),I=n(2128);var B=n(8014),q=n(361),C=n(4959),j=n(5213),M=n.n(j),A=n(7921);(0,T.T)(),_iro.pjax=_iro.pjax&&(0,s.G)({Firefox:60,Edg:79,Chrome:66,OPR:53,Version:12}),_iro.pjax&&n.e(1391).then(n.bind(n,1391)).then((e=>{let{default:t}=e;return t()})),(0,B.j6)(),(0,r.Z)(),setTimeout((function(){!function(){let e=document.getElementById("secondary");if((0,T.t)())e&&e.remove();else{let t=document.querySelector(".show-hide");t&&t.addEventListener("click",(()=>{e&&e.classList.toggle("active")}))}}()}),100),window.addEventListener("hashchange",(()=>{const e=location.hash.substring(1);if(!/^[A-z0-9_-]+$/.test(e))return;const t=document.getElementById(e);t&&(/^(?:a|select|input|button|textarea)$/i.test(t.tagName)||(t.tabIndex=-1),t.focus())}),!1),(0,w.q1)(),(0,i.Cd)((function(){_iro.float_player_on&&((0,T.t)()||Promise.all([n.e(4255),n.e(306)]).then(n.bind(n,4255)).then((e=>{let{aplayerInit:t}=e;return t()}))),_iro.land_at_home&&(0,q.Z)(),Promise.all([(0,B.po)(),(0,B.H5)()]).then((()=>{if((0,s.G)({Version:15})){_||(_=new(b())(new Worker(new URL(n.p+n.u(6800),n.b)))),document.addEventListener("coverBG_change",(e=>{let{detail:t}=e;return S(t)})),document.addEventListener("darkmode",(e=>{let{detail:t}=e;return L(t)}));const e=(0,o.U7)();e&&S(e)}})),(0,B.bp)();let e=document.querySelector("#changskin"),t=document.querySelector(".skin-menu #close-skinMenu");e&&e.addEventListener("click",(function(){document.querySelector(".skin-menu").classList.toggle("show")})),t&&t.addEventListener("click",B.Gl),function(){const e=document.querySelector(".site-header"),t=document.querySelector(".skin-menu"),n=document.querySelector("#changskin"),o=document.querySelector("#moblieGoTop"),r=t=>{t>0?e.classList.add("yya"):e.classList.remove("yya");const r=t>20?"scale(1)":"scale(0)";o.style.transform=r,n.style.transform=r};if((0,T.t)()){const e=()=>{const e=document.documentElement.scrollTop||document.body.scrollTop;t&&t.classList.remove("show"),r(e)};window.addEventListener("scroll",e)}else{const e=document.getElementById("bar"),n=n=>{const o=document.documentElement.scrollHeight||document.body.scrollHeight,r=Math.round(n/(o-window.innerHeight)*100);e.style.width=r+"%",t&&t.classList.remove("show")},o=()=>{const e=document.documentElement.scrollTop||document.body.scrollTop;n(e),r(e)};window.addEventListener("scroll",o)}}();const r=document.querySelector("#moblieGoTop");r&&(r.onclick=()=>{window.scrollTo({top:0,behavior:"smooth"})}),(0,d.A)(),(0,B.MN)(),(0,A.$Q)(),(0,c.Z)(),(0,B.D9)(),(0,I.T)(),(0,B.RD)(),(0,B.PE)(),(0,B.CE)(),(0,B.DH)(),(0,l.k)(),function(){const e=document.getElementById("preload");if(e){let t=!1;const n=()=>{if(!t){if(document.documentElement.style.overflowY="unset",0!=_iro.preload_blur)try{return void(e.animate([{filter:"blur(0px)",backdropFilter:"blur(10px)",opacity:1},{backdropFilter:"blur(0px)grayscale(0)",opacity:.1},{opacity:0,filter:"blur(100px)"}],{duration:_iro.preload_blur,fill:"forwards",easing:"ease"}).onfinish=()=>{e.remove()})}catch(e){console.warn(e)}e.classList.add("hide"),e.classList.remove("show"),t=!0,setTimeout((()=>e.remove()),233)}};if("complete"===document.readyState)return n();window.addEventListener("load",n,{once:!0}),setTimeout(n,3e3)}}(),(0,a.m)(),(0,C.Z)(),M().colorful=!0,M().shake=!1,document.body.addEventListener("input",M()),(0,d.O)(),(0,A.ze)(),(0,B.nO)(),x(),function(){const e="background: linear-gradient(to bottom right, #7b2a52, #36307f,#272151);color:#fff";console.log("%c Sakurairo %c https://github.com/mirai-mamori/Sakurairo",e,""),console.log("誰もが信じ崇めてる\nまさに最強で無敵のアイドル\n弱点なんて見当たらない\n一番星を宿している\n弱いとこなんて見せちゃダメダメ\n知りたくないとこは見せずに\n唯一無二じゃなくちゃイヤイヤ\nそれこそ%c本物のアイ%c\n%c ⌜IDOL⌟ ","color:#b424b8","",e)}()}))},6101:(e,t,n)=>{n.d(t,{A:()=>u,O:()=>l});var o=n(965),r=n(9324),a=n(8465),i=n(4954);let s;const c=(0,o.NB)((function(){const e=document.location.href,t=document.querySelector("#pagination a");t.classList.contains("loading")||(t.classList.add("loading"),t.innerText="",fetch(t.getAttribute("href")+"#main").then((async n=>{const o=await n.text();if(e!=document.location.href)return;const s=(new DOMParser).parseFromString(o,"text/html"),c=s.querySelectorAll("#main .post, #shuoshuo_post"),d=s.querySelector("#pagination a"),u=d&&d.innerText,m=d&&d.getAttribute("href"),g=document.getElementById("main");for(let e=0;e<c.length;e++)g.append(c[e]);const f=document.querySelector("#pagination a"),h=document.querySelector("#add_post span");if(f&&(f.classList.remove("loading"),f.innerText=u),h&&(h.classList.remove("loading"),h.innerText=""),(0,r.m)(),(0,i.U)(),l(),document.dispatchEvent(new CustomEvent("ajax_post_loaded")),null!=m){t.setAttribute("href",m);let e=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;window.scrollTo({top:e+300,behavior:"smooth"})}else document.getElementById("pagination").innerHTML="<span>"+(0,a.__)("很高兴你翻到这里，但是真的没有了...")+"</span>"})))}));function l(){const e=document.querySelectorAll("article.post-list-thumb");if(e){const t=new IntersectionObserver((e=>{e.forEach((e=>{e.target.classList.contains("post-list-show")?(e.target.style.willChange="auto",t.unobserve(e.target)):e.isIntersecting&&(e.target.classList.add("post-list-show"),e.target.style.willChange="auto",t.unobserve(e.target))}))}),{root:null,threshold:[.66]});for(const n of e)t.observe(n)}}function d(e){"pagination"==e.target.parentElement.id&&(e.preventDefault(),e.stopPropagation(),clearTimeout(s),c())}function u(){new IntersectionObserver((e=>{if(e[0].intersectionRatio<=0)return;const t=document.querySelector("#pagination a");if(t){const e=t.getAttribute("href"),n=document.getElementById("add_post_time");if(null!=e&&n){const e=n.title;"233"!=e&&(console.log("%c 自动加载时倒计时 %c","background:#9a9da2; color:#ffffff; border-radius:4px;","","",e),s=setTimeout(c,1e3*e))}}})).observe(document.querySelector(".footer-device")),document.body.removeEventListener("click",d),document.body.addEventListener("click",d)}},4689:()=>{const e=[".bili",".menhera",".tieba",".custom"];window.motionSwitch=function(t){for(let t=0;t<e.length;t++){let n=document.querySelector(e[t]+"-bar");null!==n&&(n.classList.remove("on-hover"),document.querySelector(e[t]+"-container").style.display="none")}document.querySelector(t+"-bar").classList.add("on-hover"),document.querySelector(t+"-container").style.display="flex"},window.grin=function(e,t,n,o){let r;switch(t){case"custom":e=n+e+o;break;case"Img":e="[img]"+e+"[/img]";break;case"Math":e=" {{"+e+"}} ";break;case"tieba":e=" ::"+e+":: ";break;default:e=" :"+e+": "}if(!document.getElementById("comment")||"textarea"!=document.getElementById("comment").type)return!1;if(r=document.getElementById("comment"),document.selection)r.focus(),sel=document.selection.createRange(),sel.text=e,r.focus();else if(r.selectionStart||"0"==r.selectionStart){let t=r.selectionStart,n=r.selectionEnd,o=n;r.value=r.value.substring(0,t)+e+r.value.substring(n,r.value.length),o+=e.length,r.focus(),r.selectionStart=o,r.selectionEnd=o}else r.value+=e,r.focus()}},4954:(e,t,n)=>{n.d(t,{U:()=>M});var o=n(8487),r=n(965),a=n(6947);let i;function s(){!function(){const e=document.getElementsByClassName("collapseButton");if(e.length>0){const t=e=>{(0,r.wy)(e.target.parentNode.parentNode.parentNode.querySelector(".xContent"))};for(const n of e)n.addEventListener("click",t)}}(),async function(){if(_iro.baguetteBoxON){i||(i=(0,o.loadCSS)((0,a.i)("dist/baguetteBox.min.css","baguettebox.js","1.11.1")));const{default:e}=await n.e(5731).then(n.t.bind(n,5731,23));e.run(".entry-content",{captions:function(e){return e.getElementsByTagName("img")[0].alt},ignoreClass:"fancybox"})}else if(_iro.fancybox){if(i||(i=(0,o.loadCSS)((0,a.i)("dist/jquery.fancybox.min.css","@fancyapps/fancybox","3.5.7"))),!(window.jQuery instanceof Function||window.$ instanceof Function))if(_iro.ext_shared_lib)(0,a.V)("dist/jquery.slim.min.js","jquery");else{const{default:e}=await n.e(9755).then(n.t.bind(n,9755,23));window.$=e,window.jQuery=e}_iro.ext_shared_lib?(0,a.V)("dist/jquery.fancybox.min.js","@fancyapps/fancybox"):n.e(4155).then(n.t.bind(n,4155,23))}else if(_iro.lightGallery){const{default:e}=await Promise.all([n.e(337),n.e(272)]).then(n.bind(n,337));e()}}(),async function(){document.getElementsByTagName("math").length>0&&("MathJax"in window||(window.MathJax={svg:{fontCache:"global"},startup:{typeset:!1},chtml:{fontURL:(0,a.i)("es5/output/chtml/fonts/woff-v2","mathjax","2.3.0"),mathmlSpacing:!0}}),await n.e(2490).then(n.t.bind(n,2490,23)),window.MathJax.typeset())}()}var c=n(9324),l=n(1840),d=(n(4689),n(2568)),u=n.n(d);const m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:80;return"https://"+_iro.gravatar_url+"/"+u()(e)+".jpg?s="+t+"&d=mm"};function g(){let e=!1;const t=document.querySelector("input#author"),n=document.querySelector("input#qq"),o=document.querySelector("input#email"),a=document.querySelector("input#url"),i=document.querySelector(".qq-check"),s=document.querySelector(".gravatar-check"),c=document.querySelector("div.comment-user-avatar img");if(null==t)return;localStorage.getItem("user_qq")||localStorage.getItem("user_qq_email")||localStorage.getItem("user_author")||(n.value=t.value=o.value=a.value=""),localStorage.getItem("user_avatar")&&localStorage.getItem("user_qq")&&localStorage.getItem("user_qq_email")&&(c.setAttribute("src",localStorage.getItem("user_avatar")),t.value=localStorage.getItem("user_author"),o.value=localStorage.getItem("user_qq")+"@qq.com",n.value=localStorage.getItem("user_qq"),_iro.qzone_autocomplete&&(a.value="https://user.qzone.qq.com/"+localStorage.getItem("user_qq")),n.value&&(i.style.display="block",s.style.display="none"));let l=o.value;t.addEventListener("blur",(()=>{const d=t.value;if(/^[1-9]\d{4,9}$/.test(d)){const u=()=>{n.value="",i.style.display="none",s.style.display="block",c.setAttribute("src",m(o.value,80)),localStorage.setItem("user_qq",""),localStorage.setItem("user_email",o.value),localStorage.setItem("user_avatar",m(o.value,80))};fetch((0,r.bf)(_iro.qq_api_url,{qq:d})).then((async r=>{if(r.ok)try{const u=await r.json();t.value=u.name,o.value=d.trim()+"@qq.com",_iro.qzone_autocomplete&&(a.value="https://user.qzone.qq.com/"+d.trim()),c.setAttribute("src","https://q2.qlogo.cn/headimg_dl?dst_uin="+d+"&spec=100"),e=!0,n.value=d.trim(),n.value&&(i.style.display="block",s.style.display="none"),localStorage.setItem("user_author",u.name),localStorage.setItem("user_qq",d),localStorage.setItem("is_user_qq","yes"),localStorage.setItem("user_qq_email",d+"@qq.com"),localStorage.setItem("user_email",d+"@qq.com"),l=o.value,c.setAttribute("src",u.avatar),localStorage.setItem("user_avatar",u.avatar)}catch(e){console.warn(e),u()}else u()}))}})),localStorage.getItem("user_avatar")&&localStorage.getItem("user_email")&&"no"==localStorage.getItem("is_user_qq")&&!localStorage.getItem("user_qq_email")&&(c.setAttribute("src",localStorage.getItem("user_avatar")),o.value=localStorage.getItem("user_mail"),n.value="",n.value||(i.style.display="none",s.style.display="block")),o.addEventListener("blur",(function(){let t=o.value;0!=e&&l==t||""==t||(c.setAttribute("src",m(t,80)),localStorage.setItem("user_avatar",m(t,80)),localStorage.setItem("user_email",t),localStorage.setItem("user_qq_email",""),localStorage.setItem("is_user_qq","no"),n.value="",n.value||(i.style.display="none",s.style.display="block"))})),localStorage.getItem("user_url")&&(a.value=localStorage.getItem("user_url")),a.addEventListener("blur",(function(){let e=a.value;a.value=e,localStorage.setItem("user_url",e)})),localStorage.getItem("user_author")&&(t.value=localStorage.getItem("user_author")),t.addEventListener("blur",(function(){let e=t.value;t.value=e,localStorage.setItem("user_author",e)}))}const f={respondId:"",moveForm:function(e,t,n){const o=document.getElementById(e),r=document.getElementById(n),a=document.getElementById("cancel-comment-reply-link"),i=document.getElementById("comment_parent");if(this.respondId=n,!document.getElementById("wp-temp-form-div")){const e=document.createElement("div");e.id="wp-temp-form-div",e.style.display="none",r.parentNode.insertBefore(e,r)}if(o)o.parentNode.insertBefore(r,o.nextSibling);else{const e=document.getElementById("wp-temp-form-div");document.getElementById("comment_parent").value="0",e.parentNode.insertBefore(r,e),e.remove()}const s=document.getElementById("respond");window.scrollTo({top:s.getBoundingClientRect().top+window.pageYOffset-s.clientTop-100,behavior:"smooth"}),i.value=t,a.style.display="",a.onclick=function(e){const t=f,n=document.getElementById("wp-temp-form-div"),o=document.getElementById(t.respondId);return document.getElementById("comment_parent").value="0",n&&o&&(n.parentNode.insertBefore(o,n),n.remove()),this.style.display="none",this.onclick=null,!1};try{document.getElementById("comment").focus()}catch(e){}return!1}},h=f;n(2062);var p=n(3389);window.LineNumbers=!1,window.MatchBraces=!1,window.CommandLine=!1;const y="1.29.0",v={autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",contenteditable:"false",design:"by Mashiro"};function b(e,t){if(!e.children[0])return;let n="text";const o=e.children[0].className.match(/language-(\w+)/i);o&&(n=o[1]),e.classList.add("highlight-wrap");for(const t in v)e.setAttribute(t,v[t]);t.setAttribute("data-rel",n.toUpperCase())}const w=e=>{const t=e.target;if(t.classList.contains("highlight-wrap")){if(t.classList.contains("code-block-fullscreen"))t.remove();else{const e=t.cloneNode(!0);e.classList.toggle("code-block-fullscreen"),document.body.append(e)}document.documentElement.classList.toggle("code-block-fullscreen-html-scroll")}};async function _(e,t){try{await async function(){try{window.hljs||(window.hljs=(await Promise.all([n.e(1857),n.e(8128),n.e(9980),n.e(49),n.e(9148),n.e(4930),n.e(9529),n.e(8420),n.e(5223),n.e(3302),n.e(587)]).then(n.bind(n,637))).default,await n.e(5241).then(n.t.bind(n,5241,23)))}catch(e){console.warn(e)}}();for(let e=0;e<t.length;e++)t[e].classList.contains("hljs")||hljs.highlightElement(t[e]);for(let n=0;n<e.length;n++)e[n].classList.contains("highlight-wrap")||b(e[n],t[n]);hljs.initLineNumbersOnLoad(),document.body.addEventListener("click",w)}catch(e){console.warn(e)}}const E=_iro.code_highlight_prism?.autoload_path||(0,a.i)("","prismjs",y);let S;const L=(()=>{const{light:e,dark:t}=_iro.code_highlight_prism?.theme||{},n={light:e||"themes/prism.min.css",dark:t||"themes/prism-tomorrow.min.css"};for(const e in n)n[e]=new URL(n[e],E).toString();return n})();function k(e){const t=e?L.dark:L.light;if(S){if(S.href!==t){const e=(0,o.loadCSS)(t);e.addEventListener("load",(()=>{S.remove(),S=e}))}}else S=(0,o.loadCSS)(t)}const x=e=>{k(e.detail)},T=()=>document.removeEventListener("darkmode",x);async function I(){try{window.Prism||(k((0,p.N2)()),document.addEventListener("darkmode",x),(0,o.loadCSS)(new URL("plugins/toolbar/prism-toolbar.min.css",E).toString()),(0,o.loadCSS)(new URL("plugins/previewers/prism-previewers.min.css",E).toString()),_iro.ext_shared_lib?await Promise.all([(0,a.V)("components/prism-core.min.js","prismjs",y),(0,a.V)("plugins/autoloader/prism-autoloader.min.js","prismjs",y),(0,a.V)("plugins/toolbar/prism-toolbar.min.js","prismjs",y),(0,a.V)("plugins/previewers/prism-previewers.min.js","prismjs",y),(0,a.V)("plugins/show-language/prism-show-language.min.js","prismjs",y)]):await n.e(3953).then(n.bind(n,3953)),Prism.plugins.autoloader.languages_path=new URL("components/",E).toString())}catch(e){console.warn(e)}}var B=n(8465);const q=e=>{const t=e.target;if(t===document.querySelector("#bangumi-pagination a")){if(e.preventDefault(),e.stopPropagation(),t.classList.contains("loading"))return;t.classList.add("loading"),t.textContent="",fetch(t.dataset.href+"&_wpnonce="+_iro.nonce,{method:"POST"}).then((async e=>{const t=await e.json();if(!e.ok)throw Error(`Error，Status：${e.status}`);document.getElementById("bangumi-pagination").remove(),document.querySelector(".row").insertAdjacentHTML("beforeend",t),(0,c.m)()})).catch((e=>{console.error(e),(0,l.f)(e),t.classList.remove("loading"),t.innerHTML='<i class="fa-solid fa-triangle-exclamation"></i> ERROR '}))}};function C(){const e=document.getElementsByTagName("section");let t=!1;for(let n=0;n<e.length;n++)if(e[n].classList.contains("bangumi")){t=!0;break}t&&document.addEventListener("click",q)}var j=n(3258);async function M(){const e=document.getElementsByTagName("pre"),t=document.querySelectorAll("pre code");if(!e.length)switch(_iro.code_highlight){case"hljs":return void document.body.removeEventListener("click",w);case"prism":return void T()}switch(_iro.code_highlight){case"hljs":await _(e,t);break;case"prism":await async function(e){try{let t=!1,r=!1,i=!1;_iro.code_highlight_prism.line_number_all&&(document.querySelector(".entry-content").classList.add("line-numbers"),t=!0);for(const n of e)n.parentElement.classList.contains("line-numbers")&&(t=!0),n.classList.contains("match-braces")&&(r=!0),(n.dataset.prompt||n.dataset.host||n.dataset.user)&&(i=!0);await Promise.all([I(),t&&!window.LineNumbers&&(window.LineNumbers=!0,(0,o.loadCSS)(new URL("plugins/line-numbers/prism-line-numbers.min.css",E).toString()),_iro.ext_shared_lib?(0,a.V)("plugins/line-numbers/prism-line-numbers.min.js","prismjs",y):n.e(8759).then(n.t.bind(n,8759,23))),r&&!window.MatchBraces&&(window.MatchBraces=!0,(0,o.loadCSS)(new URL("plugins/match-braces/prism-match-braces.min.css",E).toString()),_iro.ext_shared_lib?(0,a.V)("plugins/match-braces/prism-match-braces.min.js","prismjs",y):n.e(7873).then(n.t.bind(n,7873,23))),i&&!window.CommandLine&&(window.CommandLine=!0,(0,o.loadCSS)(new URL("plugins/command-line/prism-command-line.css",E).toString()),_iro.ext_shared_lib?(0,a.V)("plugins/command-line/prism-command-line.min.js","prismjs",y):n.e(3474).then(n.t.bind(n,3474,23)))]);for(const t of e)t.firstChild&&t.firstChild.classList&&t.firstChild.classList.contains("token")||Prism.highlightElement(t);Prism.plugins.fileHighlight&&Prism.plugins.fileHighlight.highlight()}catch(e){console.warn(e)}}(t);break;case"custom":return;default:console.warn(`_iro.code_highlight这咋填的是个${_iro.code_highlight}啊🤔`)}if(t.length>0){for(let e=0;e<t.length;e++){const n=t[e].parentElement.querySelectorAll("a");for(const e of n)e.classList.contains("copy-code")&&e.remove();t[e].setAttribute("id","code-block-"+e),t[e].insertAdjacentHTML("afterend",'<a class="copy-code" href="javascript:" data-clipboard-target="#code-block-'+e+'" title="'+(0,B.__)("拷贝代码")+'"><i class="fa-regular fa-clipboard"></i>')}if(_iro.ext_shared_lib)await(0,a.V)("dist/clipboard.min.js","clipboard"),new ClipboardJS(".copy-code");else{new(0,(await n.e(2152).then(n.t.bind(n,2152,23))).default)(".copy-code")}}}function A(){document.getElementsByClassName("comment_inline_img").length&&document.getElementsByClassName("comments-main")[0].addEventListener("click",(function(e){e.target.classList.contains("comment_inline_img")&&window.open(e.target.src)}))}function N(){document.getElementsByClassName("emoji-item").length&&document.querySelector(".menhera-container").addEventListener("click",(function(e){e.target.classList.contains("emoji-item")&&grin(e.target.innerText,"custom","`","` ")}))}function H(){const e="commentwrap",t=document.getElementById("commentform");if(t){let n=!1;t.addEventListener("submit",(function(t){if(t.stopPropagation(),t.preventDefault(),n)return;const o=(0,l.f)((0,B.__)("提交中...."),!0),r=new FormData(this);r.append("action","ajax_comment"),n=!0,fetch(_iro.ajaxurl,{method:this.attributes.method.value,body:r}).then((async t=>{const n=await t.text();if(t.ok){Array.from(document.getElementsByTagName("textarea")).forEach((e=>e.value=""));const t=document.getElementById("cancel-comment-reply-link"),o=document.getElementById("wp-temp-form-div"),r=document.getElementById(h.respondId);"0"!=document.getElementById("comment_parent").value?document.getElementById("respond").insertAdjacentHTML("beforebegin",'<ol class="children">'+n+"</ol>"):document.getElementsByClassName(e).length?"asc"==_iro.order?document.getElementsByClassName("commentwrap")[1].insertAdjacentHTML("beforeend",n):document.getElementsByClassName("commentwrap")[1].insertAdjacentHTML("afterbegin",n):"bottom"==_iro.formpostion?document.getElementById("respond").insertAdjacentHTML("beforebegin",'<ol class="'+e+'">'+n+"</ol>"):document.getElementById("respond").insertAdjacentHTML("afterend",'<ol class="'+e+'">'+n+"</ol>"),(0,l.f)((0,B.__)("提交成功")),document.dispatchEvent(new CustomEvent("ajax_comment_complete")),t.style.display="none",t.onclick=null,document.getElementById("comment_parent").value="0",o&&r&&(o.parentNode.insertBefore(r,o),o.remove())}else(0,l.f)(n||"HTTP"+t.status+":"+t.statusText)})).catch((e=>{(0,l.f)(e)})).finally((()=>{o.remove(),n=!1}))}))}}function O(){let e=document.getElementsByClassName("sm"),t=document.querySelector(".comments-main");e.length&&t&&(t.addEventListener("click",(function(e){if(e.target.classList.contains("comment-reply-link")){e.preventDefault(),e.stopPropagation();let t=e.target.getAttribute("data-commentid");h.moveForm("comment-"+t,t,"respond",this.getAttribute("data-postid"))}})),t.addEventListener("click",(e=>{let t=e.target.parentNode;if(t.classList.contains("sm")){let e=(0,B.__)("您真的要设为私密吗？");if(1==confirm(e)){if(t.classList.contains("private_now"))return alert((0,B.__)("您之前已设过私密评论")),!1;{t.classList.add("private_now");let e=t.getAttribute("data-idp"),n=t.getAttribute("data-actionp"),o=t.getElementsByClassName("has_set_private")[0],r="action=siren_private&p_id="+e+"&p_action="+n,a=new XMLHttpRequest;return a.onreadystatechange=function(){4==this.readyState&&200==this.status&&(o.innerHTML=a.responseText)},a.open("POST",_iro.ajaxurl,!0),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.send(r),!1}}}})))}function P(){const e=document.querySelector(".toc-container"),t=document.querySelector(".site-content");if(e&&t){const n=()=>{e.style.height=Math.min(t.getBoundingClientRect().height,document.documentElement.offsetHeight-e.offsetTop)+"px"};n(),window.addEventListener("resize",(0,j.Z)(n),{passive:!0}),document.addEventListener("scroll",function(e,t,n){let o=null,r=Date.parse(new Date);return function(){null!==o&&clearTimeout(o);let a=Date.parse(new Date);a-r>=n?(e(),r=a):o=setTimeout(e,t)}}(n,200,1e3))}}function R(e){if(!(document.body.clientWidth<=1200))if(document.querySelector("div.have-toc")||document.querySelector("div.has-toc")){if(e&&document.getElementsByClassName("toc").length>0){n.e(2866).then(n.t.bind(n,2866,23)).then((t=>{let{default:n}=t;n.init({tocSelector:".toc",contentSelector:[".entry-content",".links"],headingSelector:"h1,h2,h3,h4,h5",headingsOffset:e-window.innerHeight/2,onClick:null})}));const e="sakurairo"==_iro.entry_content_style?document.querySelector("article.type-post")?document.querySelector("div.pattern-attachment")?-75:200:375:window.innerHeight/2,t=document.querySelectorAll(".entry-content,.links"),o=new Set;let r=1;for(let e=0;e<t.length;e++){let n=t[e].querySelectorAll("h1,h2,h3,h4,h5");for(const e of n){const t=encodeURIComponent(e.innerText.replace(" ","-"));o.has(t)?e.id="toc-head-"+r++:(e.id=t,o.add(t))}}}}else{let e=document.getElementsByClassName("toc-container")[0];e&&(e.remove(),e=null)}}function D(){let e=document.getElementById("emotion-toggle");e&&e.addEventListener("click",(function(){document.querySelector(".emotion-toggle-off").classList.toggle("emotion-hide"),document.querySelector(".emotion-toggle-on").classList.toggle("emotion-show"),document.querySelector(".emotion-box").classList.toggle("emotion-box-show")}))}function U(){const e=document.querySelector(".form-submit #submit");if(null==e)return;if(!_iro.comment_upload_img)return void(e.style.width="100%");e.insertAdjacentHTML("afterend",'<div class="insert-image-tips popup"><i class="fa-regular fa-image"></i><span class="insert-img-popuptext" id="uploadTipPopup">上传图片</span></div><input id="upload-img-file" type="file" accept="image/*" multiple="multiple" class="insert-image-button">'),function(){let e=document.getElementsByClassName("insert-image-tips")[0],t=document.getElementById("upload-img-file");t&&t.addEventListener("change",(function(){if(this.files.length>10)return(0,l.f)((0,B.__)("每次上传上限为10张")),0;for(let e=0;e<this.files.length;e++)if(this.files[e].size>=5242880)return void alert((0,B._$)("图片上传大小限制为5 MB\n\n「{0}」\n\n这张图太大啦~请重新上传噢！",this.files[e].name));for(let t=0;t<this.files.length;t++){let n=this.files[t],o=new FormData,a=new XMLHttpRequest;o.append("cmt_img_file",n),a.addEventListener("loadstart",(function(){e.innerHTML='<i class="fa-solid fa-circle-notch fa-spin"></i>',(0,l.f)((0,B.__)("上传中..."))})),a.open("POST",(0,r.bf)(_iro.api+"sakura/v1/image/upload"),!0),a.send(o),a.onreadystatechange=function(){if(4!=a.readyState||200!=a.status&&304!=a.status)4==a.readyState&&(e.innerHTML='<i class="fa-regular fa-clock" aria-hidden="true" style="color:red"></i>',alert((0,B.__)("上传失败，请重试.")),setTimeout((function(){e.innerHTML='<i class="fa-regular fa-image"></i>'}),1e3));else{e.innerHTML='<i class="fa-solid fa-check"></i>',setTimeout((function(){e.innerHTML='<i class="fa-regular fa-image"></i>'}),1e3);let t=JSON.parse(a.responseText);if(200==t.status){let e=t.proxy;document.getElementById("upload-img-show").insertAdjacentHTML("afterend",'<img class="lazyload upload-image-preview" src="'+_iro.loading_ph+'" data-src="'+e+'" onclick="window.open(\''+e+'\')" onerror="imgError(this)" />'),(0,c.m)(),(0,l.f)((0,B.__)("图片上传成功~")),grin(e,type="Img")}else(0,l.f)((0,B._$)("上传失败！\n文件名: {0}\ncode: {1}\n{2}",n.name,t.status,t.message),3e3)}}}}))}();const t=document.getElementById("upload-img-file"),n=document.getElementsByClassName("insert-image-tips")[0],o=document.getElementById("uploadTipPopup");t&&(t.addEventListener("mouseenter",(function(){n.classList.toggle("insert-image-tips-hover"),o.classList.toggle("show")})),t.addEventListener("mouseleave",(function(){n.classList.toggle("insert-image-tips-hover"),o.classList.toggle("show")})))}function F(){(0,c.m)(),M(),A(),document.getElementById("upload-img-show").innerHTML=""}function z(){s(),O()}window.addEventListener("popstate",z),A(),M(),C(),O(),N(),D(),R(!0),document.querySelectorAll(".comt-addsmilies").forEach((e=>{e.addEventListener("click",(()=>{"block"==e.stlye.display?e.style.display="none":e.style.display="block"}))})),document.querySelectorAll(".comt-smilies a").forEach((e=>{e.addEventListener("click",(()=>{e.parentNode.style.display="none"}))})),document.addEventListener("ajax_comment_complete",F),document.addEventListener("pjax:complete",(function(){try{U(),s(),C(),R(!0),A(),g(),O(),N(),M(),D(),H(),P()}catch(e){console.warn(e)}})),(0,r.Cd)((function(){s(),H(),document.body.addEventListener("click",(function(e){if(e.target.parentNode==document.getElementById("comments-navi")&&"a"==e.target.nodeName.toLowerCase()){e.preventDefault(),e.stopPropagation();let t=e.target,n=t.pathname,o=new XMLHttpRequest;o.open("GET",t.getAttribute("href"),!0),o.responseType="document",o.onloadstart=()=>{let e=document.getElementById("comments-navi"),t=document.querySelector("ul.commentwrap"),n=document.getElementById("loading-comments"),o=document.getElementById("comments-list-title");e.remove(),t.remove(),n.style.display="block",(0,r.wy)(n,500,"show"),window.scrollTo({top:o.getBoundingClientRect().top+window.pageYOffset-o.clientTop-65,behavior:"smooth"})},o.onreadystatechange=function(){if(4==o.readyState&&200==o.status){let e=o.response,t=e.querySelector("ul.commentwrap"),a=e.getElementById("comments-navi"),i=document.getElementById("loading-comments");(0,r.wy)(i,200,"hide"),document.getElementById("loading-comments").insertAdjacentHTML("afterend",t.outerHTML),document.querySelector("ul.commentwrap").insertAdjacentHTML("afterend",a.outerHTML),(0,c.m)(),window.gtag&&gtag("config",_iro.google_analytics_id,{page_path:n}),M(),A();let s=document.querySelector("ul.commentwrap");window.scrollTo({top:s&&s.getBoundingClientRect().top+window.pageYOffset-s.clientTop-200,behavior:"smooth"})}},o.send()}})),g(),U(),P()}))},487:e=>{var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=t},1012:e=>{var t,n;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,o=0;n<e.length;n++,o+=8)t[o>>>5]|=e[n]<<24-o%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],o=0;o<e.length;o+=3)for(var r=e[o]<<16|e[o+1]<<8|e[o+2],a=0;a<4;a++)8*o+6*a<=8*e.length?n.push(t.charAt(r>>>6*(3-a)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],o=0,r=0;o<e.length;r=++o%4)0!=r&&n.push((t.indexOf(e.charAt(o-1))&Math.pow(2,-2*r+8)-1)<<2*r|t.indexOf(e.charAt(o))>>>6-2*r);return n}},e.exports=n},8487:function(e,t,n){var o;o=void 0!==n.g?n.g:this,t.loadCSS=function(e,t,n,r){var a,i=o.document,s=i.createElement("link");if(t)a=t;else{var c=(i.body||i.getElementsByTagName("head")[0]).childNodes;a=c[c.length-1]}var l=i.styleSheets;if(r)for(var d in r)r.hasOwnProperty(d)&&s.setAttribute(d,r[d]);s.rel="stylesheet",s.href=e,s.media="only x",function e(t){if(i.body)return t();setTimeout((function(){e(t)}))}((function(){a.parentNode.insertBefore(s,t?a:a.nextSibling)}));var u=function(e){for(var t=s.href,n=l.length;n--;)if(l[n].href===t)return e();setTimeout((function(){u(e)}))};function m(){s.addEventListener&&s.removeEventListener("load",m),s.media=n||"all"}return s.addEventListener&&s.addEventListener("load",m),s.onloadcssdefined=u,u(m),s}},8738:e=>{function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},2568:(e,t,n)=>{var o,r,a,i,s;o=n(1012),r=n(487).utf8,a=n(8738),i=n(487).bin,(s=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?i.stringToBytes(e):r.stringToBytes(e):a(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var n=o.bytesToWords(e),c=8*e.length,l=1732584193,d=-271733879,u=-1732584194,m=271733878,g=0;g<n.length;g++)n[g]=16711935&(n[g]<<8|n[g]>>>24)|4278255360&(n[g]<<24|n[g]>>>8);n[c>>>5]|=128<<c%32,n[14+(c+64>>>9<<4)]=c;var f=s._ff,h=s._gg,p=s._hh,y=s._ii;for(g=0;g<n.length;g+=16){var v=l,b=d,w=u,_=m;l=f(l,d,u,m,n[g+0],7,-680876936),m=f(m,l,d,u,n[g+1],12,-389564586),u=f(u,m,l,d,n[g+2],17,606105819),d=f(d,u,m,l,n[g+3],22,-1044525330),l=f(l,d,u,m,n[g+4],7,-176418897),m=f(m,l,d,u,n[g+5],12,1200080426),u=f(u,m,l,d,n[g+6],17,-1473231341),d=f(d,u,m,l,n[g+7],22,-45705983),l=f(l,d,u,m,n[g+8],7,1770035416),m=f(m,l,d,u,n[g+9],12,-1958414417),u=f(u,m,l,d,n[g+10],17,-42063),d=f(d,u,m,l,n[g+11],22,-1990404162),l=f(l,d,u,m,n[g+12],7,1804603682),m=f(m,l,d,u,n[g+13],12,-40341101),u=f(u,m,l,d,n[g+14],17,-1502002290),l=h(l,d=f(d,u,m,l,n[g+15],22,1236535329),u,m,n[g+1],5,-165796510),m=h(m,l,d,u,n[g+6],9,-1069501632),u=h(u,m,l,d,n[g+11],14,643717713),d=h(d,u,m,l,n[g+0],20,-373897302),l=h(l,d,u,m,n[g+5],5,-701558691),m=h(m,l,d,u,n[g+10],9,38016083),u=h(u,m,l,d,n[g+15],14,-660478335),d=h(d,u,m,l,n[g+4],20,-405537848),l=h(l,d,u,m,n[g+9],5,568446438),m=h(m,l,d,u,n[g+14],9,-1019803690),u=h(u,m,l,d,n[g+3],14,-187363961),d=h(d,u,m,l,n[g+8],20,1163531501),l=h(l,d,u,m,n[g+13],5,-1444681467),m=h(m,l,d,u,n[g+2],9,-51403784),u=h(u,m,l,d,n[g+7],14,1735328473),l=p(l,d=h(d,u,m,l,n[g+12],20,-1926607734),u,m,n[g+5],4,-378558),m=p(m,l,d,u,n[g+8],11,-2022574463),u=p(u,m,l,d,n[g+11],16,1839030562),d=p(d,u,m,l,n[g+14],23,-35309556),l=p(l,d,u,m,n[g+1],4,-1530992060),m=p(m,l,d,u,n[g+4],11,1272893353),u=p(u,m,l,d,n[g+7],16,-155497632),d=p(d,u,m,l,n[g+10],23,-1094730640),l=p(l,d,u,m,n[g+13],4,681279174),m=p(m,l,d,u,n[g+0],11,-358537222),u=p(u,m,l,d,n[g+3],16,-722521979),d=p(d,u,m,l,n[g+6],23,76029189),l=p(l,d,u,m,n[g+9],4,-640364487),m=p(m,l,d,u,n[g+12],11,-421815835),u=p(u,m,l,d,n[g+15],16,530742520),l=y(l,d=p(d,u,m,l,n[g+2],23,-995338651),u,m,n[g+0],6,-198630844),m=y(m,l,d,u,n[g+7],10,1126891415),u=y(u,m,l,d,n[g+14],15,-1416354905),d=y(d,u,m,l,n[g+5],21,-57434055),l=y(l,d,u,m,n[g+12],6,1700485571),m=y(m,l,d,u,n[g+3],10,-1894986606),u=y(u,m,l,d,n[g+10],15,-1051523),d=y(d,u,m,l,n[g+1],21,-2054922799),l=y(l,d,u,m,n[g+8],6,1873313359),m=y(m,l,d,u,n[g+15],10,-30611744),u=y(u,m,l,d,n[g+6],15,-1560198380),d=y(d,u,m,l,n[g+13],21,1309151649),l=y(l,d,u,m,n[g+4],6,-145523070),m=y(m,l,d,u,n[g+11],10,-1120210379),u=y(u,m,l,d,n[g+2],15,718787259),d=y(d,u,m,l,n[g+9],21,-343485551),l=l+v>>>0,d=d+b>>>0,u=u+w>>>0,m=m+_>>>0}return o.endian([l,d,u,m])})._ff=function(e,t,n,o,r,a,i){var s=e+(t&n|~t&o)+(r>>>0)+i;return(s<<a|s>>>32-a)+t},s._gg=function(e,t,n,o,r,a,i){var s=e+(t&o|n&~o)+(r>>>0)+i;return(s<<a|s>>>32-a)+t},s._hh=function(e,t,n,o,r,a,i){var s=e+(t^n^o)+(r>>>0)+i;return(s<<a|s>>>32-a)+t},s._ii=function(e,t,n,o,r,a,i){var s=e+(n^(t|~o))+(r>>>0)+i;return(s<<a|s>>>32-a)+t},s._blocksize=16,s._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var n=o.wordsToBytes(s(e,t));return t&&t.asBytes?n:t&&t.asString?i.bytesToString(n):o.bytesToHex(n)}},9905:e=>{var t=0;function n(e,t){var n=t.data;if(Array.isArray(n)&&!(n.length<2)){var o=n[0],r=n[1],a=n[2],i=e._callbacks[o];i&&(delete e._callbacks[o],i(r,a))}}function o(e){var t=this;t._worker=e,t._callbacks={},e.addEventListener("message",(function(e){n(t,e)}))}o.prototype.postMessage=function(e){var o=this,r=t++,a=[r,e];return new Promise((function(e,t){if(o._callbacks[r]=function(n,o){if(n)return t(new Error(n.message));e(o)},void 0!==o._worker.controller){var i=new MessageChannel;i.port1.onmessage=function(e){n(o,e)},o._worker.controller.postMessage(a,[i.port2])}else o._worker.postMessage(a)}))},e.exports=o}},i={};function s(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={exports:{}};return a[e].call(n.exports,n,n.exports,s),n.exports}s.m=a,e=[],s.O=(t,n,o,r)=>{if(!n){var a=1/0;for(d=0;d<e.length;d++){for(var[n,o,r]=e[d],i=!0,c=0;c<n.length;c++)(!1&r||a>=r)&&Object.keys(s.O).every((e=>s.O[e](n[c])))?n.splice(c--,1):(i=!1,r<a&&(a=r));if(i){e.splice(d--,1);var l=o();void 0!==l&&(t=l)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[n,o,r]},s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,s.t=function(e,o){if(1&o&&(e=this(e)),8&o)return e;if("object"==typeof e&&e){if(4&o&&e.__esModule)return e;if(16&o&&"function"==typeof e.then)return e}var r=Object.create(null);s.r(r);var a={};t=t||[null,n({}),n([]),n(n)];for(var i=2&o&&e;"object"==typeof i&&!~t.indexOf(i);i=n(i))Object.getOwnPropertyNames(i).forEach((t=>a[t]=()=>e[t]));return a.default=()=>e,s.d(r,a),r},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((t,n)=>(s.f[n](e,t),t)),[])),s.u=e=>(({173:"lg-3",558:"lg-8",2018:"lg-2",2453:"lg-11",2478:"lg-6",3321:"lg-12",3388:"lg-1",3637:"lg-5",3730:"lg-9",3963:"lg-0",4441:"lg-10",6440:"lg-4",9868:"lg-7"}[e]||e)+".js"),s.miniCssF=e=>e+".css",s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o={},r="sakurairo-scripts:",s.l=(e,t,n,a)=>{if(o[e])o[e].push(t);else{var i,c;if(void 0!==n)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var u=l[d];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==r+n){i=u;break}}i||(c=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,s.nc&&i.setAttribute("nonce",s.nc),i.setAttribute("data-webpack",r+n),i.src=e),o[e]=[t];var m=(t,n)=>{i.onerror=i.onload=null,clearTimeout(g);var r=o[e];if(delete o[e],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach((e=>e(n))),t)return t(n)},g=setTimeout(m.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=m.bind(null,i.onerror),i.onload=m.bind(null,i.onload),c&&document.head.appendChild(i)}},s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;s.g.importScripts&&(e=s.g.location+"");var t=s.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var o=n.length-1;o>-1&&!e;)e=n[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=e})(),(()=>{if("undefined"!=typeof document){var e=e=>new Promise(((t,n)=>{var o=s.miniCssF(e),r=s.p+o;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var r=(i=n[o]).getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(r===e||r===t))return i}var a=document.getElementsByTagName("style");for(o=0;o<a.length;o++){var i;if((r=(i=a[o]).getAttribute("data-href"))===e||r===t)return i}})(o,r))return t();((e,t,n,o,r)=>{var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",a.onerror=a.onload=n=>{if(a.onerror=a.onload=null,"load"===n.type)o();else{var i=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=i,c.request=s,a.parentNode&&a.parentNode.removeChild(a),r(c)}},a.href=t,n?n.parentNode.insertBefore(a,n.nextSibling):document.head.appendChild(a)})(e,r,null,t,n)})),t={2143:0};s.f.miniCss=(n,o)=>{t[n]?o.push(t[n]):0!==t[n]&&{272:1,306:1}[n]&&o.push(t[n]=e(n).then((()=>{t[n]=0}),(e=>{throw delete t[n],e})))}}})(),(()=>{s.b=document.baseURI||self.location.href;var e={2143:0};s.f.j=(t,n)=>{var o=s.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else if(/^(272|306)$/.test(t))e[t]=0;else{var r=new Promise(((n,r)=>o=e[t]=[n,r]));n.push(o[2]=r);var a=s.p+s.u(t),i=new Error;s.l(a,(n=>{if(s.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var r=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",i.name="ChunkLoadError",i.type=r,i.request=a,o[1](i)}}),"chunk-"+t,t)}},s.O.j=t=>0===e[t];var t=(t,n)=>{var o,r,[a,i,c]=n,l=0;if(a.some((t=>0!==e[t]))){for(o in i)s.o(i,o)&&(s.m[o]=i[o]);if(c)var d=c(s)}for(t&&t(n);l<a.length;l++)r=a[l],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(d)},n=globalThis.webpackChunksakurairo_scripts=globalThis.webpackChunksakurairo_scripts||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var c=s.O(void 0,[1920],(()=>s(4180)));c=s.O(c)})();
//# sourceMappingURL=app.js.map